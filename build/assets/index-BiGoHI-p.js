function XI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function ww(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tf={exports:{}},Sl={},Sf={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function JI(){if(Qy)return je;Qy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,x={};function k(U,J,Ae){this.props=U,this.context=J,this.refs=x,this.updater=Ae||b}k.prototype.isReactComponent={},k.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=k.prototype;function z(U,J,Ae){this.props=U,this.context=J,this.refs=x,this.updater=Ae||b}var q=z.prototype=new B;q.constructor=z,V(q,k.prototype),q.isPureReactComponent=!0;var Y=Array.isArray,Z=Object.prototype.hasOwnProperty,ae={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function C(U,J,Ae){var Ie,Oe={},ke=null,ce=null;if(J!=null)for(Ie in J.ref!==void 0&&(ce=J.ref),J.key!==void 0&&(ke=""+J.key),J)Z.call(J,Ie)&&!A.hasOwnProperty(Ie)&&(Oe[Ie]=J[Ie]);var we=arguments.length-2;if(we===1)Oe.children=Ae;else if(1<we){for(var Ve=Array(we),Me=0;Me<we;Me++)Ve[Me]=arguments[Me+2];Oe.children=Ve}if(U&&U.defaultProps)for(Ie in we=U.defaultProps,we)Oe[Ie]===void 0&&(Oe[Ie]=we[Ie]);return{$$typeof:n,type:U,key:ke,ref:ce,props:Oe,_owner:ae.current}}function P(U,J){return{$$typeof:n,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function O(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ae){return J[Ae]})}var L=/\/+/g;function R(U,J){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):J.toString(36)}function pe(U,J,Ae,Ie,Oe){var ke=typeof U;(ke==="undefined"||ke==="boolean")&&(U=null);var ce=!1;if(U===null)ce=!0;else switch(ke){case"string":case"number":ce=!0;break;case"object":switch(U.$$typeof){case n:case e:ce=!0}}if(ce)return ce=U,Oe=Oe(ce),U=Ie===""?"."+R(ce,0):Ie,Y(Oe)?(Ae="",U!=null&&(Ae=U.replace(L,"$&/")+"/"),pe(Oe,J,Ae,"",function(Me){return Me})):Oe!=null&&(M(Oe)&&(Oe=P(Oe,Ae+(!Oe.key||ce&&ce.key===Oe.key?"":(""+Oe.key).replace(L,"$&/")+"/")+U)),J.push(Oe)),1;if(ce=0,Ie=Ie===""?".":Ie+":",Y(U))for(var we=0;we<U.length;we++){ke=U[we];var Ve=Ie+R(ke,we);ce+=pe(ke,J,Ae,Ve,Oe)}else if(Ve=S(U),typeof Ve=="function")for(U=Ve.call(U),we=0;!(ke=U.next()).done;)ke=ke.value,Ve=Ie+R(ke,we++),ce+=pe(ke,J,Ae,Ve,Oe);else if(ke==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ce}function Pe(U,J,Ae){if(U==null)return U;var Ie=[],Oe=0;return pe(U,Ie,"","",function(ke){return J.call(Ae,ke,Oe++)}),Ie}function _e(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(Ae){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ae)},function(Ae){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ae)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var ye={current:null},Q={transition:null},se={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Q,ReactCurrentOwner:ae};function oe(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Pe,forEach:function(U,J,Ae){Pe(U,function(){J.apply(this,arguments)},Ae)},count:function(U){var J=0;return Pe(U,function(){J++}),J},toArray:function(U){return Pe(U,function(J){return J})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},je.Component=k,je.Fragment=t,je.Profiler=o,je.PureComponent=z,je.StrictMode=i,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,je.act=oe,je.cloneElement=function(U,J,Ae){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ie=V({},U.props),Oe=U.key,ke=U.ref,ce=U._owner;if(J!=null){if(J.ref!==void 0&&(ke=J.ref,ce=ae.current),J.key!==void 0&&(Oe=""+J.key),U.type&&U.type.defaultProps)var we=U.type.defaultProps;for(Ve in J)Z.call(J,Ve)&&!A.hasOwnProperty(Ve)&&(Ie[Ve]=J[Ve]===void 0&&we!==void 0?we[Ve]:J[Ve])}var Ve=arguments.length-2;if(Ve===1)Ie.children=Ae;else if(1<Ve){we=Array(Ve);for(var Me=0;Me<Ve;Me++)we[Me]=arguments[Me+2];Ie.children=we}return{$$typeof:n,type:U.type,key:Oe,ref:ke,props:Ie,_owner:ce}},je.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},je.createElement=C,je.createFactory=function(U){var J=C.bind(null,U);return J.type=U,J},je.createRef=function(){return{current:null}},je.forwardRef=function(U){return{$$typeof:h,render:U}},je.isValidElement=M,je.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:_e}},je.memo=function(U,J){return{$$typeof:m,type:U,compare:J===void 0?null:J}},je.startTransition=function(U){var J=Q.transition;Q.transition={};try{U()}finally{Q.transition=J}},je.unstable_act=oe,je.useCallback=function(U,J){return ye.current.useCallback(U,J)},je.useContext=function(U){return ye.current.useContext(U)},je.useDebugValue=function(){},je.useDeferredValue=function(U){return ye.current.useDeferredValue(U)},je.useEffect=function(U,J){return ye.current.useEffect(U,J)},je.useId=function(){return ye.current.useId()},je.useImperativeHandle=function(U,J,Ae){return ye.current.useImperativeHandle(U,J,Ae)},je.useInsertionEffect=function(U,J){return ye.current.useInsertionEffect(U,J)},je.useLayoutEffect=function(U,J){return ye.current.useLayoutEffect(U,J)},je.useMemo=function(U,J){return ye.current.useMemo(U,J)},je.useReducer=function(U,J,Ae){return ye.current.useReducer(U,J,Ae)},je.useRef=function(U){return ye.current.useRef(U)},je.useState=function(U){return ye.current.useState(U)},je.useSyncExternalStore=function(U,J,Ae){return ye.current.useSyncExternalStore(U,J,Ae)},je.useTransition=function(){return ye.current.useTransition()},je.version="18.3.1",je}var Yy;function Vp(){return Yy||(Yy=1,Sf.exports=JI()),Sf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function ZI(){if(Xy)return Sl;Xy=1;var n=Vp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var _,E={},S=null,b=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(b=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:h,key:S,ref:b,props:E,_owner:o.current}}return Sl.Fragment=t,Sl.jsx=c,Sl.jsxs=c,Sl}var Jy;function ex(){return Jy||(Jy=1,Tf.exports=ZI()),Tf.exports}var w=ex(),Cu={},If={exports:{}},on={},xf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function tx(){return Zy||(Zy=1,(function(n){function e(Q,se){var oe=Q.length;Q.push(se);e:for(;0<oe;){var U=oe-1>>>1,J=Q[U];if(0<o(J,se))Q[U]=se,Q[oe]=J,oe=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var se=Q[0],oe=Q.pop();if(oe!==se){Q[0]=oe;e:for(var U=0,J=Q.length,Ae=J>>>1;U<Ae;){var Ie=2*(U+1)-1,Oe=Q[Ie],ke=Ie+1,ce=Q[ke];if(0>o(Oe,oe))ke<J&&0>o(ce,Oe)?(Q[U]=ce,Q[ke]=oe,U=ke):(Q[U]=Oe,Q[Ie]=oe,U=Ie);else if(ke<J&&0>o(ce,oe))Q[U]=ce,Q[ke]=oe,U=ke;else break e}}return se}function o(Q,se){var oe=Q.sortIndex-se.sortIndex;return oe!==0?oe:Q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],_=1,E=null,S=3,b=!1,V=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(Q){for(var se=t(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=Q)i(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(m)}}function Y(Q){if(x=!1,q(Q),!V)if(t(p)!==null)V=!0,_e(Z);else{var se=t(m);se!==null&&ye(Y,se.startTime-Q)}}function Z(Q,se){V=!1,x&&(x=!1,B(C),C=-1),b=!0;var oe=S;try{for(q(se),E=t(p);E!==null&&(!(E.expirationTime>se)||Q&&!O());){var U=E.callback;if(typeof U=="function"){E.callback=null,S=E.priorityLevel;var J=U(E.expirationTime<=se);se=n.unstable_now(),typeof J=="function"?E.callback=J:E===t(p)&&i(p),q(se)}else i(p);E=t(p)}if(E!==null)var Ae=!0;else{var Ie=t(m);Ie!==null&&ye(Y,Ie.startTime-se),Ae=!1}return Ae}finally{E=null,S=oe,b=!1}}var ae=!1,A=null,C=-1,P=5,M=-1;function O(){return!(n.unstable_now()-M<P)}function L(){if(A!==null){var Q=n.unstable_now();M=Q;var se=!0;try{se=A(!0,Q)}finally{se?R():(ae=!1,A=null)}}else ae=!1}var R;if(typeof z=="function")R=function(){z(L)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Pe=pe.port2;pe.port1.onmessage=L,R=function(){Pe.postMessage(null)}}else R=function(){k(L,0)};function _e(Q){A=Q,ae||(ae=!0,R())}function ye(Q,se){C=k(function(){Q(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){V||b||(V=!0,_e(Z))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var oe=S;S=se;try{return Q()}finally{S=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=S;S=Q;try{return se()}finally{S=oe}},n.unstable_scheduleCallback=function(Q,se,oe){var U=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?U+oe:U):oe=U,Q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,Q={id:_++,callback:se,priorityLevel:Q,startTime:oe,expirationTime:J,sortIndex:-1},oe>U?(Q.sortIndex=oe,e(m,Q),t(p)===null&&Q===t(m)&&(x?(B(C),C=-1):x=!0,ye(Y,oe-U))):(Q.sortIndex=J,e(p,Q),V||b||(V=!0,_e(Z))),Q},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Q){var se=S;return function(){var oe=S;S=se;try{return Q.apply(this,arguments)}finally{S=oe}}}})(Cf)),Cf}var ev;function nx(){return ev||(ev=1,xf.exports=tx()),xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function rx(){if(tv)return on;tv=1;var n=Vp(),e=nx();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function S(r){return p.call(E,r)?!0:p.call(_,r)?!1:m.test(r)?E[r]=!0:(_[r]=!0,!1)}function b(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function V(r,s,l,d){if(s===null||typeof s>"u"||b(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(r,s,l,d,f,g,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new x(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(B,z);k[s]=new x(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(B,z);k[s]=new x(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(B,z);k[s]=new x(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function q(r,s,l,d){var f=k.hasOwnProperty(s)?k[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,l,f,d)&&(l=null),d||f===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),ae=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),Q=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,U;function J(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var Ae=!1;function Ie(r,s){if(!r||Ae)return"";Ae=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){d=G}r.call(s.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var f=G.stack.split(`
`),g=d.stack.split(`
`),T=f.length-1,N=g.length-1;1<=T&&0<=N&&f[T]!==g[N];)N--;for(;1<=T&&0<=N;T--,N--)if(f[T]!==g[N]){if(T!==1||N!==1)do if(T--,N--,0>N||f[T]!==g[N]){var j=`
`+f[T].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=T&&0<=N);break}}}finally{Ae=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function Oe(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function ke(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case ae:return"Portal";case P:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case pe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Pe:return s=r.displayName||null,s!==null?s:ke(r.type)||"Memo";case _e:s=r._payload,r=r._init;try{return ke(r(s))}catch{}}return null}function ce(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function we(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ve(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Me(r){var s=Ve(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){d=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function qe(r){r._valueTracker||(r._valueTracker=Me(r))}function Xe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Ve(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function ht(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Zt(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function fi(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=we(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function tr(r,s){s=s.checked,s!=null&&q(r,"checked",s,!1)}function Vn(r,s){tr(r,s);var l=we(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?yt(r,s.type,l):s.hasOwnProperty("defaultValue")&&yt(r,s.type,we(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ba(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function yt(r,s,l){(s!=="number"||ht(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var ft=Array.isArray;function Mn(r,s,l,d){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+we(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ka(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Na(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(ft(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:we(l)}}function hc(r,s){var l=we(s.value),d=we(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function pi(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Da(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function co(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Da(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var mi,fc=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(mi=mi||document.createElement("div"),mi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ms(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pc=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(r){pc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),gi[s]=gi[r]})});function yi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||gi.hasOwnProperty(r)&&gi[r]?(""+s).trim():s+"px"}function uo(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=yi(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var Oa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(r,s){if(s){if(Oa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ho(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function fo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Mr=null,Lr=null,ct=null;function Va(r){if(r=ll(r)){if(typeof Mr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=zc(s),Mr(r.stateNode,r.type,s))}}function _i(r){Lr?ct?ct.push(r):ct=[r]:Lr=r}function wi(){if(Lr){var r=Lr,s=ct;if(ct=Lr=null,Va(r),s)for(r=0;r<s.length;r++)Va(s[r])}}function mc(r,s){return r(s)}function gc(){}var nr=!1;function yc(r,s,l){if(nr)return r(s,l);nr=!0;try{return mc(r,s,l)}finally{nr=!1,(Lr!==null||ct!==null)&&(gc(),wi())}}function gs(r,s){var l=r.stateNode;if(l===null)return null;var d=zc(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Ei=!1;if(h)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Ei=!1}function vc(r,s,l,d,f,g,T,N,j){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(te){this.onError(te)}}var jr=!1,rr=null,po=!1,Tn=null,_c={onError:function(r){jr=!0,rr=r}};function wc(r,s,l,d,f,g,T,N,j){jr=!1,rr=null,vc.apply(_c,arguments)}function Ma(r,s,l,d,f,g,T,N,j){if(wc.apply(this,arguments),jr){if(jr){var G=rr;jr=!1,rr=null}else throw Error(t(198));po||(po=!0,Tn=G)}}function jn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function La(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ec(r){if(jn(r)!==r)throw Error(t(188))}function Tc(r){var s=r.alternate;if(!s){if(s=jn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Ec(f),r;if(g===d)return Ec(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=g;else{for(var T=!1,N=f.child;N;){if(N===l){T=!0,l=f,d=g;break}if(N===d){T=!0,d=f,l=g;break}N=N.sibling}if(!T){for(N=g.child;N;){if(N===l){T=!0,l=g,d=f;break}if(N===d){T=!0,d=g,l=f;break}N=N.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Sc(r){return r=Tc(r),r!==null?ys(r):null}function ys(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ys(r);if(s!==null)return s;r=r.sibling}return null}var ja=e.unstable_scheduleCallback,mo=e.unstable_cancelCallback,vs=e.unstable_shouldYield,Fr=e.unstable_requestPaint,Ze=e.unstable_now,Jd=e.unstable_getCurrentPriorityLevel,go=e.unstable_ImmediatePriority,Fa=e.unstable_UserBlockingPriority,_s=e.unstable_NormalPriority,Ua=e.unstable_LowPriority,yo=e.unstable_IdlePriority,ws=null,un=null;function Ic(r){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(ws,r,void 0,(r.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Es,ir=Math.log,Sn=Math.LN2;function Es(r){return r>>>=0,r===0?32:31-(ir(r)/Sn|0)|0}var sr=64,Si=4194304;function Ge(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ur(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,T=l&268435455;if(T!==0){var N=T&~f;N!==0?d=Ge(N):(g&=T,g!==0&&(d=Ge(g)))}else T=l&~f,T!==0?d=Ge(T):g!==0&&(d=Ge(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&f)===0&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-dn(s),f=1<<l,d|=r[l],s&=~f;return d}function Ts(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var T=31-dn(g),N=1<<T,j=f[T];j===-1?((N&l)===0||(N&d)!==0)&&(f[T]=Ts(N,s)):j<=s&&(r.expiredLanes|=N),g&=~N}}function za(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ba(){var r=sr;return sr<<=1,(sr&4194240)===0&&(sr=64),r}function $a(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Is(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-dn(s),r[s]=l}function Zd(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-dn(l),g=1<<f;s[f]=0,d[f]=-1,r[f]=-1,l&=~g}}function Wa(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-dn(l),f=1<<d;f&s|r[d]&s&&(r[d]|=s),l&=~f}}var Be=0;function or(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ha,vo,qa,Ga,Ka,ar=!1,_o=[],lr=null,cr=null,Dt=null,xs=new Map,zr=new Map,hn=[],xc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ii(r,s){switch(r){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":xs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(s.pointerId)}}function Fn(r,s,l,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=ll(s),s!==null&&vo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Cc(r,s,l,d,f){switch(s){case"focusin":return lr=Fn(lr,r,s,l,d,f),!0;case"dragenter":return cr=Fn(cr,r,s,l,d,f),!0;case"mouseover":return Dt=Fn(Dt,r,s,l,d,f),!0;case"pointerover":var g=f.pointerId;return xs.set(g,Fn(xs.get(g)||null,r,s,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,zr.set(g,Fn(zr.get(g)||null,r,s,l,d,f)),!0}return!1}function wo(r){var s=Ps(r.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=La(l),s!==null){r.blockedOn=s,Ka(r.priority,function(){qa(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ye(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Eo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);vi=d,l.target.dispatchEvent(d),vi=null}else return s=ll(l),s!==null&&vo(s),r.blockedOn=l,!1;s.shift()}return!0}function Ac(r,s,l){Ye(r)&&l.delete(s)}function eh(){ar=!1,lr!==null&&Ye(lr)&&(lr=null),cr!==null&&Ye(cr)&&(cr=null),Dt!==null&&Ye(Dt)&&(Dt=null),xs.forEach(Ac),zr.forEach(Ac)}function xi(r,s){r.blockedOn===s&&(r.blockedOn=null,ar||(ar=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eh)))}function Ci(r){function s(f){return xi(f,r)}if(0<_o.length){xi(_o[0],r);for(var l=1;l<_o.length;l++){var d=_o[l];d.blockedOn===r&&(d.blockedOn=null)}}for(lr!==null&&xi(lr,r),cr!==null&&xi(cr,r),Dt!==null&&xi(Dt,r),xs.forEach(s),zr.forEach(s),l=0;l<hn.length;l++)d=hn[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<hn.length&&(l=hn[0],l.blockedOn===null);)wo(l),l.blockedOn===null&&hn.shift()}var Br=Y.ReactCurrentBatchConfig,$r=!0;function ur(r,s,l,d){var f=Be,g=Br.transition;Br.transition=null;try{Be=1,Qa(r,s,l,d)}finally{Be=f,Br.transition=g}}function Rc(r,s,l,d){var f=Be,g=Br.transition;Br.transition=null;try{Be=4,Qa(r,s,l,d)}finally{Be=f,Br.transition=g}}function Qa(r,s,l,d){if($r){var f=Eo(r,s,l,d);if(f===null)dh(r,s,d,dr,l),Ii(r,d);else if(Cc(f,r,s,l,d))d.stopPropagation();else if(Ii(r,d),s&4&&-1<xc.indexOf(r)){for(;f!==null;){var g=ll(f);if(g!==null&&Ha(g),g=Eo(r,s,l,d),g===null&&dh(r,s,d,dr,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else dh(r,s,d,null,l)}}var dr=null;function Eo(r,s,l,d){if(dr=null,r=fo(d),r=Ps(r),r!==null)if(s=jn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=La(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return dr=r,null}function To(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jd()){case go:return 1;case Fa:return 4;case _s:case Ua:return 16;case yo:return 536870912;default:return 16}default:return 16}}var fn=null,So=null,Wr=null;function Pc(){if(Wr)return Wr;var r,s=So,l=s.length,d,f="value"in fn?fn.value:fn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var T=l-r;for(d=1;d<=T&&s[l-d]===f[g-d];d++);return Wr=f.slice(r,1<d?1-d:void 0)}function Cs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function hr(){return!0}function Ya(){return!1}function Bt(r){function s(l,d,f,g,T){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hr:Ya,this.isPropagationStopped=Ya,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Bt(fr),Ai=oe({},fr,{view:0,detail:0}),Io=Bt(Ai),xo,Co,pn,Rs=oe({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ne,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==pn&&(pn&&r.type==="mousemove"?(xo=r.screenX-pn.screenX,Co=r.screenY-pn.screenY):Co=xo=0,pn=r),xo)},movementY:function(r){return"movementY"in r?r.movementY:Co}}),Xa=Bt(Rs),bc=oe({},Rs,{dataTransfer:0}),kc=Bt(bc),Ao=oe({},Ai,{relatedTarget:0}),Ot=Bt(Ao),Nc=oe({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=Bt(Nc),Ri=oe({},fr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Bt(Ri),y=oe({},fr,{data:0}),v=Bt(y),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function le(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=K[r])?!!s[r]:!1}function Ne(){return le}var pt=oe({},Ai,{key:function(r){if(r.key){var s=I[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Cs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?W[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ne,charCode:function(r){return r.type==="keypress"?Cs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qe=Bt(pt),vt=oe({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mn=Bt(vt),Hr=oe({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ne}),pr=Bt(Hr),mr=oe({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=Bt(mr),Ja=oe({},Rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),HS=Bt(Ja),qS=[9,13,27,32],th=h&&"CompositionEvent"in window,Za=null;h&&"documentMode"in document&&(Za=document.documentMode);var GS=h&&"TextEvent"in window&&!Za,zm=h&&(!th||Za&&8<Za&&11>=Za),Bm=" ",$m=!1;function Wm(r,s){switch(r){case"keyup":return qS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Po=!1;function KS(r,s){switch(r){case"compositionend":return Hm(s);case"keypress":return s.which!==32?null:($m=!0,Bm);case"textInput":return r=s.data,r===Bm&&$m?null:r;default:return null}}function QS(r,s){if(Po)return r==="compositionend"||!th&&Wm(r,s)?(r=Pc(),Wr=So=fn=null,Po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zm&&s.locale!=="ko"?null:s.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!YS[r.type]:s==="textarea"}function Gm(r,s,l,d){_i(d),s=jc(s,"onChange"),0<s.length&&(l=new As("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var el=null,tl=null;function XS(r){dg(r,0)}function Oc(r){var s=Oo(r);if(Xe(s))return r}function JS(r,s){if(r==="change")return s}var Km=!1;if(h){var nh;if(h){var rh="oninput"in document;if(!rh){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),rh=typeof Qm.oninput=="function"}nh=rh}else nh=!1;Km=nh&&(!document.documentMode||9<document.documentMode)}function Ym(){el&&(el.detachEvent("onpropertychange",Xm),tl=el=null)}function Xm(r){if(r.propertyName==="value"&&Oc(tl)){var s=[];Gm(s,tl,r,fo(r)),yc(XS,s)}}function ZS(r,s,l){r==="focusin"?(Ym(),el=s,tl=l,el.attachEvent("onpropertychange",Xm)):r==="focusout"&&Ym()}function eI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oc(tl)}function tI(r,s){if(r==="click")return Oc(s)}function nI(r,s){if(r==="input"||r==="change")return Oc(s)}function rI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Un=typeof Object.is=="function"?Object.is:rI;function nl(r,s){if(Un(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!Un(r[f],s[f]))return!1}return!0}function Jm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Zm(r,s){var l=Jm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jm(l)}}function eg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?eg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function tg(){for(var r=window,s=ht();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ht(r.document)}return s}function ih(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function iI(r){var s=tg(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&eg(l.ownerDocument.documentElement,l)){if(d!==null&&ih(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Zm(l,g);var T=Zm(l,d);f&&T&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var sI=h&&"documentMode"in document&&11>=document.documentMode,bo=null,sh=null,rl=null,oh=!1;function ng(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;oh||bo==null||bo!==ht(d)||(d=bo,"selectionStart"in d&&ih(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),rl&&nl(rl,d)||(rl=d,d=jc(sh,"onSelect"),0<d.length&&(s=new As("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=bo)))}function Vc(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ko={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},ah={},rg={};h&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Mc(r){if(ah[r])return ah[r];if(!ko[r])return r;var s=ko[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in rg)return ah[r]=s[l];return r}var ig=Mc("animationend"),sg=Mc("animationiteration"),og=Mc("animationstart"),ag=Mc("transitionend"),lg=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(r,s){lg.set(r,s),a(s,[r])}for(var lh=0;lh<cg.length;lh++){var ch=cg[lh],oI=ch.toLowerCase(),aI=ch[0].toUpperCase()+ch.slice(1);Pi(oI,"on"+aI)}Pi(ig,"onAnimationEnd"),Pi(sg,"onAnimationIteration"),Pi(og,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(ag,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lI=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function ug(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Ma(d,s,void 0,r),r.currentTarget=null}function dg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var T=d.length-1;0<=T;T--){var N=d[T],j=N.instance,G=N.currentTarget;if(N=N.listener,j!==g&&f.isPropagationStopped())break e;ug(f,N,G),g=j}else for(T=0;T<d.length;T++){if(N=d[T],j=N.instance,G=N.currentTarget,N=N.listener,j!==g&&f.isPropagationStopped())break e;ug(f,N,G),g=j}}}if(po)throw r=Tn,po=!1,Tn=null,r}function et(r,s){var l=s[yh];l===void 0&&(l=s[yh]=new Set);var d=r+"__bubble";l.has(d)||(hg(s,r,2,!1),l.add(d))}function uh(r,s,l){var d=0;s&&(d|=4),hg(l,r,d,s)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function sl(r){if(!r[Lc]){r[Lc]=!0,i.forEach(function(l){l!=="selectionchange"&&(lI.has(l)||uh(l,!1,r),uh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Lc]||(s[Lc]=!0,uh("selectionchange",!1,s))}}function hg(r,s,l,d){switch(To(s)){case 1:var f=ur;break;case 4:f=Rc;break;default:f=Qa}l=f.bind(null,s,l,r),f=void 0,!Ei||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function dh(r,s,l,d,f){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var N=d.stateNode.containerInfo;if(N===f||N.nodeType===8&&N.parentNode===f)break;if(T===4)for(T=d.return;T!==null;){var j=T.tag;if((j===3||j===4)&&(j=T.stateNode.containerInfo,j===f||j.nodeType===8&&j.parentNode===f))return;T=T.return}for(;N!==null;){if(T=Ps(N),T===null)return;if(j=T.tag,j===5||j===6){d=g=T;continue e}N=N.parentNode}}d=d.return}yc(function(){var G=g,te=fo(l),re=[];e:{var ee=lg.get(r);if(ee!==void 0){var ue=As,fe=r;switch(r){case"keypress":if(Cs(l)===0)break e;case"keydown":case"keyup":ue=Qe;break;case"focusin":fe="focus",ue=Ot;break;case"focusout":fe="blur",ue=Ot;break;case"beforeblur":case"afterblur":ue=Ot;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=pr;break;case ig:case sg:case og:ue=Dc;break;case ag:ue=Ro;break;case"scroll":ue=Io;break;case"wheel":ue=HS;break;case"copy":case"cut":case"paste":ue=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=mn}var me=(s&4)!==0,mt=!me&&r==="scroll",$=me?ee!==null?ee+"Capture":null:ee;me=[];for(var F=G,H;F!==null;){H=F;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,$!==null&&(ie=gs(F,$),ie!=null&&me.push(ol(F,ie,H)))),mt)break;F=F.return}0<me.length&&(ee=new ue(ee,fe,null,l,te),re.push({event:ee,listeners:me}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",ee&&l!==vi&&(fe=l.relatedTarget||l.fromElement)&&(Ps(fe)||fe[qr]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(fe=l.relatedTarget||l.toElement,ue=G,fe=fe?Ps(fe):null,fe!==null&&(mt=jn(fe),fe!==mt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=G),ue!==fe)){if(me=Xa,ie="onMouseLeave",$="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(me=mn,ie="onPointerLeave",$="onPointerEnter",F="pointer"),mt=ue==null?ee:Oo(ue),H=fe==null?ee:Oo(fe),ee=new me(ie,F+"leave",ue,l,te),ee.target=mt,ee.relatedTarget=H,ie=null,Ps(te)===G&&(me=new me($,F+"enter",fe,l,te),me.target=H,me.relatedTarget=mt,ie=me),mt=ie,ue&&fe)t:{for(me=ue,$=fe,F=0,H=me;H;H=No(H))F++;for(H=0,ie=$;ie;ie=No(ie))H++;for(;0<F-H;)me=No(me),F--;for(;0<H-F;)$=No($),H--;for(;F--;){if(me===$||$!==null&&me===$.alternate)break t;me=No(me),$=No($)}me=null}else me=null;ue!==null&&fg(re,ee,ue,me,!1),fe!==null&&mt!==null&&fg(re,mt,fe,me,!0)}}e:{if(ee=G?Oo(G):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var ge=JS;else if(qm(ee))if(Km)ge=nI;else{ge=eI;var Ee=ZS}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=tI);if(ge&&(ge=ge(r,G))){Gm(re,ge,l,te);break e}Ee&&Ee(r,ee,G),r==="focusout"&&(Ee=ee._wrapperState)&&Ee.controlled&&ee.type==="number"&&yt(ee,"number",ee.value)}switch(Ee=G?Oo(G):window,r){case"focusin":(qm(Ee)||Ee.contentEditable==="true")&&(bo=Ee,sh=G,rl=null);break;case"focusout":rl=sh=bo=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,ng(re,l,te);break;case"selectionchange":if(sI)break;case"keydown":case"keyup":ng(re,l,te)}var Te;if(th)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Po?Wm(r,l)&&(Re="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(zm&&l.locale!=="ko"&&(Po||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Po&&(Te=Pc()):(fn=te,So="value"in fn?fn.value:fn.textContent,Po=!0)),Ee=jc(G,Re),0<Ee.length&&(Re=new v(Re,r,null,l,te),re.push({event:Re,listeners:Ee}),Te?Re.data=Te:(Te=Hm(l),Te!==null&&(Re.data=Te)))),(Te=GS?KS(r,l):QS(r,l))&&(G=jc(G,"onBeforeInput"),0<G.length&&(te=new v("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:G}),te.data=Te))}dg(re,s)})}function ol(r,s,l){return{instance:r,listener:s,currentTarget:l}}function jc(r,s){for(var l=s+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=gs(r,l),g!=null&&d.unshift(ol(r,g,f)),g=gs(r,s),g!=null&&d.push(ol(r,g,f))),r=r.return}return d}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fg(r,s,l,d,f){for(var g=s._reactName,T=[];l!==null&&l!==d;){var N=l,j=N.alternate,G=N.stateNode;if(j!==null&&j===d)break;N.tag===5&&G!==null&&(N=G,f?(j=gs(l,g),j!=null&&T.unshift(ol(l,j,N))):f||(j=gs(l,g),j!=null&&T.push(ol(l,j,N)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var cI=/\r\n?/g,uI=/\u0000|\uFFFD/g;function pg(r){return(typeof r=="string"?r:""+r).replace(cI,`
`).replace(uI,"")}function Fc(r,s,l){if(s=pg(s),pg(r)!==s&&l)throw Error(t(425))}function Uc(){}var hh=null,fh=null;function ph(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,dI=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,hI=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(r){return mg.resolve(null).then(r).catch(fI)}:mh;function fI(r){setTimeout(function(){throw r})}function gh(r,s){var l=s,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),Ci(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);Ci(s)}function bi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function gg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Do=Math.random().toString(36).slice(2),gr="__reactFiber$"+Do,al="__reactProps$"+Do,qr="__reactContainer$"+Do,yh="__reactEvents$"+Do,pI="__reactListeners$"+Do,mI="__reactHandles$"+Do;function Ps(r){var s=r[gr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[qr]||l[gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=gg(r);r!==null;){if(l=r[gr])return l;r=gg(r)}return s}r=l,l=r.parentNode}return null}function ll(r){return r=r[gr]||r[qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Oo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function zc(r){return r[al]||null}var vh=[],Vo=-1;function ki(r){return{current:r}}function tt(r){0>Vo||(r.current=vh[Vo],vh[Vo]=null,Vo--)}function Je(r,s){Vo++,vh[Vo]=r.current,r.current=s}var Ni={},$t=ki(Ni),en=ki(!1),bs=Ni;function Mo(r,s){var l=r.type.contextTypes;if(!l)return Ni;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function tn(r){return r=r.childContextTypes,r!=null}function Bc(){tt(en),tt($t)}function yg(r,s,l){if($t.current!==Ni)throw Error(t(168));Je($t,s),Je(en,l)}function vg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,ce(r)||"Unknown",f));return oe({},l,d)}function $c(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ni,bs=$t.current,Je($t,r),Je(en,en.current),!0}function _g(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=vg(r,s,bs),d.__reactInternalMemoizedMergedChildContext=r,tt(en),tt($t),Je($t,r)):tt(en),Je(en,l)}var Gr=null,Wc=!1,_h=!1;function wg(r){Gr===null?Gr=[r]:Gr.push(r)}function gI(r){Wc=!0,wg(r)}function Di(){if(!_h&&Gr!==null){_h=!0;var r=0,s=Be;try{var l=Gr;for(Be=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Gr=null,Wc=!1}catch(f){throw Gr!==null&&(Gr=Gr.slice(r+1)),ja(go,Di),f}finally{Be=s,_h=!1}}return null}var Lo=[],jo=0,Hc=null,qc=0,In=[],xn=0,ks=null,Kr=1,Qr="";function Ns(r,s){Lo[jo++]=qc,Lo[jo++]=Hc,Hc=r,qc=s}function Eg(r,s,l){In[xn++]=Kr,In[xn++]=Qr,In[xn++]=ks,ks=r;var d=Kr;r=Qr;var f=32-dn(d)-1;d&=~(1<<f),l+=1;var g=32-dn(s)+f;if(30<g){var T=f-f%5;g=(d&(1<<T)-1).toString(32),d>>=T,f-=T,Kr=1<<32-dn(s)+f|l<<f|d,Qr=g+r}else Kr=1<<g|l<<f|d,Qr=r}function wh(r){r.return!==null&&(Ns(r,1),Eg(r,1,0))}function Eh(r){for(;r===Hc;)Hc=Lo[--jo],Lo[jo]=null,qc=Lo[--jo],Lo[jo]=null;for(;r===ks;)ks=In[--xn],In[xn]=null,Qr=In[--xn],In[xn]=null,Kr=In[--xn],In[xn]=null}var gn=null,yn=null,it=!1,zn=null;function Tg(r,s){var l=Pn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Sg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,gn=r,yn=bi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,gn=r,yn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ks!==null?{id:Kr,overflow:Qr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Pn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,gn=r,yn=null,!0):!1;default:return!1}}function Th(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Sh(r){if(it){var s=yn;if(s){var l=s;if(!Sg(r,s)){if(Th(r))throw Error(t(418));s=bi(l.nextSibling);var d=gn;s&&Sg(r,s)?Tg(d,l):(r.flags=r.flags&-4097|2,it=!1,gn=r)}}else{if(Th(r))throw Error(t(418));r.flags=r.flags&-4097|2,it=!1,gn=r}}}function Ig(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;gn=r}function Gc(r){if(r!==gn)return!1;if(!it)return Ig(r),it=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ph(r.type,r.memoizedProps)),s&&(s=yn)){if(Th(r))throw xg(),Error(t(418));for(;s;)Tg(r,s),s=bi(s.nextSibling)}if(Ig(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){yn=bi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}yn=null}}else yn=gn?bi(r.stateNode.nextSibling):null;return!0}function xg(){for(var r=yn;r;)r=bi(r.nextSibling)}function Fo(){yn=gn=null,it=!1}function Ih(r){zn===null?zn=[r]:zn.push(r)}var yI=Y.ReactCurrentBatchConfig;function cl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(T){var N=f.refs;T===null?delete N[g]:N[g]=T},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Kc(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Cg(r){var s=r._init;return s(r._payload)}function Ag(r){function s($,F){if(r){var H=$.deletions;H===null?($.deletions=[F],$.flags|=16):H.push(F)}}function l($,F){if(!r)return null;for(;F!==null;)s($,F),F=F.sibling;return null}function d($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function f($,F){return $=zi($,F),$.index=0,$.sibling=null,$}function g($,F,H){return $.index=H,r?(H=$.alternate,H!==null?(H=H.index,H<F?($.flags|=2,F):H):($.flags|=2,F)):($.flags|=1048576,F)}function T($){return r&&$.alternate===null&&($.flags|=2),$}function N($,F,H,ie){return F===null||F.tag!==6?(F=gf(H,$.mode,ie),F.return=$,F):(F=f(F,H),F.return=$,F)}function j($,F,H,ie){var ge=H.type;return ge===A?te($,F,H.props.children,ie,H.key):F!==null&&(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===_e&&Cg(ge)===F.type)?(ie=f(F,H.props),ie.ref=cl($,F,H),ie.return=$,ie):(ie=vu(H.type,H.key,H.props,null,$.mode,ie),ie.ref=cl($,F,H),ie.return=$,ie)}function G($,F,H,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=yf(H,$.mode,ie),F.return=$,F):(F=f(F,H.children||[]),F.return=$,F)}function te($,F,H,ie,ge){return F===null||F.tag!==7?(F=Us(H,$.mode,ie,ge),F.return=$,F):(F=f(F,H),F.return=$,F)}function re($,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=gf(""+F,$.mode,H),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Z:return H=vu(F.type,F.key,F.props,null,$.mode,H),H.ref=cl($,null,F),H.return=$,H;case ae:return F=yf(F,$.mode,H),F.return=$,F;case _e:var ie=F._init;return re($,ie(F._payload),H)}if(ft(F)||se(F))return F=Us(F,$.mode,H,null),F.return=$,F;Kc($,F)}return null}function ee($,F,H,ie){var ge=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ge!==null?null:N($,F,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Z:return H.key===ge?j($,F,H,ie):null;case ae:return H.key===ge?G($,F,H,ie):null;case _e:return ge=H._init,ee($,F,ge(H._payload),ie)}if(ft(H)||se(H))return ge!==null?null:te($,F,H,ie,null);Kc($,H)}return null}function ue($,F,H,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(H)||null,N(F,$,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Z:return $=$.get(ie.key===null?H:ie.key)||null,j(F,$,ie,ge);case ae:return $=$.get(ie.key===null?H:ie.key)||null,G(F,$,ie,ge);case _e:var Ee=ie._init;return ue($,F,H,Ee(ie._payload),ge)}if(ft(ie)||se(ie))return $=$.get(H)||null,te(F,$,ie,ge,null);Kc(F,ie)}return null}function fe($,F,H,ie){for(var ge=null,Ee=null,Te=F,Re=F=0,bt=null;Te!==null&&Re<H.length;Re++){Te.index>Re?(bt=Te,Te=null):bt=Te.sibling;var He=ee($,Te,H[Re],ie);if(He===null){Te===null&&(Te=bt);break}r&&Te&&He.alternate===null&&s($,Te),F=g(He,F,Re),Ee===null?ge=He:Ee.sibling=He,Ee=He,Te=bt}if(Re===H.length)return l($,Te),it&&Ns($,Re),ge;if(Te===null){for(;Re<H.length;Re++)Te=re($,H[Re],ie),Te!==null&&(F=g(Te,F,Re),Ee===null?ge=Te:Ee.sibling=Te,Ee=Te);return it&&Ns($,Re),ge}for(Te=d($,Te);Re<H.length;Re++)bt=ue(Te,$,Re,H[Re],ie),bt!==null&&(r&&bt.alternate!==null&&Te.delete(bt.key===null?Re:bt.key),F=g(bt,F,Re),Ee===null?ge=bt:Ee.sibling=bt,Ee=bt);return r&&Te.forEach(function(Bi){return s($,Bi)}),it&&Ns($,Re),ge}function me($,F,H,ie){var ge=se(H);if(typeof ge!="function")throw Error(t(150));if(H=ge.call(H),H==null)throw Error(t(151));for(var Ee=ge=null,Te=F,Re=F=0,bt=null,He=H.next();Te!==null&&!He.done;Re++,He=H.next()){Te.index>Re?(bt=Te,Te=null):bt=Te.sibling;var Bi=ee($,Te,He.value,ie);if(Bi===null){Te===null&&(Te=bt);break}r&&Te&&Bi.alternate===null&&s($,Te),F=g(Bi,F,Re),Ee===null?ge=Bi:Ee.sibling=Bi,Ee=Bi,Te=bt}if(He.done)return l($,Te),it&&Ns($,Re),ge;if(Te===null){for(;!He.done;Re++,He=H.next())He=re($,He.value,ie),He!==null&&(F=g(He,F,Re),Ee===null?ge=He:Ee.sibling=He,Ee=He);return it&&Ns($,Re),ge}for(Te=d($,Te);!He.done;Re++,He=H.next())He=ue(Te,$,Re,He.value,ie),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?Re:He.key),F=g(He,F,Re),Ee===null?ge=He:Ee.sibling=He,Ee=He);return r&&Te.forEach(function(YI){return s($,YI)}),it&&Ns($,Re),ge}function mt($,F,H,ie){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Z:e:{for(var ge=H.key,Ee=F;Ee!==null;){if(Ee.key===ge){if(ge=H.type,ge===A){if(Ee.tag===7){l($,Ee.sibling),F=f(Ee,H.props.children),F.return=$,$=F;break e}}else if(Ee.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===_e&&Cg(ge)===Ee.type){l($,Ee.sibling),F=f(Ee,H.props),F.ref=cl($,Ee,H),F.return=$,$=F;break e}l($,Ee);break}else s($,Ee);Ee=Ee.sibling}H.type===A?(F=Us(H.props.children,$.mode,ie,H.key),F.return=$,$=F):(ie=vu(H.type,H.key,H.props,null,$.mode,ie),ie.ref=cl($,F,H),ie.return=$,$=ie)}return T($);case ae:e:{for(Ee=H.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l($,F.sibling),F=f(F,H.children||[]),F.return=$,$=F;break e}else{l($,F);break}else s($,F);F=F.sibling}F=yf(H,$.mode,ie),F.return=$,$=F}return T($);case _e:return Ee=H._init,mt($,F,Ee(H._payload),ie)}if(ft(H))return fe($,F,H,ie);if(se(H))return me($,F,H,ie);Kc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l($,F.sibling),F=f(F,H),F.return=$,$=F):(l($,F),F=gf(H,$.mode,ie),F.return=$,$=F),T($)):l($,F)}return mt}var Uo=Ag(!0),Rg=Ag(!1),Qc=ki(null),Yc=null,zo=null,xh=null;function Ch(){xh=zo=Yc=null}function Ah(r){var s=Qc.current;tt(Qc),r._currentValue=s}function Rh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Bo(r,s){Yc=r,xh=zo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(nn=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(xh!==r)if(r={context:r,memoizedValue:s,next:null},zo===null){if(Yc===null)throw Error(t(308));zo=r,Yc.dependencies={lanes:0,firstContext:r}}else zo=zo.next=r;return s}var Ds=null;function Ph(r){Ds===null?Ds=[r]:Ds.push(r)}function Pg(r,s,l,d){var f=s.interleaved;return f===null?(l.next=l,Ph(s)):(l.next=f.next,f.next=l),s.interleaved=l,Yr(r,d)}function Yr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Oi=!1;function bh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Xr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,Yr(r,l)}return f=d.interleaved,f===null?(s.next=s,Ph(d)):(s.next=f.next,f.next=s),d.interleaved=s,Yr(r,l)}function Xc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Wa(r,l)}}function kg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Jc(r,s,l,d){var f=r.updateQueue;Oi=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var j=N,G=j.next;j.next=null,T===null?g=G:T.next=G,T=j;var te=r.alternate;te!==null&&(te=te.updateQueue,N=te.lastBaseUpdate,N!==T&&(N===null?te.firstBaseUpdate=G:N.next=G,te.lastBaseUpdate=j))}if(g!==null){var re=f.baseState;T=0,te=G=j=null,N=g;do{var ee=N.lane,ue=N.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var fe=r,me=N;switch(ee=s,ue=l,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){re=fe.call(ue,re,ee);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,ee=typeof fe=="function"?fe.call(ue,re,ee):fe,ee==null)break e;re=oe({},re,ee);break e;case 2:Oi=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,ee=f.effects,ee===null?f.effects=[N]:ee.push(N))}else ue={eventTime:ue,lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},te===null?(G=te=ue,j=re):te=te.next=ue,T|=ee;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;ee=N,N=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(te===null&&(j=re),f.baseState=j,f.firstBaseUpdate=G,f.lastBaseUpdate=te,s=f.shared.interleaved,s!==null){f=s;do T|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Ms|=T,r.lanes=T,r.memoizedState=re}}function Ng(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var ul={},yr=ki(ul),dl=ki(ul),hl=ki(ul);function Os(r){if(r===ul)throw Error(t(174));return r}function kh(r,s){switch(Je(hl,s),Je(dl,r),Je(yr,ul),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:co(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=co(s,r)}tt(yr),Je(yr,s)}function $o(){tt(yr),tt(dl),tt(hl)}function Dg(r){Os(hl.current);var s=Os(yr.current),l=co(s,r.type);s!==l&&(Je(dl,r),Je(yr,l))}function Nh(r){dl.current===r&&(tt(yr),tt(dl))}var st=ki(0);function Zc(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Oh(){for(var r=0;r<Dh.length;r++)Dh[r]._workInProgressVersionPrimary=null;Dh.length=0}var eu=Y.ReactCurrentDispatcher,Vh=Y.ReactCurrentBatchConfig,Vs=0,ot=null,St=null,Rt=null,tu=!1,fl=!1,pl=0,vI=0;function Wt(){throw Error(t(321))}function Mh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Un(r[l],s[l]))return!1;return!0}function Lh(r,s,l,d,f,g){if(Vs=g,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,eu.current=r===null||r.memoizedState===null?TI:SI,r=l(d,f),fl){g=0;do{if(fl=!1,pl=0,25<=g)throw Error(t(301));g+=1,Rt=St=null,s.updateQueue=null,eu.current=II,r=l(d,f)}while(fl)}if(eu.current=iu,s=St!==null&&St.next!==null,Vs=0,Rt=St=ot=null,tu=!1,s)throw Error(t(300));return r}function jh(){var r=pl!==0;return pl=0,r}function vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ot.memoizedState=Rt=r:Rt=Rt.next=r,Rt}function An(){if(St===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var s=Rt===null?ot.memoizedState:Rt.next;if(s!==null)Rt=s,St=r;else{if(r===null)throw Error(t(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Rt===null?ot.memoizedState=Rt=r:Rt=Rt.next=r}return Rt}function ml(r,s){return typeof s=="function"?s(r):s}function Fh(r){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=St,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var N=T=null,j=null,G=g;do{var te=G.lane;if((Vs&te)===te)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(N=j=re,T=d):j=j.next=re,ot.lanes|=te,Ms|=te}G=G.next}while(G!==null&&G!==g);j===null?T=d:j.next=N,Un(d,s.memoizedState)||(nn=!0),s.memoizedState=d,s.baseState=T,s.baseQueue=j,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do g=f.lane,ot.lanes|=g,Ms|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Uh(r){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do g=r(g,T.action),T=T.next;while(T!==f);Un(g,s.memoizedState)||(nn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function Og(){}function Vg(r,s){var l=ot,d=An(),f=s(),g=!Un(d.memoizedState,f);if(g&&(d.memoizedState=f,nn=!0),d=d.queue,zh(jg.bind(null,l,d,r),[r]),d.getSnapshot!==s||g||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,gl(9,Lg.bind(null,l,d,f,s),void 0,null),Pt===null)throw Error(t(349));(Vs&30)!==0||Mg(l,s,f)}return f}function Mg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Lg(r,s,l,d){s.value=l,s.getSnapshot=d,Fg(s)&&Ug(r)}function jg(r,s,l){return l(function(){Fg(s)&&Ug(r)})}function Fg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Un(r,l)}catch{return!0}}function Ug(r){var s=Yr(r,1);s!==null&&Hn(s,r,1,-1)}function zg(r){var s=vr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:r},s.queue=r,r=r.dispatch=EI.bind(null,ot,r),[s.memoizedState,r]}function gl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Bg(){return An().memoizedState}function nu(r,s,l,d){var f=vr();ot.flags|=r,f.memoizedState=gl(1|s,l,void 0,d===void 0?null:d)}function ru(r,s,l,d){var f=An();d=d===void 0?null:d;var g=void 0;if(St!==null){var T=St.memoizedState;if(g=T.destroy,d!==null&&Mh(d,T.deps)){f.memoizedState=gl(s,l,g,d);return}}ot.flags|=r,f.memoizedState=gl(1|s,l,g,d)}function $g(r,s){return nu(8390656,8,r,s)}function zh(r,s){return ru(2048,8,r,s)}function Wg(r,s){return ru(4,2,r,s)}function Hg(r,s){return ru(4,4,r,s)}function qg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Gg(r,s,l){return l=l!=null?l.concat([r]):null,ru(4,4,qg.bind(null,s,r),l)}function Bh(){}function Kg(r,s){var l=An();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Mh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Qg(r,s){var l=An();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Mh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Yg(r,s,l){return(Vs&21)===0?(r.baseState&&(r.baseState=!1,nn=!0),r.memoizedState=l):(Un(l,s)||(l=Ba(),ot.lanes|=l,Ms|=l,r.baseState=!0),s)}function _I(r,s){var l=Be;Be=l!==0&&4>l?l:4,r(!0);var d=Vh.transition;Vh.transition={};try{r(!1),s()}finally{Be=l,Vh.transition=d}}function Xg(){return An().memoizedState}function wI(r,s,l){var d=Fi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Jg(r))Zg(s,l);else if(l=Pg(r,s,l,d),l!==null){var f=Jt();Hn(l,r,d,f),ey(l,s,d)}}function EI(r,s,l){var d=Fi(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jg(r))Zg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,N=g(T,l);if(f.hasEagerState=!0,f.eagerState=N,Un(N,T)){var j=s.interleaved;j===null?(f.next=f,Ph(s)):(f.next=j.next,j.next=f),s.interleaved=f;return}}catch{}finally{}l=Pg(r,s,f,d),l!==null&&(f=Jt(),Hn(l,r,d,f),ey(l,s,d))}}function Jg(r){var s=r.alternate;return r===ot||s!==null&&s===ot}function Zg(r,s){fl=tu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function ey(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Wa(r,l)}}var iu={readContext:Cn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},TI={readContext:Cn,useCallback:function(r,s){return vr().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:$g,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,nu(4194308,4,qg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return nu(4194308,4,r,s)},useInsertionEffect:function(r,s){return nu(4,2,r,s)},useMemo:function(r,s){var l=vr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=vr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=wI.bind(null,ot,r),[d.memoizedState,r]},useRef:function(r){var s=vr();return r={current:r},s.memoizedState=r},useState:zg,useDebugValue:Bh,useDeferredValue:function(r){return vr().memoizedState=r},useTransition:function(){var r=zg(!1),s=r[0];return r=_I.bind(null,r[1]),vr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=ot,f=vr();if(it){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Pt===null)throw Error(t(349));(Vs&30)!==0||Mg(d,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,$g(jg.bind(null,d,g,r),[r]),d.flags|=2048,gl(9,Lg.bind(null,d,g,l,s),void 0,null),l},useId:function(){var r=vr(),s=Pt.identifierPrefix;if(it){var l=Qr,d=Kr;l=(d&~(1<<32-dn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=pl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=vI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},SI={readContext:Cn,useCallback:Kg,useContext:Cn,useEffect:zh,useImperativeHandle:Gg,useInsertionEffect:Wg,useLayoutEffect:Hg,useMemo:Qg,useReducer:Fh,useRef:Bg,useState:function(){return Fh(ml)},useDebugValue:Bh,useDeferredValue:function(r){var s=An();return Yg(s,St.memoizedState,r)},useTransition:function(){var r=Fh(ml)[0],s=An().memoizedState;return[r,s]},useMutableSource:Og,useSyncExternalStore:Vg,useId:Xg,unstable_isNewReconciler:!1},II={readContext:Cn,useCallback:Kg,useContext:Cn,useEffect:zh,useImperativeHandle:Gg,useInsertionEffect:Wg,useLayoutEffect:Hg,useMemo:Qg,useReducer:Uh,useRef:Bg,useState:function(){return Uh(ml)},useDebugValue:Bh,useDeferredValue:function(r){var s=An();return St===null?s.memoizedState=r:Yg(s,St.memoizedState,r)},useTransition:function(){var r=Uh(ml)[0],s=An().memoizedState;return[r,s]},useMutableSource:Og,useSyncExternalStore:Vg,useId:Xg,unstable_isNewReconciler:!1};function Bn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function $h(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var su={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Jt(),f=Fi(r),g=Xr(d,f);g.payload=s,l!=null&&(g.callback=l),s=Vi(r,g,f),s!==null&&(Hn(s,r,f,d),Xc(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Jt(),f=Fi(r),g=Xr(d,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Vi(r,g,f),s!==null&&(Hn(s,r,f,d),Xc(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Jt(),d=Fi(r),f=Xr(l,d);f.tag=2,s!=null&&(f.callback=s),s=Vi(r,f,d),s!==null&&(Hn(s,r,d,l),Xc(s,r,d))}};function ty(r,s,l,d,f,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,T):s.prototype&&s.prototype.isPureReactComponent?!nl(l,d)||!nl(f,g):!0}function ny(r,s,l){var d=!1,f=Ni,g=s.contextType;return typeof g=="object"&&g!==null?g=Cn(g):(f=tn(s)?bs:$t.current,d=s.contextTypes,g=(d=d!=null)?Mo(r,f):Ni),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=su,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function ry(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&su.enqueueReplaceState(s,s.state,null)}function Wh(r,s,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},bh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Cn(g):(g=tn(s)?bs:$t.current,f.context=Mo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&($h(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&su.enqueueReplaceState(f,f.state,null),Jc(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Wo(r,s){try{var l="",d=s;do l+=Oe(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Hh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function qh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var xI=typeof WeakMap=="function"?WeakMap:Map;function iy(r,s,l){l=Xr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){hu||(hu=!0,lf=d),qh(r,s)},l}function sy(r,s,l){l=Xr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){qh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){qh(r,s),typeof d!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function oy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new xI;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),r=FI.bind(null,r,s,l),s.then(r,r))}function ay(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ly(r,s,l,d,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Xr(-1,1),s.tag=2,Vi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var CI=Y.ReactCurrentOwner,nn=!1;function Xt(r,s,l,d){s.child=r===null?Rg(s,null,l,d):Uo(s,r.child,l,d)}function cy(r,s,l,d,f){l=l.render;var g=s.ref;return Bo(s,f),d=Lh(r,s,l,d,g,f),l=jh(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Jr(r,s,f)):(it&&l&&wh(s),s.flags|=1,Xt(r,s,d,f),s.child)}function uy(r,s,l,d,f){if(r===null){var g=l.type;return typeof g=="function"&&!mf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,dy(r,s,g,d,f)):(r=vu(l.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:nl,l(T,d)&&r.ref===s.ref)return Jr(r,s,f)}return s.flags|=1,r=zi(g,d),r.ref=s.ref,r.return=s,s.child=r}function dy(r,s,l,d,f){if(r!==null){var g=r.memoizedProps;if(nl(g,d)&&r.ref===s.ref)if(nn=!1,s.pendingProps=d=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(nn=!0);else return s.lanes=r.lanes,Jr(r,s,f)}return Gh(r,s,l,d,f)}function hy(r,s,l){var d=s.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(qo,vn),vn|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(qo,vn),vn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,Je(qo,vn),vn|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,Je(qo,vn),vn|=d;return Xt(r,s,f,l),s.child}function fy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Gh(r,s,l,d,f){var g=tn(l)?bs:$t.current;return g=Mo(s,g),Bo(s,f),l=Lh(r,s,l,d,g,f),d=jh(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Jr(r,s,f)):(it&&d&&wh(s),s.flags|=1,Xt(r,s,l,f),s.child)}function py(r,s,l,d,f){if(tn(l)){var g=!0;$c(s)}else g=!1;if(Bo(s,f),s.stateNode===null)au(r,s),ny(s,l,d),Wh(s,l,d,f),d=!0;else if(r===null){var T=s.stateNode,N=s.memoizedProps;T.props=N;var j=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=Cn(G):(G=tn(l)?bs:$t.current,G=Mo(s,G));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==d||j!==G)&&ry(s,T,d,G),Oi=!1;var ee=s.memoizedState;T.state=ee,Jc(s,d,T,f),j=s.memoizedState,N!==d||ee!==j||en.current||Oi?(typeof te=="function"&&($h(s,l,te,d),j=s.memoizedState),(N=Oi||ty(s,l,N,d,ee,j,G))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),T.props=d,T.state=j,T.context=G,d=N):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{T=s.stateNode,bg(r,s),N=s.memoizedProps,G=s.type===s.elementType?N:Bn(s.type,N),T.props=G,re=s.pendingProps,ee=T.context,j=l.contextType,typeof j=="object"&&j!==null?j=Cn(j):(j=tn(l)?bs:$t.current,j=Mo(s,j));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==re||ee!==j)&&ry(s,T,d,j),Oi=!1,ee=s.memoizedState,T.state=ee,Jc(s,d,T,f);var fe=s.memoizedState;N!==re||ee!==fe||en.current||Oi?(typeof ue=="function"&&($h(s,l,ue,d),fe=s.memoizedState),(G=Oi||ty(s,l,G,d,ee,fe,j)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,fe,j),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,fe,j)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=fe),T.props=d,T.state=fe,T.context=j,d=G):(typeof T.componentDidUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return Kh(r,s,l,d,g,f)}function Kh(r,s,l,d,f,g){fy(r,s);var T=(s.flags&128)!==0;if(!d&&!T)return f&&_g(s,l,!1),Jr(r,s,g);d=s.stateNode,CI.current=s;var N=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&T?(s.child=Uo(s,r.child,null,g),s.child=Uo(s,null,N,g)):Xt(r,s,N,g),s.memoizedState=d.state,f&&_g(s,l,!0),s.child}function my(r){var s=r.stateNode;s.pendingContext?yg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&yg(r,s.context,!1),kh(r,s.containerInfo)}function gy(r,s,l,d,f){return Fo(),Ih(f),s.flags|=256,Xt(r,s,l,d),s.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Yh(r){return{baseLanes:r,cachePool:null,transitions:null}}function yy(r,s,l){var d=s.pendingProps,f=st.current,g=!1,T=(s.flags&128)!==0,N;if((N=T)||(N=r!==null&&r.memoizedState===null?!1:(f&2)!==0),N?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Je(st,f&1),r===null)return Sh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=d.children,r=d.fallback,g?(d=s.mode,g=s.child,T={mode:"hidden",children:T},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=T):g=_u(T,d,0,null),r=Us(r,d,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Yh(l),s.memoizedState=Qh,r):Xh(s,T));if(f=r.memoizedState,f!==null&&(N=f.dehydrated,N!==null))return AI(r,s,T,d,N,f,l);if(g){g=d.fallback,T=s.mode,f=r.child,N=f.sibling;var j={mode:"hidden",children:d.children};return(T&1)===0&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=zi(f,j),d.subtreeFlags=f.subtreeFlags&14680064),N!==null?g=zi(N,g):(g=Us(g,T,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,T=r.child.memoizedState,T=T===null?Yh(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},g.memoizedState=T,g.childLanes=r.childLanes&~l,s.memoizedState=Qh,d}return g=r.child,r=g.sibling,d=zi(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Xh(r,s){return s=_u({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ou(r,s,l,d){return d!==null&&Ih(d),Uo(s,r.child,null,l),r=Xh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function AI(r,s,l,d,f,g,T){if(l)return s.flags&256?(s.flags&=-257,d=Hh(Error(t(422))),ou(r,s,T,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=_u({mode:"visible",children:d.children},f,0,null),g=Us(g,f,T,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&Uo(s,r.child,null,T),s.child.memoizedState=Yh(T),s.memoizedState=Qh,g);if((s.mode&1)===0)return ou(r,s,T,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var N=d.dgst;return d=N,g=Error(t(419)),d=Hh(g,d,void 0),ou(r,s,T,d)}if(N=(T&r.childLanes)!==0,nn||N){if(d=Pt,d!==null){switch(T&-T){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|T))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Yr(r,f),Hn(d,r,f,-1))}return pf(),d=Hh(Error(t(421))),ou(r,s,T,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=UI.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,yn=bi(f.nextSibling),gn=s,it=!0,zn=null,r!==null&&(In[xn++]=Kr,In[xn++]=Qr,In[xn++]=ks,Kr=r.id,Qr=r.overflow,ks=s),s=Xh(s,d.children),s.flags|=4096,s)}function vy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Rh(r.return,s,l)}function Jh(r,s,l,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function _y(r,s,l){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(Xt(r,s,d.children,l),d=st.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&vy(r,l,s);else if(r.tag===19)vy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Je(st,d),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Zc(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Jh(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Zc(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Jh(s,!0,l,null,g);break;case"together":Jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function au(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Jr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ms|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=zi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=zi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function RI(r,s,l){switch(s.tag){case 3:my(s),Fo();break;case 5:Dg(s);break;case 1:tn(s.type)&&$c(s);break;case 4:kh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;Je(Qc,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Je(st,st.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?yy(r,s,l):(Je(st,st.current&1),r=Jr(r,s,l),r!==null?r.sibling:null);Je(st,st.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return _y(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(st,st.current),d)break;return null;case 22:case 23:return s.lanes=0,hy(r,s,l)}return Jr(r,s,l)}var wy,Zh,Ey,Ty;wy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Zh=function(){},Ey=function(r,s,l,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,Os(yr.current);var g=null;switch(l){case"input":f=Zt(r,f),d=Zt(r,d),g=[];break;case"select":f=oe({},f,{value:void 0}),d=oe({},d,{value:void 0}),g=[];break;case"textarea":f=ka(r,f),d=ka(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Uc)}Ln(l,d);var T;l=null;for(G in f)if(!d.hasOwnProperty(G)&&f.hasOwnProperty(G)&&f[G]!=null)if(G==="style"){var N=f[G];for(T in N)N.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in d){var j=d[G];if(N=f?.[G],d.hasOwnProperty(G)&&j!==N&&(j!=null||N!=null))if(G==="style")if(N){for(T in N)!N.hasOwnProperty(T)||j&&j.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in j)j.hasOwnProperty(T)&&N[T]!==j[T]&&(l||(l={}),l[T]=j[T])}else l||(g||(g=[]),g.push(G,l)),l=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,N=N?N.__html:void 0,j!=null&&N!==j&&(g=g||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&et("scroll",r),g||N===j||(g=[])):(g=g||[]).push(G,j))}l&&(g=g||[]).push("style",l);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},Ty=function(r,s,l,d){l!==d&&(s.flags|=4)};function yl(r,s){if(!it)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function PI(r,s,l){var d=s.pendingProps;switch(Eh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return tn(s.type)&&Bc(),Ht(s),null;case 3:return d=s.stateNode,$o(),tt(en),tt($t),Oh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Gc(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zn!==null&&(df(zn),zn=null))),Zh(r,s),Ht(s),null;case 5:Nh(s);var f=Os(hl.current);if(l=s.type,r!==null&&s.stateNode!=null)Ey(r,s,l,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Ht(s),null}if(r=Os(yr.current),Gc(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[gr]=s,d[al]=g,r=(s.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(f=0;f<il.length;f++)et(il[f],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":fi(d,g),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},et("invalid",d);break;case"textarea":Na(d,g),et("invalid",d)}Ln(l,g),f=null;for(var T in g)if(g.hasOwnProperty(T)){var N=g[T];T==="children"?typeof N=="string"?d.textContent!==N&&(g.suppressHydrationWarning!==!0&&Fc(d.textContent,N,r),f=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(g.suppressHydrationWarning!==!0&&Fc(d.textContent,N,r),f=["children",""+N]):o.hasOwnProperty(T)&&N!=null&&T==="onScroll"&&et("scroll",d)}switch(l){case"input":qe(d),ba(d,g,!0);break;case"textarea":qe(d),pi(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=Uc)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{T=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Da(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=T.createElement(l,{is:d.is}):(r=T.createElement(l),l==="select"&&(T=r,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):r=T.createElementNS(r,l),r[gr]=s,r[al]=d,wy(r,s,!1,!1),s.stateNode=r;e:{switch(T=ho(l,d),l){case"dialog":et("cancel",r),et("close",r),f=d;break;case"iframe":case"object":case"embed":et("load",r),f=d;break;case"video":case"audio":for(f=0;f<il.length;f++)et(il[f],r);f=d;break;case"source":et("error",r),f=d;break;case"img":case"image":case"link":et("error",r),et("load",r),f=d;break;case"details":et("toggle",r),f=d;break;case"input":fi(r,d),f=Zt(r,d),et("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=oe({},d,{value:void 0}),et("invalid",r);break;case"textarea":Na(r,d),f=ka(r,d),et("invalid",r);break;default:f=d}Ln(l,f),N=f;for(g in N)if(N.hasOwnProperty(g)){var j=N[g];g==="style"?uo(r,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&fc(r,j)):g==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&ms(r,j):typeof j=="number"&&ms(r,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?j!=null&&g==="onScroll"&&et("scroll",r):j!=null&&q(r,g,j,T))}switch(l){case"input":qe(r),ba(r,d,!1);break;case"textarea":qe(r),pi(r);break;case"option":d.value!=null&&r.setAttribute("value",""+we(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Mn(r,!!d.multiple,g,!1):d.defaultValue!=null&&Mn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Uc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(r&&s.stateNode!=null)Ty(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Os(hl.current),Os(yr.current),Gc(s)){if(d=s.stateNode,l=s.memoizedProps,d[gr]=s,(g=d.nodeValue!==l)&&(r=gn,r!==null))switch(r.tag){case 3:Fc(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Fc(d.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[gr]=s,s.stateNode=d}return Ht(s),null;case 13:if(tt(st),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(it&&yn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)xg(),Fo(),s.flags|=98560,g=!1;else if(g=Gc(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[gr]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),g=!1}else zn!==null&&(df(zn),zn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(st.current&1)!==0?It===0&&(It=3):pf())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return $o(),Zh(r,s),r===null&&sl(s.stateNode.containerInfo),Ht(s),null;case 10:return Ah(s.type._context),Ht(s),null;case 17:return tn(s.type)&&Bc(),Ht(s),null;case 19:if(tt(st),g=s.memoizedState,g===null)return Ht(s),null;if(d=(s.flags&128)!==0,T=g.rendering,T===null)if(d)yl(g,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Zc(r),T!==null){for(s.flags|=128,yl(g,!1),d=T.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,r=d,g.flags&=14680066,T=g.alternate,T===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,r=T.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Je(st,st.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ze()>Go&&(s.flags|=128,d=!0,yl(g,!1),s.lanes=4194304)}else{if(!d)if(r=Zc(T),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),yl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!it)return Ht(s),null}else 2*Ze()-g.renderingStartTime>Go&&l!==1073741824&&(s.flags|=128,d=!0,yl(g,!1),s.lanes=4194304);g.isBackwards?(T.sibling=s.child,s.child=T):(l=g.last,l!==null?l.sibling=T:s.child=T,g.last=T)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ze(),s.sibling=null,l=st.current,Je(st,d?l&1|2:l&1),s):(Ht(s),null);case 22:case 23:return ff(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(vn&1073741824)!==0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function bI(r,s){switch(Eh(s),s.tag){case 1:return tn(s.type)&&Bc(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return $o(),tt(en),tt($t),Oh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Nh(s),null;case 13:if(tt(st),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(st),null;case 4:return $o(),null;case 10:return Ah(s.type._context),null;case 22:case 23:return ff(),null;case 24:return null;default:return null}}var lu=!1,qt=!1,kI=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ho(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(r,s,d)}else l.current=null}function ef(r,s,l){try{l()}catch(d){ut(r,s,d)}}var Sy=!1;function NI(r,s){if(hh=$r,r=tg(),ih(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,N=-1,j=-1,G=0,te=0,re=r,ee=null;t:for(;;){for(var ue;re!==l||f!==0&&re.nodeType!==3||(N=T+f),re!==g||d!==0&&re.nodeType!==3||(j=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(ue=re.firstChild)!==null;)ee=re,re=ue;for(;;){if(re===r)break t;if(ee===l&&++G===f&&(N=T),ee===g&&++te===d&&(j=T),(ue=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ue}l=N===-1||j===-1?null:{start:N,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(fh={focusedElem:r,selectionRange:l},$r=!1,he=s;he!==null;)if(s=he,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,he=r;else for(;he!==null;){s=he;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,mt=fe.memoizedState,$=s.stateNode,F=$.getSnapshotBeforeUpdate(s.elementType===s.type?me:Bn(s.type,me),mt);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ut(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,he=r;break}he=s.return}return fe=Sy,Sy=!1,fe}function vl(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&ef(s,l,g)}f=f.next}while(f!==d)}}function cu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function tf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Iy(r){var s=r.alternate;s!==null&&(r.alternate=null,Iy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[gr],delete s[al],delete s[yh],delete s[pI],delete s[mI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function xy(r){return r.tag===5||r.tag===3||r.tag===4}function Cy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nf(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Uc));else if(d!==4&&(r=r.child,r!==null))for(nf(r,s,l),r=r.sibling;r!==null;)nf(r,s,l),r=r.sibling}function rf(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(rf(r,s,l),r=r.sibling;r!==null;)rf(r,s,l),r=r.sibling}var Vt=null,$n=!1;function Mi(r,s,l){for(l=l.child;l!==null;)Ay(r,s,l),l=l.sibling}function Ay(r,s,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(ws,l)}catch{}switch(l.tag){case 5:qt||Ho(l,s);case 6:var d=Vt,f=$n;Vt=null,Mi(r,s,l),Vt=d,$n=f,Vt!==null&&($n?(r=Vt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Vt.removeChild(l.stateNode));break;case 18:Vt!==null&&($n?(r=Vt,l=l.stateNode,r.nodeType===8?gh(r.parentNode,l):r.nodeType===1&&gh(r,l),Ci(r)):gh(Vt,l.stateNode));break;case 4:d=Vt,f=$n,Vt=l.stateNode.containerInfo,$n=!0,Mi(r,s,l),Vt=d,$n=f;break;case 0:case 11:case 14:case 15:if(!qt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,T=g.destroy;g=g.tag,T!==void 0&&((g&2)!==0||(g&4)!==0)&&ef(l,s,T),f=f.next}while(f!==d)}Mi(r,s,l);break;case 1:if(!qt&&(Ho(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){ut(l,s,N)}Mi(r,s,l);break;case 21:Mi(r,s,l);break;case 22:l.mode&1?(qt=(d=qt)||l.memoizedState!==null,Mi(r,s,l),qt=d):Mi(r,s,l);break;default:Mi(r,s,l)}}function Ry(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new kI),s.forEach(function(d){var f=zI.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function Wn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=r,T=s,N=T;e:for(;N!==null;){switch(N.tag){case 5:Vt=N.stateNode,$n=!1;break e;case 3:Vt=N.stateNode.containerInfo,$n=!0;break e;case 4:Vt=N.stateNode.containerInfo,$n=!0;break e}N=N.return}if(Vt===null)throw Error(t(160));Ay(g,T,f),Vt=null,$n=!1;var j=f.alternate;j!==null&&(j.return=null),f.return=null}catch(G){ut(f,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Py(s,r),s=s.sibling}function Py(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(s,r),_r(r),d&4){try{vl(3,r,r.return),cu(3,r)}catch(me){ut(r,r.return,me)}try{vl(5,r,r.return)}catch(me){ut(r,r.return,me)}}break;case 1:Wn(s,r),_r(r),d&512&&l!==null&&Ho(l,l.return);break;case 5:if(Wn(s,r),_r(r),d&512&&l!==null&&Ho(l,l.return),r.flags&32){var f=r.stateNode;try{ms(f,"")}catch(me){ut(r,r.return,me)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,T=l!==null?l.memoizedProps:g,N=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{N==="input"&&g.type==="radio"&&g.name!=null&&tr(f,g),ho(N,T);var G=ho(N,g);for(T=0;T<j.length;T+=2){var te=j[T],re=j[T+1];te==="style"?uo(f,re):te==="dangerouslySetInnerHTML"?fc(f,re):te==="children"?ms(f,re):q(f,te,re,G)}switch(N){case"input":Vn(f,g);break;case"textarea":hc(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?Mn(f,!!g.multiple,ue,!1):ee!==!!g.multiple&&(g.defaultValue!=null?Mn(f,!!g.multiple,g.defaultValue,!0):Mn(f,!!g.multiple,g.multiple?[]:"",!1))}f[al]=g}catch(me){ut(r,r.return,me)}}break;case 6:if(Wn(s,r),_r(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(me){ut(r,r.return,me)}}break;case 3:if(Wn(s,r),_r(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ci(s.containerInfo)}catch(me){ut(r,r.return,me)}break;case 4:Wn(s,r),_r(r);break;case 13:Wn(s,r),_r(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(af=Ze())),d&4&&Ry(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(qt=(G=qt)||te,Wn(s,r),qt=G):Wn(s,r),_r(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!te&&(r.mode&1)!==0)for(he=r,te=r.child;te!==null;){for(re=he=te;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:vl(4,ee,ee.return);break;case 1:Ho(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(me){ut(d,l,me)}}break;case 5:Ho(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Ny(re);continue}}ue!==null?(ue.return=ee,he=ue):Ny(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{f=re.stateNode,G?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(N=re.stateNode,j=re.memoizedProps.style,T=j!=null&&j.hasOwnProperty("display")?j.display:null,N.style.display=yi("display",T))}catch(me){ut(r,r.return,me)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(me){ut(r,r.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Wn(s,r),_r(r),d&4&&Ry(r);break;case 21:break;default:Wn(s,r),_r(r)}}function _r(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(xy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(ms(f,""),d.flags&=-33);var g=Cy(r);rf(r,g,f);break;case 3:case 4:var T=d.stateNode.containerInfo,N=Cy(r);nf(r,N,T);break;default:throw Error(t(161))}}catch(j){ut(r,r.return,j)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function DI(r,s,l){he=r,by(r)}function by(r,s,l){for(var d=(r.mode&1)!==0;he!==null;){var f=he,g=f.child;if(f.tag===22&&d){var T=f.memoizedState!==null||lu;if(!T){var N=f.alternate,j=N!==null&&N.memoizedState!==null||qt;N=lu;var G=qt;if(lu=T,(qt=j)&&!G)for(he=f;he!==null;)T=he,j=T.child,T.tag===22&&T.memoizedState!==null?Dy(f):j!==null?(j.return=T,he=j):Dy(f);for(;g!==null;)he=g,by(g),g=g.sibling;he=f,lu=N,qt=G}ky(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,he=g):ky(r)}}function ky(r){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:qt||cu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!qt)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Bn(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Ng(s,g,d);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ng(s,T,l)}break;case 5:var N=s.stateNode;if(l===null&&s.flags&4){l=N;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Ci(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||s.flags&512&&tf(s)}catch(ee){ut(s,s.return,ee)}}if(s===r){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function Ny(r){for(;he!==null;){var s=he;if(s===r){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function Dy(r){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{cu(4,s)}catch(j){ut(s,l,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(j){ut(s,f,j)}}var g=s.return;try{tf(s)}catch(j){ut(s,g,j)}break;case 5:var T=s.return;try{tf(s)}catch(j){ut(s,T,j)}}}catch(j){ut(s,s.return,j)}if(s===r){he=null;break}var N=s.sibling;if(N!==null){N.return=s.return,he=N;break}he=s.return}}var OI=Math.ceil,uu=Y.ReactCurrentDispatcher,sf=Y.ReactCurrentOwner,Rn=Y.ReactCurrentBatchConfig,We=0,Pt=null,_t=null,Mt=0,vn=0,qo=ki(0),It=0,_l=null,Ms=0,du=0,of=0,wl=null,rn=null,af=0,Go=1/0,Zr=null,hu=!1,lf=null,Li=null,fu=!1,ji=null,pu=0,El=0,cf=null,mu=-1,gu=0;function Jt(){return(We&6)!==0?Ze():mu!==-1?mu:mu=Ze()}function Fi(r){return(r.mode&1)===0?1:(We&2)!==0&&Mt!==0?Mt&-Mt:yI.transition!==null?(gu===0&&(gu=Ba()),gu):(r=Be,r!==0||(r=window.event,r=r===void 0?16:To(r.type)),r)}function Hn(r,s,l,d){if(50<El)throw El=0,cf=null,Error(t(185));Is(r,l,d),((We&2)===0||r!==Pt)&&(r===Pt&&((We&2)===0&&(du|=l),It===4&&Ui(r,Mt)),sn(r,d),l===1&&We===0&&(s.mode&1)===0&&(Go=Ze()+500,Wc&&Di()))}function sn(r,s){var l=r.callbackNode;Ss(r,s);var d=Ur(r,r===Pt?Mt:0);if(d===0)l!==null&&mo(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&mo(l),s===1)r.tag===0?gI(Vy.bind(null,r)):wg(Vy.bind(null,r)),hI(function(){(We&6)===0&&Di()}),l=null;else{switch(or(d)){case 1:l=go;break;case 4:l=Fa;break;case 16:l=_s;break;case 536870912:l=yo;break;default:l=_s}l=$y(l,Oy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Oy(r,s){if(mu=-1,gu=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Ko()&&r.callbackNode!==l)return null;var d=Ur(r,r===Pt?Mt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=yu(r,d);else{s=d;var f=We;We|=2;var g=Ly();(Pt!==r||Mt!==s)&&(Zr=null,Go=Ze()+500,js(r,s));do try{LI();break}catch(N){My(r,N)}while(!0);Ch(),uu.current=g,We=f,_t!==null?s=0:(Pt=null,Mt=0,s=It)}if(s!==0){if(s===2&&(f=za(r),f!==0&&(d=f,s=uf(r,f))),s===1)throw l=_l,js(r,0),Ui(r,d),sn(r,Ze()),l;if(s===6)Ui(r,d);else{if(f=r.current.alternate,(d&30)===0&&!VI(f)&&(s=yu(r,d),s===2&&(g=za(r),g!==0&&(d=g,s=uf(r,g))),s===1))throw l=_l,js(r,0),Ui(r,d),sn(r,Ze()),l;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Fs(r,rn,Zr);break;case 3:if(Ui(r,d),(d&130023424)===d&&(s=af+500-Ze(),10<s)){if(Ur(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){Jt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=mh(Fs.bind(null,r,rn,Zr),s);break}Fs(r,rn,Zr);break;case 4:if(Ui(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var T=31-dn(d);g=1<<T,T=s[T],T>f&&(f=T),d&=~g}if(d=f,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*OI(d/1960))-d,10<d){r.timeoutHandle=mh(Fs.bind(null,r,rn,Zr),d);break}Fs(r,rn,Zr);break;case 5:Fs(r,rn,Zr);break;default:throw Error(t(329))}}}return sn(r,Ze()),r.callbackNode===l?Oy.bind(null,r):null}function uf(r,s){var l=wl;return r.current.memoizedState.isDehydrated&&(js(r,s).flags|=256),r=yu(r,s),r!==2&&(s=rn,rn=l,s!==null&&df(s)),r}function df(r){rn===null?rn=r:rn.push.apply(rn,r)}function VI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!Un(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(r,s){for(s&=~of,s&=~du,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-dn(s),d=1<<l;r[l]=-1,s&=~d}}function Vy(r){if((We&6)!==0)throw Error(t(327));Ko();var s=Ur(r,0);if((s&1)===0)return sn(r,Ze()),null;var l=yu(r,s);if(r.tag!==0&&l===2){var d=za(r);d!==0&&(s=d,l=uf(r,d))}if(l===1)throw l=_l,js(r,0),Ui(r,s),sn(r,Ze()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Fs(r,rn,Zr),sn(r,Ze()),null}function hf(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(Go=Ze()+500,Wc&&Di())}}function Ls(r){ji!==null&&ji.tag===0&&(We&6)===0&&Ko();var s=We;We|=1;var l=Rn.transition,d=Be;try{if(Rn.transition=null,Be=1,r)return r()}finally{Be=d,Rn.transition=l,We=s,(We&6)===0&&Di()}}function ff(){vn=qo.current,tt(qo)}function js(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,dI(l)),_t!==null)for(l=_t.return;l!==null;){var d=l;switch(Eh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Bc();break;case 3:$o(),tt(en),tt($t),Oh();break;case 5:Nh(d);break;case 4:$o();break;case 13:tt(st);break;case 19:tt(st);break;case 10:Ah(d.type._context);break;case 22:case 23:ff()}l=l.return}if(Pt=r,_t=r=zi(r.current,null),Mt=vn=s,It=0,_l=null,of=du=Ms=0,rn=wl=null,Ds!==null){for(s=0;s<Ds.length;s++)if(l=Ds[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var T=g.next;g.next=f,d.next=T}l.pending=d}Ds=null}return r}function My(r,s){do{var l=_t;try{if(Ch(),eu.current=iu,tu){for(var d=ot.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}tu=!1}if(Vs=0,Rt=St=ot=null,fl=!1,pl=0,sf.current=null,l===null||l.return===null){It=1,_l=s,_t=null;break}e:{var g=r,T=l.return,N=l,j=s;if(s=Mt,N.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,te=N,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=ay(T);if(ue!==null){ue.flags&=-257,ly(ue,T,N,g,s),ue.mode&1&&oy(g,G,s),s=ue,j=G;var fe=s.updateQueue;if(fe===null){var me=new Set;me.add(j),s.updateQueue=me}else fe.add(j);break e}else{if((s&1)===0){oy(g,G,s),pf();break e}j=Error(t(426))}}else if(it&&N.mode&1){var mt=ay(T);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),ly(mt,T,N,g,s),Ih(Wo(j,N));break e}}g=j=Wo(j,N),It!==4&&(It=2),wl===null?wl=[g]:wl.push(g),g=T;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var $=iy(g,j,s);kg(g,$);break e;case 1:N=j;var F=g.type,H=g.stateNode;if((g.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Li===null||!Li.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var ie=sy(g,N,s);kg(g,ie);break e}}g=g.return}while(g!==null)}Fy(l)}catch(ge){s=ge,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function Ly(){var r=uu.current;return uu.current=iu,r===null?iu:r}function pf(){(It===0||It===3||It===2)&&(It=4),Pt===null||(Ms&268435455)===0&&(du&268435455)===0||Ui(Pt,Mt)}function yu(r,s){var l=We;We|=2;var d=Ly();(Pt!==r||Mt!==s)&&(Zr=null,js(r,s));do try{MI();break}catch(f){My(r,f)}while(!0);if(Ch(),We=l,uu.current=d,_t!==null)throw Error(t(261));return Pt=null,Mt=0,It}function MI(){for(;_t!==null;)jy(_t)}function LI(){for(;_t!==null&&!vs();)jy(_t)}function jy(r){var s=By(r.alternate,r,vn);r.memoizedProps=r.pendingProps,s===null?Fy(r):_t=s,sf.current=null}function Fy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=PI(l,s,vn),l!==null){_t=l;return}}else{if(l=bI(l,s),l!==null){l.flags&=32767,_t=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{It=6,_t=null;return}}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);It===0&&(It=5)}function Fs(r,s,l){var d=Be,f=Rn.transition;try{Rn.transition=null,Be=1,jI(r,s,l,d)}finally{Rn.transition=f,Be=d}return null}function jI(r,s,l,d){do Ko();while(ji!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Zd(r,g),r===Pt&&(_t=Pt=null,Mt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||fu||(fu=!0,$y(_s,function(){return Ko(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Rn.transition,Rn.transition=null;var T=Be;Be=1;var N=We;We|=4,sf.current=null,NI(r,l),Py(l,r),iI(fh),$r=!!hh,fh=hh=null,r.current=l,DI(l),Fr(),We=N,Be=T,Rn.transition=g}else r.current=l;if(fu&&(fu=!1,ji=r,pu=f),g=r.pendingLanes,g===0&&(Li=null),Ic(l.stateNode),sn(r,Ze()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(hu)throw hu=!1,r=lf,lf=null,r;return(pu&1)!==0&&r.tag!==0&&Ko(),g=r.pendingLanes,(g&1)!==0?r===cf?El++:(El=0,cf=r):El=0,Di(),null}function Ko(){if(ji!==null){var r=or(pu),s=Rn.transition,l=Be;try{if(Rn.transition=null,Be=16>r?16:r,ji===null)var d=!1;else{if(r=ji,ji=null,pu=0,(We&6)!==0)throw Error(t(331));var f=We;for(We|=4,he=r.current;he!==null;){var g=he,T=g.child;if((he.flags&16)!==0){var N=g.deletions;if(N!==null){for(var j=0;j<N.length;j++){var G=N[j];for(he=G;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:vl(8,te,g)}var re=te.child;if(re!==null)re.return=te,he=re;else for(;he!==null;){te=he;var ee=te.sibling,ue=te.return;if(Iy(te),te===G){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var fe=g.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var mt=me.sibling;me.sibling=null,me=mt}while(me!==null)}}he=g}}if((g.subtreeFlags&2064)!==0&&T!==null)T.return=g,he=T;else e:for(;he!==null;){if(g=he,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:vl(9,g,g.return)}var $=g.sibling;if($!==null){$.return=g.return,he=$;break e}he=g.return}}var F=r.current;for(he=F;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=F;he!==null;){if(N=he,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:cu(9,N)}}catch(ge){ut(N,N.return,ge)}if(N===T){he=null;break e}var ie=N.sibling;if(ie!==null){ie.return=N.return,he=ie;break e}he=N.return}}if(We=f,Di(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(ws,r)}catch{}d=!0}return d}finally{Be=l,Rn.transition=s}}return!1}function Uy(r,s,l){s=Wo(l,s),s=iy(r,s,1),r=Vi(r,s,1),s=Jt(),r!==null&&(Is(r,1,s),sn(r,s))}function ut(r,s,l){if(r.tag===3)Uy(r,r,l);else for(;s!==null;){if(s.tag===3){Uy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))){r=Wo(l,r),r=sy(s,r,1),s=Vi(s,r,1),r=Jt(),s!==null&&(Is(s,1,r),sn(s,r));break}}s=s.return}}function FI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&l,Pt===r&&(Mt&l)===l&&(It===4||It===3&&(Mt&130023424)===Mt&&500>Ze()-af?js(r,0):of|=l),sn(r,s)}function zy(r,s){s===0&&((r.mode&1)===0?s=1:(s=Si,Si<<=1,(Si&130023424)===0&&(Si=4194304)));var l=Jt();r=Yr(r,s),r!==null&&(Is(r,s,l),sn(r,l))}function UI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),zy(r,l)}function zI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),zy(r,l)}var By;By=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||en.current)nn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return nn=!1,RI(r,s,l);nn=(r.flags&131072)!==0}else nn=!1,it&&(s.flags&1048576)!==0&&Eg(s,qc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;au(r,s),r=s.pendingProps;var f=Mo(s,$t.current);Bo(s,l),f=Lh(null,s,d,r,f,l);var g=jh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,tn(d)?(g=!0,$c(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,bh(s),f.updater=su,s.stateNode=f,f._reactInternals=s,Wh(s,d,r,l),s=Kh(null,s,d,!0,g,l)):(s.tag=0,it&&g&&wh(s),Xt(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(au(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=$I(d),r=Bn(d,r),f){case 0:s=Gh(null,s,d,r,l);break e;case 1:s=py(null,s,d,r,l);break e;case 11:s=cy(null,s,d,r,l);break e;case 14:s=uy(null,s,d,Bn(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Bn(d,f),Gh(r,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Bn(d,f),py(r,s,d,f,l);case 3:e:{if(my(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,f=g.element,bg(r,s),Jc(s,d,null,l);var T=s.memoizedState;if(d=T.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Wo(Error(t(423)),s),s=gy(r,s,d,l,f);break e}else if(d!==f){f=Wo(Error(t(424)),s),s=gy(r,s,d,l,f);break e}else for(yn=bi(s.stateNode.containerInfo.firstChild),gn=s,it=!0,zn=null,l=Rg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fo(),d===f){s=Jr(r,s,l);break e}Xt(r,s,d,l)}s=s.child}return s;case 5:return Dg(s),r===null&&Sh(s),d=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,T=f.children,ph(d,f)?T=null:g!==null&&ph(d,g)&&(s.flags|=32),fy(r,s),Xt(r,s,T,l),s.child;case 6:return r===null&&Sh(s),null;case 13:return yy(r,s,l);case 4:return kh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Uo(s,null,d,l):Xt(r,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Bn(d,f),cy(r,s,d,f,l);case 7:return Xt(r,s,s.pendingProps,l),s.child;case 8:return Xt(r,s,s.pendingProps.children,l),s.child;case 12:return Xt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,T=f.value,Je(Qc,d._currentValue),d._currentValue=T,g!==null)if(Un(g.value,T)){if(g.children===f.children&&!en.current){s=Jr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var N=g.dependencies;if(N!==null){T=g.child;for(var j=N.firstContext;j!==null;){if(j.context===d){if(g.tag===1){j=Xr(-1,l&-l),j.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?j.next=j:(j.next=te.next,te.next=j),G.pending=j}}g.lanes|=l,j=g.alternate,j!==null&&(j.lanes|=l),Rh(g.return,l,s),N.lanes|=l;break}j=j.next}}else if(g.tag===10)T=g.type===s.type?null:g.child;else if(g.tag===18){if(T=g.return,T===null)throw Error(t(341));T.lanes|=l,N=T.alternate,N!==null&&(N.lanes|=l),Rh(T,l,s),T=g.sibling}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===s){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}Xt(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,Bo(s,l),f=Cn(f),d=d(f),s.flags|=1,Xt(r,s,d,l),s.child;case 14:return d=s.type,f=Bn(d,s.pendingProps),f=Bn(d.type,f),uy(r,s,d,f,l);case 15:return dy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:Bn(d,f),au(r,s),s.tag=1,tn(d)?(r=!0,$c(s)):r=!1,Bo(s,l),ny(s,d,f),Wh(s,d,f,l),Kh(null,s,d,!0,r,l);case 19:return _y(r,s,l);case 22:return hy(r,s,l)}throw Error(t(156,s.tag))};function $y(r,s){return ja(r,s)}function BI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,l,d){return new BI(r,s,l,d)}function mf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $I(r){if(typeof r=="function")return mf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Pe)return 14}return 2}function zi(r,s){var l=r.alternate;return l===null?(l=Pn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function vu(r,s,l,d,f,g){var T=2;if(d=r,typeof r=="function")mf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case A:return Us(l.children,f,g,s);case C:T=8,f|=8;break;case P:return r=Pn(12,l,s,f|2),r.elementType=P,r.lanes=g,r;case R:return r=Pn(13,l,s,f),r.elementType=R,r.lanes=g,r;case pe:return r=Pn(19,l,s,f),r.elementType=pe,r.lanes=g,r;case ye:return _u(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:T=10;break e;case O:T=9;break e;case L:T=11;break e;case Pe:T=14;break e;case _e:T=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Pn(T,l,s,f),s.elementType=r,s.type=d,s.lanes=g,s}function Us(r,s,l,d){return r=Pn(7,r,d,s),r.lanes=l,r}function _u(r,s,l,d){return r=Pn(22,r,d,s),r.elementType=ye,r.lanes=l,r.stateNode={isHidden:!1},r}function gf(r,s,l){return r=Pn(6,r,null,s),r.lanes=l,r}function yf(r,s,l){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function WI(r,s,l,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function vf(r,s,l,d,f,g,T,N,j){return r=new WI(r,s,l,N,j),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Pn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(g),r}function HI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Wy(r){if(!r)return Ni;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(tn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(tn(l))return vg(r,l,s)}return s}function Hy(r,s,l,d,f,g,T,N,j){return r=vf(l,d,!0,r,f,g,T,N,j),r.context=Wy(null),l=r.current,d=Jt(),f=Fi(l),g=Xr(d,f),g.callback=s??null,Vi(l,g,f),r.current.lanes=f,Is(r,f,d),sn(r,d),r}function wu(r,s,l,d){var f=s.current,g=Jt(),T=Fi(f);return l=Wy(l),s.context===null?s.context=l:s.pendingContext=l,s=Xr(g,T),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Vi(f,s,T),r!==null&&(Hn(r,f,T,g),Xc(r,f,T)),T}function Eu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function qy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function _f(r,s){qy(r,s),(r=r.alternate)&&qy(r,s)}function qI(){return null}var Gy=typeof reportError=="function"?reportError:function(r){console.error(r)};function wf(r){this._internalRoot=r}Tu.prototype.render=wf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));wu(r,s,null,null)},Tu.prototype.unmount=wf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ls(function(){wu(null,r,null,null)}),s[qr]=null}};function Tu(r){this._internalRoot=r}Tu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ga();r={blockedOn:null,target:r,priority:s};for(var l=0;l<hn.length&&s!==0&&s<hn[l].priority;l++);hn.splice(l,0,r),l===0&&wo(r)}};function Ef(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Su(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ky(){}function GI(r,s,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var G=Eu(T);g.call(G)}}var T=Hy(s,d,r,0,null,!1,!1,"",Ky);return r._reactRootContainer=T,r[qr]=T.current,sl(r.nodeType===8?r.parentNode:r),Ls(),T}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var N=d;d=function(){var G=Eu(j);N.call(G)}}var j=vf(r,0,!1,null,null,!1,!1,"",Ky);return r._reactRootContainer=j,r[qr]=j.current,sl(r.nodeType===8?r.parentNode:r),Ls(function(){wu(s,j,l,d)}),j}function Iu(r,s,l,d,f){var g=l._reactRootContainer;if(g){var T=g;if(typeof f=="function"){var N=f;f=function(){var j=Eu(T);N.call(j)}}wu(s,T,r,f)}else T=GI(l,s,r,f,d);return Eu(T)}Ha=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ge(s.pendingLanes);l!==0&&(Wa(s,l|1),sn(s,Ze()),(We&6)===0&&(Go=Ze()+500,Di()))}break;case 13:Ls(function(){var d=Yr(r,1);if(d!==null){var f=Jt();Hn(d,r,1,f)}}),_f(r,1)}},vo=function(r){if(r.tag===13){var s=Yr(r,134217728);if(s!==null){var l=Jt();Hn(s,r,134217728,l)}_f(r,134217728)}},qa=function(r){if(r.tag===13){var s=Fi(r),l=Yr(r,s);if(l!==null){var d=Jt();Hn(l,r,s,d)}_f(r,s)}},Ga=function(){return Be},Ka=function(r,s){var l=Be;try{return Be=r,s()}finally{Be=l}},Mr=function(r,s,l){switch(s){case"input":if(Vn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var f=zc(d);if(!f)throw Error(t(90));Xe(d),Vn(d,f)}}}break;case"textarea":hc(r,l);break;case"select":s=l.value,s!=null&&Mn(r,!!l.multiple,s,!1)}},mc=hf,gc=Ls;var KI={usingClientEntryPoint:!1,Events:[ll,Oo,zc,_i,wi,hf]},Tl={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QI={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Sc(r),r===null?null:r.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||qI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{ws=xu.inject(QI),un=xu}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KI,on.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(s))throw Error(t(200));return HI(r,s,null,l)},on.createRoot=function(r,s){if(!Ef(r))throw Error(t(299));var l=!1,d="",f=Gy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=vf(r,1,!1,null,null,l,!1,d,f),r[qr]=s.current,sl(r.nodeType===8?r.parentNode:r),new wf(s)},on.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Sc(s),r=r===null?null:r.stateNode,r},on.flushSync=function(r){return Ls(r)},on.hydrate=function(r,s,l){if(!Su(s))throw Error(t(200));return Iu(null,r,s,!0,l)},on.hydrateRoot=function(r,s,l){if(!Ef(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",T=Gy;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Hy(s,null,r,1,l??null,f,!1,g,T),r[qr]=s.current,sl(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Tu(s)},on.render=function(r,s,l){if(!Su(s))throw Error(t(200));return Iu(null,r,s,!1,l)},on.unmountComponentAtNode=function(r){if(!Su(r))throw Error(t(40));return r._reactRootContainer?(Ls(function(){Iu(null,null,r,!1,function(){r._reactRootContainer=null,r[qr]=null})}),!0):!1},on.unstable_batchedUpdates=hf,on.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Su(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Iu(r,s,l,!1,d)},on.version="18.3.1-next-f1338f8080-20240426",on}var nv;function Ew(){if(nv)return If.exports;nv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),If.exports=rx(),If.exports}var rv;function ix(){if(rv)return Cu;rv=1;var n=Ew();return Cu.createRoot=n.createRoot,Cu.hydrateRoot=n.hydrateRoot,Cu}var sx=ix(),D=Vp();const qi=ww(D),Tw=XI({__proto__:null,default:qi},[D]),ox=D.createContext(void 0);function ax({children:n}){const[e,t]=D.useState(()=>{const a=localStorage.getItem("sparkd-theme");return a||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});D.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("sparkd-theme",e)},[e]);const o={theme:e,toggleTheme:()=>{t(a=>a==="light"?"dark":"light")},setTheme:t};return w.jsx(ox.Provider,{value:o,children:n})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cx=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),iv=n=>{const e=cx(n);return e.charAt(0).toUpperCase()+e.slice(1)},Sw=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ux={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...h},p)=>D.createElement("svg",{ref:p,...ux,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Sw("lucide",o),...h},[...c.map(([m,_])=>D.createElement(m,_)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(n,e)=>{const t=D.forwardRef(({className:i,...o},a)=>D.createElement(dx,{ref:a,iconNode:e,className:Sw(`lucide-${lx(iv(n))}`,`lucide-${n}`,i),...o}));return t.displayName=iv(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],fx=At("camera",hx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mx=At("check",px);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Iw=At("chevron-down",gx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ei=At("chevron-right",yx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_x=At("chevron-up",vx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ex=At("graduation-cap",wx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Sx=At("heart",Tx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],xx=At("log-out",Ix);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ax=At("mail",Cx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Px=At("map-pin",Rx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],xw=At("pen-line",bx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Nx=At("phone",kx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ox=At("search",Dx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mx=At("settings",Vx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jx=At("shield",Lx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ux=At("sparkles",Fx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cw=At("user",zx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],$x=At("users",Bx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hx=At("x",Wx),qx=[{id:1,name:"Emma",age:20,major:"Business Administration",year:"Junior",distance:"0.5 mi",bio:"Love hiking Camelback Mountain and trying new restaurants in Tempe! Always down for a study session at the MU or catching a Sun Devils game. ",interests:["Hiking","Sun Devils Sports","Photography"],photos:["/api/placeholder/400/600"]},{id:2,name:"Alex",age:21,major:"Computer Science",year:"Senior",distance:"0.8 mi",bio:"Tech enthusiast who loves gaming and rock climbing. Looking for someone to explore Phoenix with!",interests:["Gaming","Rock Climbing","Technology"],photos:["/api/placeholder/400/600"]},{id:3,name:"Sarah",age:19,major:"Psychology",year:"Sophomore",distance:"1.2 mi",bio:"Psychology major who loves art, music, and deep conversations. Always up for coffee at the MU!",interests:["Art","Music","Coffee"],photos:["/api/placeholder/400/600"]}];function sv({userProfile:n}){const[e,t]=D.useState(0),[i,o]=D.useState(qx),a=i[e],c=h=>{e<i.length-1?t(e+1):t(0)};return a?w.jsxs("div",{className:"flex-1 bg-black px-4 py-6 flex flex-col",children:[w.jsx("div",{className:"flex-1 max-w-sm mx-auto w-full",children:w.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-2xl h-full flex flex-col",children:[w.jsx("div",{className:"relative h-96 bg-gray-200",children:w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("div",{className:"w-32 h-32 bg-gray-300 rounded-full flex items-center justify-center",children:w.jsx("span",{className:"text-4xl text-gray-500",children:""})})})}),w.jsxs("div",{className:"flex-1 bg-black text-white p-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsx("div",{className:"flex items-center space-x-2",children:w.jsxs("h2",{className:"text-2xl font-bold",children:[a.name,", ",a.age]})}),w.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[w.jsx(Px,{size:16,className:"mr-1"}),a.distance]})]}),w.jsxs("div",{className:"flex items-center text-gray-300 mb-4",children:[w.jsx(Ex,{size:16,className:"mr-2"}),w.jsxs("span",{children:[a.major,"  ",a.year]})]}),w.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:a.bio}),w.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.interests.map((h,p)=>w.jsx("span",{className:"bg-[#8B4B6B] text-white px-3 py-1 rounded-full text-sm",children:h},p)),a.interests.length>3&&w.jsxs("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm",children:["+",a.interests.length-3," more"]})]}),w.jsxs("div",{className:"flex justify-center space-x-6",children:[w.jsx("button",{onClick:()=>c(),className:"w-14 h-14 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors",children:w.jsx(Hx,{size:24,className:"text-white"})}),w.jsx("button",{onClick:()=>c(),className:"w-14 h-14 bg-yellow-500 hover:bg-yellow-600 rounded-full flex items-center justify-center transition-colors",children:w.jsx("span",{className:"text-white text-2xl",children:""})})]})]})]})}),w.jsxs("div",{className:"text-center mt-4",children:[w.jsx("div",{className:"flex justify-center space-x-2",children:i.map((h,p)=>w.jsx("div",{className:`w-2 h-2 rounded-full ${p===e?"bg-[#8B4B6B]":"bg-gray-600"}`},p))}),w.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[e+1," of ",i.length]})]})]}):w.jsx("div",{className:"flex-1 flex items-center justify-center bg-black text-white",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-6xl mb-4",children:""}),w.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No more profiles"}),w.jsx("p",{className:"text-gray-400",children:"Check back later for more Sun Devils!"})]})})}function Gx(){return w.jsx("div",{className:"flex-1 bg-black flex items-center justify-center px-6",children:w.jsxs("div",{className:"text-center max-w-sm",children:[w.jsx("div",{className:"mb-6",children:w.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-red-500",children:w.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:[w.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),w.jsx("path",{d:"M8 2L16 22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})}),w.jsx("h2",{className:"text-white text-2xl font-semibold mb-3",children:"No matches yet"}),w.jsx("p",{className:"text-gray-400 text-base leading-relaxed",children:"Keep swiping to find your perfect Sun Devil match!"})]})})}function Kx({user:n,userProfile:e}){const t=e?.interests||["Sun Devils Sports","Study Groups","Campus Life"];return w.jsxs("div",{className:"flex-1 bg-black overflow-y-auto",children:[w.jsxs("div",{className:"bg-[#8B4B6B] px-4 py-4 flex items-center justify-between",children:[w.jsx("h1",{className:"text-white text-xl font-semibold",children:"Your Profile"}),w.jsxs("button",{className:"bg-black/20 hover:bg-black/30 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[w.jsx(xw,{size:16}),w.jsx("span",{children:"Edit"})]})]}),w.jsxs("div",{className:"px-4 py-6",children:[w.jsx("div",{className:"relative mb-6",children:w.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 rounded-2xl overflow-hidden",children:w.jsxs("div",{className:"w-full h-full bg-gradient-to-b from-blue-300 to-yellow-200 relative",children:[w.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-yellow-600 to-yellow-400"}),w.jsx("div",{className:"absolute top-16 left-1/2 transform -translate-x-1/2",children:w.jsxs("div",{className:"w-16 h-20 relative",children:[w.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-red-500 via-yellow-500 to-green-500 border-2 border-white shadow-lg",children:w.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-red-400 via-yellow-400 to-green-400 opacity-80"})}),w.jsx("div",{className:"absolute top-14 left-1/2 transform -translate-x-1/2 w-4 h-3 bg-yellow-800 rounded-sm"}),w.jsx("div",{className:"absolute top-12 left-1/4 w-px h-3 bg-gray-600"}),w.jsx("div",{className:"absolute top-12 right-1/4 w-px h-3 bg-gray-600"})]})}),w.jsxs("div",{className:"absolute bottom-8 right-8",children:[w.jsx("div",{className:"w-12 h-8 bg-yellow-600 rounded-t-lg"}),w.jsx("div",{className:"w-12 h-6 bg-orange-600"})]})]})})}),w.jsx("div",{className:"bg-gray-900 rounded-2xl p-6 mb-6",children:w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:"Name"}),w.jsx("p",{className:"text-white text-lg",children:e?.firstName&&e?.lastName?`${e.firstName} ${e.lastName}`:n?.displayName||"Your Name"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:"Age"}),w.jsx("p",{className:"text-white text-lg",children:e?.age||"20"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:"Major"}),w.jsx("p",{className:"text-white text-lg",children:e?.major||"Your Major"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:"Year"}),w.jsx("p",{className:"text-white text-lg capitalize",children:e?.year||"Sophomore"})]})]})}),w.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 mb-6",children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Bio"}),w.jsx("p",{className:"text-gray-300 leading-relaxed",children:e?.bio||"Tell other Sun Devils about yourself! What do you love about ASU? What are you looking for?"})]}),w.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6",children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4",children:"Interests"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((i,o)=>w.jsx("span",{className:"bg-[#8B4B6B] text-white px-4 py-2 rounded-full text-sm font-medium",children:i},o))})]})]})]})}function Qx({user:n,userProfile:e,onSignOut:t}){return w.jsxs("div",{className:"flex-1 bg-black overflow-y-auto",children:[w.jsx("div",{className:"bg-[#8B4B6B] px-4 py-4",children:w.jsxs("div",{children:[w.jsx("h1",{className:"text-white text-xl font-semibold",children:"Settings"}),w.jsx("p",{className:"text-white/80 text-sm",children:"Manage your Spark'd experience"})]})}),w.jsxs("div",{className:"px-4 py-6",children:[w.jsx("div",{className:"bg-gray-900 rounded-2xl p-1 mb-6",children:w.jsxs("div",{className:"p-5",children:[w.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[w.jsx(Cw,{size:20,className:"text-gray-400"}),w.jsx("h2",{className:"text-white text-lg font-semibold",children:"Account"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(Ax,{size:18,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-medium",children:"Email"}),w.jsx("p",{className:"text-gray-400 text-sm",children:n?.email||"user@asu.edu"})]})]}),w.jsx(ei,{size:18,className:"text-gray-400"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(Nx,{size:18,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-medium",children:"Phone Number"}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("p",{className:"text-gray-400 text-sm",children:"+1 (480) 555-0123"}),w.jsx("span",{className:"bg-green-600 text-white text-xs px-2 py-1 rounded-full",children:"Verified"})]})]})]}),w.jsx(ei,{size:18,className:"text-gray-400"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(fx,{size:18,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-medium",children:"Manage Photos"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Add, remove, or reorder your photos"})]})]}),w.jsx(ei,{size:18,className:"text-gray-400"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(xw,{size:18,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-medium",children:"Edit Profile Info"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Update your bio, prompts, and details"})]})]}),w.jsx(ei,{size:18,className:"text-gray-400"})]})]})}),w.jsx("div",{className:"bg-gray-900 rounded-2xl p-1 mb-6",children:w.jsxs("div",{className:"p-5",children:[w.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[w.jsx(Ox,{size:20,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-white text-lg font-semibold",children:"Discovery Preferences"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Control who you see and who sees you"})]})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsx("div",{children:w.jsx("p",{className:"text-white font-medium",children:"Age Range"})}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("span",{className:"text-gray-400 text-sm",children:"18 - 25"}),w.jsx(ei,{size:18,className:"text-gray-400"})]})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsx("div",{children:w.jsx("p",{className:"text-white font-medium",children:"Maximum Distance"})}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("span",{className:"text-gray-400 text-sm",children:"5 miles"}),w.jsx(ei,{size:18,className:"text-gray-400"})]})]}),w.jsxs("div",{className:"flex items-center justify-between py-4",children:[w.jsx("div",{children:w.jsx("p",{className:"text-white font-medium",children:"Show Me"})}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("span",{className:"text-gray-400 text-sm",children:"Everyone"}),w.jsx(ei,{size:18,className:"text-gray-400"})]})]})]})}),w.jsx("div",{className:"bg-gray-900 rounded-2xl p-1 mb-6",children:w.jsxs("div",{className:"p-5",children:[w.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[w.jsx(jx,{size:20,className:"text-gray-400"}),w.jsx("h2",{className:"text-white text-lg font-semibold",children:"Privacy & Safety"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsx("p",{className:"text-white font-medium",children:"Block Contacts"}),w.jsx(ei,{size:18,className:"text-gray-400"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4",children:[w.jsx("p",{className:"text-white font-medium",children:"Safety Center"}),w.jsx(ei,{size:18,className:"text-gray-400"})]})]})}),w.jsxs("button",{onClick:t,className:"w-full bg-red-600 hover:bg-red-700 text-white py-4 px-6 rounded-2xl flex items-center justify-center space-x-2 transition-colors",children:[w.jsx(xx,{size:20}),w.jsx("span",{className:"font-medium",children:"Sign Out"})]}),w.jsx("div",{className:"text-center mt-6",children:w.jsx("p",{className:"text-gray-500 text-sm",children:"Spark'd v1.0.0"})})]})]})}function Yx({user:n,userProfile:e,onSignOut:t}){const[i,o]=D.useState("discover"),a=()=>{switch(i){case"discover":return w.jsx(sv,{userProfile:e});case"matches":return w.jsx(Gx,{});case"profile":return w.jsx(Kx,{user:n,userProfile:e});case"settings":return w.jsx(Qx,{user:n,userProfile:e,onSignOut:t});default:return w.jsx(sv,{userProfile:e})}};return w.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[w.jsx("div",{className:"brand-header px-4 py-4 flex-shrink-0",children:w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center shadow-md",children:w.jsx("span",{className:"text-white text-lg",children:""})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-white font-semibold text-lg tracking-wide",children:"Spark'd"}),w.jsx("p",{className:"text-white/80 text-sm",children:"College dating & date planning"})]})]})}),w.jsx("div",{className:"flex-1 overflow-hidden",children:a()}),w.jsx("div",{className:"bottom-nav flex-shrink-0",children:w.jsxs("div",{className:"flex",children:[w.jsxs("button",{onClick:()=>o("discover"),className:`flex-1 py-4 px-2 flex flex-col items-center space-y-1 transition-colors ${i==="discover"?"active-tab":"text-gray-400 hover:text-white"}`,children:[w.jsx(Sx,{size:24}),w.jsx("span",{className:"text-xs font-medium",children:"Discover"})]}),w.jsxs("button",{onClick:()=>o("matches"),className:`flex-1 py-4 px-2 flex flex-col items-center space-y-1 transition-colors ${i==="matches"?"active-tab":"text-gray-400 hover:text-white"}`,children:[w.jsx($x,{size:24}),w.jsx("span",{className:"text-xs font-medium",children:"Matches"})]}),w.jsxs("button",{onClick:()=>o("profile"),className:`flex-1 py-4 px-2 flex flex-col items-center space-y-1 transition-colors ${i==="profile"?"active-tab":"text-gray-400 hover:text-white"}`,children:[w.jsx(Cw,{size:24}),w.jsx("span",{className:"text-xs font-medium",children:"Profile"})]}),w.jsxs("button",{onClick:()=>o("settings"),className:`flex-1 py-4 px-2 flex flex-col items-center space-y-1 transition-colors ${i==="settings"?"active-tab":"text-gray-400 hover:text-white"}`,children:[w.jsx(Mx,{size:24}),w.jsx("span",{className:"text-xs font-medium",children:"Settings"})]})]})})]})}const Xx=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Jx=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|h>>4;let S=(h&15)<<2|m>>6,b=m&63;p||(b=64,c||(S=64)),i.push(t[_],t[E],t[S],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Aw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Jx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||E==null)throw new Zx;const S=a<<2|h>>4;if(i.push(S),m!==64){const b=h<<4&240|m>>2;if(i.push(b),E!==64){const V=m<<6&192|E;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Zx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e1=function(n){const e=Aw(n);return Rw.encodeByteArray(e,!0)},Xu=function(n){return e1(n).replace(/\./g,"")},Pw=function(n){try{return Rw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=()=>t1().__FIREBASE_DEFAULTS__,r1=()=>{if(typeof process>"u"||typeof ov>"u")return;const n=ov.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},i1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Pw(n[1]);return e&&JSON.parse(e)},Id=()=>{try{return Xx()||n1()||r1()||i1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bw=n=>Id()?.emulatorHosts?.[n],s1=n=>{const e=bw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},kw=()=>Id()?.config,Nw=n=>Id()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xu(JSON.stringify(t)),Xu(JSON.stringify(c)),""].join(".")}const Dl={};function l1(){const n={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?n.emulator.push(e):n.prod.push(e);return n}function c1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let av=!1;function Ow(n,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||Dl[n]===e||Dl[n]||av)return;Dl[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",a=l1().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function h(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{av=!0,c()},S}function _(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=c1(i),b=t("text"),V=document.getElementById(b)||document.createElement("span"),x=t("learnmore"),k=document.getElementById(x)||document.createElement("a"),B=t("preprendIcon"),z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;h(q),_(k,x);const Y=m();p(z,B),q.append(z,V,k,Y),document.body.appendChild(q)}a?(V.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function d1(){const n=Id()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p1(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function m1(){return!d1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mw(){try{return typeof indexedDB=="object"}catch{return!1}}function Lw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function g1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class er extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=y1,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,no.prototype.create)}}class no{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?v1(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new er(o,h,i)}}function v1(n,e){return n.replace(_1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const _1=/\{\$([^}]+)}/g;function w1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function is(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(lv(a)&&lv(c)){if(!is(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function lv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Cl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function E1(n,e){const t=new T1(n,e);return t.subscribe.bind(t)}class T1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");S1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Af),o.error===void 0&&(o.error=Af),o.complete===void 0&&(o.complete=Af);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Af(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=1e3,x1=2,C1=14400*1e3,A1=.5;function cv(n,e=I1,t=x1){const i=e*Math.pow(t,n),o=Math.round(A1*i*(Math.random()-.5)*2);return Math.min(C1,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n){return n&&n._delegate?n._delegate:n}class Yn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new o1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b1(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:P1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P1(n){return n===zs?void 0:n}function b1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const N1={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},D1=Fe.INFO,O1={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},V1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=O1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xd{constructor(e){this.name=e,this._logLevel=D1,this._logHandler=V1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const M1=(n,e)=>e.some(t=>n instanceof t);let uv,dv;function L1(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,Jf=new WeakMap,Fw=new WeakMap,Rf=new WeakMap,Mp=new WeakMap;function F1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(es(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&jw.set(t,n)}).catch(()=>{}),Mp.set(e,n),e}function U1(n){if(Jf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Jf.set(n,e)}let Zf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Fw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function z1(n){Zf=n(Zf)}function B1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Pf(this),e,...t);return Fw.set(i,e.sort?e.sort():[e]),es(i)}:j1().includes(n)?function(...e){return n.apply(Pf(this),e),es(jw.get(this))}:function(...e){return es(n.apply(Pf(this),e))}}function $1(n){return typeof n=="function"?B1(n):(n instanceof IDBTransaction&&U1(n),M1(n,L1())?new Proxy(n,Zf):n)}function es(n){if(n instanceof IDBRequest)return F1(n);if(Rf.has(n))return Rf.get(n);const e=$1(n);return e!==n&&(Rf.set(n,e),Mp.set(e,n)),e}const Pf=n=>Mp.get(n);function Uw(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=es(c);return i&&c.addEventListener("upgradeneeded",p=>{i(es(c.result),p.oldVersion,p.newVersion,es(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const W1=["get","getKey","getAll","getAllKeys","count"],H1=["put","add","delete","clear"],bf=new Map;function hv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=H1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||W1.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&p.done]))[0]};return bf.set(e,a),a}z1(n=>({...n,get:(e,t,i)=>hv(e,t)||n.get(e,t,i),has:(e,t)=>!!hv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(G1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function G1(n){return n.getComponent()?.type==="VERSION"}const ep="@firebase/app",fv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new xd("@firebase/app"),K1="@firebase/app-compat",Q1="@firebase/analytics-compat",Y1="@firebase/analytics",X1="@firebase/app-check-compat",J1="@firebase/app-check",Z1="@firebase/auth",eC="@firebase/auth-compat",tC="@firebase/database",nC="@firebase/data-connect",rC="@firebase/database-compat",iC="@firebase/functions",sC="@firebase/functions-compat",oC="@firebase/installations",aC="@firebase/installations-compat",lC="@firebase/messaging",cC="@firebase/messaging-compat",uC="@firebase/performance",dC="@firebase/performance-compat",hC="@firebase/remote-config",fC="@firebase/remote-config-compat",pC="@firebase/storage",mC="@firebase/storage-compat",gC="@firebase/firestore",yC="@firebase/ai",vC="@firebase/firestore-compat",_C="firebase",wC="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",EC={[ep]:"fire-core",[K1]:"fire-core-compat",[Y1]:"fire-analytics",[Q1]:"fire-analytics-compat",[J1]:"fire-app-check",[X1]:"fire-app-check-compat",[Z1]:"fire-auth",[eC]:"fire-auth-compat",[tC]:"fire-rtdb",[nC]:"fire-data-connect",[rC]:"fire-rtdb-compat",[iC]:"fire-fn",[sC]:"fire-fn-compat",[oC]:"fire-iid",[aC]:"fire-iid-compat",[lC]:"fire-fcm",[cC]:"fire-fcm-compat",[uC]:"fire-perf",[dC]:"fire-perf-compat",[hC]:"fire-rc",[fC]:"fire-rc-compat",[pC]:"fire-gcs",[mC]:"fire-gcs-compat",[gC]:"fire-fst",[vC]:"fire-fst-compat",[yC]:"fire-vertex","fire-js":"fire-js",[_C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,TC=new Map,np=new Map;function pv(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function br(n){const e=n.name;if(np.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,n);for(const t of Ju.values())pv(t,n);for(const t of TC.values())pv(t,n);return!0}function ro(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new no("app","Firebase",SC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=wC;function zw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:tp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(t||(t=kw()),!t)throw ts.create("no-options");const a=Ju.get(o);if(a){if(is(t,a.options)&&is(i,a.config))return a;throw ts.create("duplicate-app",{appName:o})}const c=new k1(o);for(const p of np.values())c.addComponent(p);const h=new IC(t,i,c);return Ju.set(o,h),h}function Lp(n=tp){const e=Ju.get(n);if(!e&&n===tp&&kw())return zw();if(!e)throw ts.create("no-app",{appName:n});return e}function Dn(n,e,t){let i=EC[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(c.join(" "));return}br(new Yn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebase-heartbeat-database",CC=1,zl="firebase-heartbeat-store";let kf=null;function Bw(){return kf||(kf=Uw(xC,CC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ts.create("idb-open",{originalErrorMessage:n.message})})),kf}async function AC(n){try{const t=(await Bw()).transaction(zl),i=await t.objectStore(zl).get($w(n));return await t.done,i}catch(e){if(e instanceof er)oi.warn(e.message);else{const t=ts.create("idb-get",{originalErrorMessage:e?.message});oi.warn(t.message)}}}async function mv(n,e){try{const i=(await Bw()).transaction(zl,"readwrite");await i.objectStore(zl).put(e,$w(n)),await i.done}catch(t){if(t instanceof er)oi.warn(t.message);else{const i=ts.create("idb-set",{originalErrorMessage:t?.message});oi.warn(i.message)}}}function $w(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1024,PC=30;class bC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>PC){const o=DC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gv(),{heartbeatsToSend:t,unsentEntries:i}=kC(this._heartbeatsCache.heartbeats),o=Xu(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return oi.warn(e),""}}}function gv(){return new Date().toISOString().substring(0,10)}function kC(n,e=RC){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),yv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),yv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class NC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mw()?Lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return mv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return mv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yv(n){return Xu(JSON.stringify({version:2,heartbeats:n})).length}function DC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n){br(new Yn("platform-logger",e=>new q1(e),"PRIVATE")),br(new Yn("heartbeat",e=>new bC(e),"PRIVATE")),Dn(ep,fv,n),Dn(ep,fv,"esm2020"),Dn("fire-js","")}OC("");function Ww(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VC=Ww,Hw=new no("auth","Firebase",Ww());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new xd("@firebase/auth");function MC(n,...e){Zu.logLevel<=Fe.WARN&&Zu.warn(`Auth (${wa}): ${n}`,...e)}function ju(n,...e){Zu.logLevel<=Fe.ERROR&&Zu.error(`Auth (${wa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n,...e){throw jp(n,...e)}function Sr(n,...e){return jp(n,...e)}function qw(n,e,t){const i={...VC(),[e]:t};return new no("auth","Firebase",i).create(e,{appName:n.name})}function ii(n){return qw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Hw.create(n,...e)}function xe(n,e,...t){if(!n)throw jp(e,...t)}function ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ju(e),new Error(e)}function ai(n,e){n||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){return typeof self<"u"&&self.location?.href||""}function LC(){return vv()==="http:"||vv()==="https:"}function vv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LC()||Vw()||"connection"in navigator)?navigator.onLine:!0}function FC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=u1()||f1()}get(){return jC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n,e){ai(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BC=new tc(3e4,6e4);function hi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Or(n,e,t,i,o={}){return Kw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=ec({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...a};return h1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&_a(n.emulatorConfig.host)&&(m.credentials="include"),Gw.fetch()(await Qw(n,n.config.apiHost,t,h),m)})}async function Kw(n,e,t){n._canInitEmulator=!1;const i={...UC,...e};try{const o=new WC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Au(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Au(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Au(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw qw(n,_,m);Xn(n,_)}}catch(o){if(o instanceof er)throw o;Xn(n,"network-request-failed",{message:String(o)})}}async function nc(n,e,t,i,o={}){const a=await Or(n,e,t,i,o);return"mfaPendingCredential"in a&&Xn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Qw(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?Fp(n.config,o):`${n.config.apiScheme}://${o}`;return zC.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function $C(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Sr(this.auth,"network-request-failed")),BC.get())})}}function Au(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Sr(n,e,i);return o.customData._tokenResponse=t,o}function _v(n){return n!==void 0&&n.enterprise!==void 0}class HC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $C(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qC(n,e){return Or(n,"GET","/v2/recaptchaConfig",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,e){return Or(n,"POST","/v1/accounts:delete",e)}async function ed(n,e){return Or(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KC(n,e=!1){const t=Ft(n),i=await t.getIdToken(e),o=Up(i);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:i,authTime:Ol(Nf(o.auth_time)),issuedAtTime:Ol(Nf(o.iat)),expirationTime:Ol(Nf(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nf(n){return Number(n)*1e3}function Up(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ju("JWT malformed, contained fewer than 3 sections"),null;try{const o=Pw(t);return o?JSON.parse(o):(ju("Failed to decode base64 JWT payload"),null)}catch(o){return ju("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wv(n){const e=Up(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof er&&QC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function QC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(n){const e=n.auth,t=await n.getIdToken(),i=await da(n,ed(e,{idToken:t}));xe(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?Yw(o.providerUserInfo):[],c=JC(n.providerData,a),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,m=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function XC(n){const e=Ft(n);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Yw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,e){const t=await Kw(n,{},async()=>{const i=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await Qw(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:i};return n.emulatorConfig&&_a(n.emulatorConfig.host)&&(p.credentials="include"),Gw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eA(n,e){return Or(n,"POST","/v2/accounts:revokeToken",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=wv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await ZC(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new ia;return i&&(xe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(xe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ia,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new YC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await da(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KC(this,e)}reload(){return XC(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await td(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await da(this,GC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:b,providerData:V,stsTokenManager:x}=t;xe(E&&x,e,"internal-error");const k=ia.fromJSON(this.name,x);xe(typeof E=="string",e,"internal-error"),$i(i,e.name),$i(o,e.name),xe(typeof S=="boolean",e,"internal-error"),xe(typeof b=="boolean",e,"internal-error"),$i(a,e.name),$i(c,e.name),$i(h,e.name),$i(p,e.name),$i(m,e.name),$i(_,e.name);const B=new Kn({uid:E,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:b,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:k,createdAt:m,lastLoginAt:_});return V&&Array.isArray(V)&&(B.providerData=V.map(z=>({...z}))),p&&(B._redirectEventId=p),B}static async _fromIdTokenResponse(e,t,i=!1){const o=new ia;o.updateFromServerResponse(t);const a=new Kn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await td(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Yw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,h=new ia;h.updateFromIdToken(i);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function ri(n){ai(n instanceof Function,"Expected a class definition");let e=Ev.get(n);return e?(ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ev.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xw.type="NONE";const Tv=Xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n,e,t){return`firebase:${n}:${e}:${t}`}class sa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Fu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Fu("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ed(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new sa(ri(Tv),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ri(Tv);const c=Fu(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const _=await m._get(c);if(_){let E;if(typeof _=="string"){const S=await ed(e,{idToken:_}).catch(()=>{});if(!S)break;E=await Kn._fromGetAccountInfoResponse(e,S,_)}else E=Kn._fromJSON(e,_);m!==a&&(h=E),a=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new sa(a,e,i):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new sa(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r0(e))return"Blackberry";if(i0(e))return"Webos";if(Zw(e))return"Safari";if((e.includes("chrome/")||e0(e))&&!e.includes("edge/"))return"Chrome";if(n0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Jw(n=Yt()){return/firefox\//i.test(n)}function Zw(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e0(n=Yt()){return/crios\//i.test(n)}function t0(n=Yt()){return/iemobile/i.test(n)}function n0(n=Yt()){return/android/i.test(n)}function r0(n=Yt()){return/blackberry/i.test(n)}function i0(n=Yt()){return/webos/i.test(n)}function zp(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tA(n=Yt()){return zp(n)&&!!window.navigator?.standalone}function nA(){return p1()&&document.documentMode===10}function s0(n=Yt()){return zp(n)||n0(n)||i0(n)||r0(n)||/windows phone/i.test(n)||t0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n,e=[]){let t;switch(n){case"Browser":t=Sv(Yt());break;case"Worker":t=`${Sv(Yt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(n,e={}){return Or(n,"GET","/v2/passwordPolicy",hi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=6;class oA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??sA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iv(this),this.idTokenSubscription=new Iv(this),this.beforeStateQueue=new rA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ed(this,{idToken:e}),i=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(ii(this));const t=e?Ft(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iA(this),t=new oA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new no("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await eA(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function io(n){return Ft(n)}class Iv{constructor(e){this.auth=e,this.observer=null,this.addObserver=E1(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lA(n){Cd=n}function a0(n){return Cd.loadJS(n)}function cA(){return Cd.recaptchaEnterpriseScript}function uA(){return Cd.gapiScript}function dA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hA{constructor(){this.enterprise=new fA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pA="recaptcha-enterprise",l0="NO_RECAPTCHA";class mA{constructor(e){this.type=pA,this.auth=io(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{qC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new HC(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(p=>{h(p)})})}function o(a,c,h){const p=window.grecaptcha;_v(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(l0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hA().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&_v(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cA();p.length!==0&&(p+=h),a0(p).then(()=>{o(h,a,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function xv(n,e,t,i=!1,o=!1){const a=new mA(n);let c;if(o)c=l0;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function sp(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await xv(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await xv(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n,e){const t=ro(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(is(a,e??{}))return o;Xn(o,"already-initialized")}return t.initialize({options:e})}function yA(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function vA(n,e,t){const i=io(n);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=c0(e),{host:c,port:h}=_A(e),p=h===null?"":`:${h}`,m={url:`${a}//${c}${p}/`},_=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(is(m,i.config.emulator)&&is(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,_a(c)?(Dw(`${a}//${c}${p}`),Ow("Auth",!0)):wA()}function c0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _A(n){const e=c0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Cv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Cv(c)}}}function Cv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function EA(n,e){return Or(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(n,e){return nc(n,"POST","/v1/accounts:signInWithPassword",hi(n,e))}async function SA(n,e){return Or(n,"POST","/v1/accounts:sendOobCode",hi(n,e))}async function IA(n,e){return SA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(n,e){return nc(n,"POST","/v1/accounts:signInWithEmailLink",hi(n,e))}async function CA(n,e){return nc(n,"POST","/v1/accounts:signInWithEmailLink",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Bp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,t,"signInWithPassword",TA);case"emailLink":return xA(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,i,"signUpPassword",EA);case"emailLink":return CA(e,{idToken:t,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n,e){return nc(n,"POST","/v1/accounts:signInWithIdp",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="http://localhost";class qs extends Bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...a}=t;if(!i||!o)return null;const c=new qs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return oa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,oa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oa(e,t)}buildRequest(){const e={requestUri:AA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PA(n){const e=Cl(Al(n)).link,t=e?Cl(Al(e)).deep_link_id:null,i=Cl(Al(n)).deep_link_id;return(i?Cl(Al(i)).link:null)||i||t||e||n}class $p{constructor(e){const t=Cl(Al(e)),i=t.apiKey??null,o=t.oobCode??null,a=RA(t.mode??null);xe(i&&o&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=PA(e);try{return new $p(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,t){return Bl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=$p.parseLink(t);return xe(i,"argument-error"),Bl._fromEmailAndCode(e,i.code,i.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends u0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends rc{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Yi.credential(t,i)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends rc{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends rc{constructor(){super("twitter.com")}static credential(e,t){return qs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ji.credential(t,i)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(n,e){return nc(n,"POST","/v1/accounts:signUp",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Kn._fromIdTokenResponse(e,i,o),c=Av(i);return new Gs({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Av(i);return new Gs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Av(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends er{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new nd(e,t,i,o)}}function d0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(n,a,e,i):a})}async function kA(n,e,t=!1){const i=await da(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(n,e,t=!1){const{auth:i}=n;if(bn(i.app))return Promise.reject(ii(i));const o="reauthenticate";try{const a=await da(n,d0(i,o,e,n),t);xe(a.idToken,i,"internal-error");const c=Up(a.idToken);xe(c,i,"internal-error");const{sub:h}=c;return xe(n.uid===h,i,"user-mismatch"),Gs._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Xn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(n,e,t=!1){if(bn(n.app))return Promise.reject(ii(n));const i="signIn",o=await d0(n,i,e),a=await Gs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function DA(n,e){return h0(io(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(n){const e=io(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OA(n,e,t){if(bn(n.app))return Promise.reject(ii(n));const i=io(n),c=await sp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&f0(n),p}),h=await Gs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function VA(n,e,t){return bn(n.app)?Promise.reject(ii(n)):DA(Ft(n),Ea.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&f0(n),i})}async function MA(n,e){const t=Ft(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await IA(t.auth,o);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(n,e){return Or(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Ft(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await da(i,LA(i.auth,a));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function FA(n,e,t,i){return Ft(n).onIdTokenChanged(e,t,i)}function UA(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}function zA(n,e,t,i){return Ft(n).onAuthStateChanged(e,t,i)}function BA(n){return Ft(n).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=1e3,WA=10;class m0 extends p0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);nA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}m0.type="LOCAL";const HA=m0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends p0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}g0.type="SESSION";const y0=g0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ad(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async m=>m(t.origin,a)),p=await qA(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const m=Wp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(S.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function KA(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function QA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YA(){return navigator?.serviceWorker?.controller||null}function XA(){return v0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firebaseLocalStorageDb",JA=1,id="firebaseLocalStorage",w0="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rd(n,e){return n.transaction([id],e?"readwrite":"readonly").objectStore(id)}function ZA(){const n=indexedDB.deleteDatabase(_0);return new ic(n).toPromise()}function op(){const n=indexedDB.open(_0,JA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(id,{keyPath:w0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(id)?e(i):(i.close(),await ZA(),e(await op()))})})}async function Rv(n,e,t){const i=Rd(n,!0).put({[w0]:e,value:t});return new ic(i).toPromise()}async function eR(n,e){const t=Rd(n,!1).get(e),i=await new ic(t).toPromise();return i===void 0?null:i.value}function Pv(n,e){const t=Rd(n,!0).delete(e);return new ic(t).toPromise()}const tR=800,nR=3;class E0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>nR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(XA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QA(),!this.activeServiceWorker)return;this.sender=new GA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await Rv(e,rd,"1"),await Pv(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Rv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>eR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Rd(o,!1).getAll();return new ic(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E0.type="LOCAL";const rR=E0;new tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){return e?ri(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends Bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sR(n){return h0(n.auth,new Hp(n),n.bypassAuthState)}function oR(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),NA(t,new Hp(n),n.bypassAuthState)}async function aR(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),kA(t,new Hp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sR;case"linkViaPopup":case"linkViaRedirect":return aR;case"reauthViaPopup":case"reauthViaRedirect":return oR;default:Xn(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new tc(2e3,1e4);class ra extends T0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lR.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="pendingRedirect",Uu=new Map;class uR extends T0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const i=await dR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dR(n,e){const t=pR(e),i=fR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function hR(n,e){Uu.set(n._key(),e)}function fR(n){return ri(n._redirectPersistence)}function pR(n){return Fu(cR,n.config.apiKey,n.name)}async function mR(n,e,t=!1){if(bn(n.app))return Promise.reject(ii(n));const i=io(n),o=iR(i,e),c=await new uR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=600*1e3;class yR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!S0(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Sr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gR&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function S0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function vR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(n,e={}){return Or(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ER=/^https?/;async function TR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _R(n);for(const t of e)try{if(SR(t))return}catch{}Xn(n,"unauthorized-domain")}function SR(n){const e=rp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!ER.test(t))return!1;if(wR.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new tc(3e4,6e4);function kv(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xR(n){return new Promise((e,t)=>{function i(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),t(Sr(n,"network-request-failed"))},timeout:IR.get()})}if(Ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ir().gapi?.load)i();else{const o=dA("iframefcb");return Ir()[o]=()=>{gapi.load?i():t(Sr(n,"network-request-failed"))},a0(`${uA()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw zu=null,e})}let zu=null;function CR(n){return zu=zu||xR(n),zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new tc(5e3,15e3),RR="__/auth/iframe",PR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fp(e,PR):`https://${n.config.authDomain}/${RR}`,i={apiKey:e.apiKey,appName:n.name,v:wa},o=kR.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${ec(i).slice(1)}`}async function DR(n){const e=await CR(n),t=Ir().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:NR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Sr(n,"network-request-failed"),h=Ir().setTimeout(()=>{a(c)},AR.get());function p(){Ir().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VR=500,MR=600,LR="_blank",jR="http://localhost";class Nv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FR(n,e,t,i=VR,o=MR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p={...OR,width:i.toString(),height:o.toString(),top:a,left:c},m=Yt().toLowerCase();t&&(h=e0(m)?LR:t),Jw(m)&&(e=e||jR,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[b,V])=>`${S}${b}=${V},`,"");if(tA(m)&&h!=="_self")return UR(e||"",h),new Nv(null);const E=window.open(e||"",h,_);xe(E,n,"popup-blocked");try{E.focus()}catch{}return new Nv(E)}function UR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__/auth/handler",BR="emulator/auth/handler",$R=encodeURIComponent("fac");async function Dv(n,e,t,i,o,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:wa,eventId:o};if(e instanceof u0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",w1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof rc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),m=p?`#${$R}=${encodeURIComponent(p)}`:"";return`${WR(n)}?${ec(h).slice(1)}${m}`}function WR({config:n}){return n.emulator?Fp(n,BR):`https://${n.authDomain}/${zR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="webStorageSupport";class HR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y0,this._completeRedirectFn=mR,this._overrideRedirectResult=hR}async _openPopup(e,t,i,o){ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Dv(e,t,i,rp(),o);return FR(e,a,Wp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Dv(e,t,i,rp(),o);return KA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ai(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await DR(e),i=new yR(e);return t.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Df,{type:Df},o=>{const a=o?.[0]?.[Df];a!==void 0&&t(!!a),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return s0()||Zw()||zp()}}const qR=HR;var Ov="@firebase/auth",Vv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(n){br(new Yn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(n)},m=new aA(i,o,a,p);return yA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),br(new Yn("auth-internal",e=>{const t=io(e.getProvider("auth").getImmediate());return(i=>new GR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(Ov,Vv,KR(n)),Dn(Ov,Vv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=300,XR=Nw("authIdTokenMaxAge")||YR;let Mv=null;const JR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>XR)return;const o=t?.token;Mv!==o&&(Mv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZR(n=Lp()){const e=ro(n,"auth");if(e.isInitialized())return e.getImmediate();const t=gA(n,{popupRedirectResolver:qR,persistence:[rR,HA,y0]}),i=Nw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=JR(a.toString());UA(t,c,()=>c(t.currentUser)),FA(t,h=>c(h))}}const o=bw("auth");return o&&vA(t,`http://${o}`),t}function eP(){return document.getElementsByTagName("head")?.[0]??document}lA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Sr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",eP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var tP="firebase",nP="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(tP,nP,"app");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,I0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function P(){}P.prototype=C.prototype,A.F=C.prototype,A.prototype=new P,A.prototype.constructor=A,A.D=function(M,O,L){for(var R=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)R[pe-2]=arguments[pe];return C.prototype[O].apply(M,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,C,P){P||(P=0);const M=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)M[O]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(O=0;O<16;++O)M[O]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=A.g[0],P=A.g[1],O=A.g[2];let L=A.g[3],R;R=C+(L^P&(O^L))+M[0]+3614090360&4294967295,C=P+(R<<7&4294967295|R>>>25),R=L+(O^C&(P^O))+M[1]+3905402710&4294967295,L=C+(R<<12&4294967295|R>>>20),R=O+(P^L&(C^P))+M[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=P+(C^O&(L^C))+M[3]+3250441966&4294967295,P=O+(R<<22&4294967295|R>>>10),R=C+(L^P&(O^L))+M[4]+4118548399&4294967295,C=P+(R<<7&4294967295|R>>>25),R=L+(O^C&(P^O))+M[5]+1200080426&4294967295,L=C+(R<<12&4294967295|R>>>20),R=O+(P^L&(C^P))+M[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=P+(C^O&(L^C))+M[7]+4249261313&4294967295,P=O+(R<<22&4294967295|R>>>10),R=C+(L^P&(O^L))+M[8]+1770035416&4294967295,C=P+(R<<7&4294967295|R>>>25),R=L+(O^C&(P^O))+M[9]+2336552879&4294967295,L=C+(R<<12&4294967295|R>>>20),R=O+(P^L&(C^P))+M[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=P+(C^O&(L^C))+M[11]+2304563134&4294967295,P=O+(R<<22&4294967295|R>>>10),R=C+(L^P&(O^L))+M[12]+1804603682&4294967295,C=P+(R<<7&4294967295|R>>>25),R=L+(O^C&(P^O))+M[13]+4254626195&4294967295,L=C+(R<<12&4294967295|R>>>20),R=O+(P^L&(C^P))+M[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=P+(C^O&(L^C))+M[15]+1236535329&4294967295,P=O+(R<<22&4294967295|R>>>10),R=C+(O^L&(P^O))+M[1]+4129170786&4294967295,C=P+(R<<5&4294967295|R>>>27),R=L+(P^O&(C^P))+M[6]+3225465664&4294967295,L=C+(R<<9&4294967295|R>>>23),R=O+(C^P&(L^C))+M[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=P+(L^C&(O^L))+M[0]+3921069994&4294967295,P=O+(R<<20&4294967295|R>>>12),R=C+(O^L&(P^O))+M[5]+3593408605&4294967295,C=P+(R<<5&4294967295|R>>>27),R=L+(P^O&(C^P))+M[10]+38016083&4294967295,L=C+(R<<9&4294967295|R>>>23),R=O+(C^P&(L^C))+M[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=P+(L^C&(O^L))+M[4]+3889429448&4294967295,P=O+(R<<20&4294967295|R>>>12),R=C+(O^L&(P^O))+M[9]+568446438&4294967295,C=P+(R<<5&4294967295|R>>>27),R=L+(P^O&(C^P))+M[14]+3275163606&4294967295,L=C+(R<<9&4294967295|R>>>23),R=O+(C^P&(L^C))+M[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=P+(L^C&(O^L))+M[8]+1163531501&4294967295,P=O+(R<<20&4294967295|R>>>12),R=C+(O^L&(P^O))+M[13]+2850285829&4294967295,C=P+(R<<5&4294967295|R>>>27),R=L+(P^O&(C^P))+M[2]+4243563512&4294967295,L=C+(R<<9&4294967295|R>>>23),R=O+(C^P&(L^C))+M[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=P+(L^C&(O^L))+M[12]+2368359562&4294967295,P=O+(R<<20&4294967295|R>>>12),R=C+(P^O^L)+M[5]+4294588738&4294967295,C=P+(R<<4&4294967295|R>>>28),R=L+(C^P^O)+M[8]+2272392833&4294967295,L=C+(R<<11&4294967295|R>>>21),R=O+(L^C^P)+M[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=P+(O^L^C)+M[14]+4259657740&4294967295,P=O+(R<<23&4294967295|R>>>9),R=C+(P^O^L)+M[1]+2763975236&4294967295,C=P+(R<<4&4294967295|R>>>28),R=L+(C^P^O)+M[4]+1272893353&4294967295,L=C+(R<<11&4294967295|R>>>21),R=O+(L^C^P)+M[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=P+(O^L^C)+M[10]+3200236656&4294967295,P=O+(R<<23&4294967295|R>>>9),R=C+(P^O^L)+M[13]+681279174&4294967295,C=P+(R<<4&4294967295|R>>>28),R=L+(C^P^O)+M[0]+3936430074&4294967295,L=C+(R<<11&4294967295|R>>>21),R=O+(L^C^P)+M[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=P+(O^L^C)+M[6]+76029189&4294967295,P=O+(R<<23&4294967295|R>>>9),R=C+(P^O^L)+M[9]+3654602809&4294967295,C=P+(R<<4&4294967295|R>>>28),R=L+(C^P^O)+M[12]+3873151461&4294967295,L=C+(R<<11&4294967295|R>>>21),R=O+(L^C^P)+M[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=P+(O^L^C)+M[2]+3299628645&4294967295,P=O+(R<<23&4294967295|R>>>9),R=C+(O^(P|~L))+M[0]+4096336452&4294967295,C=P+(R<<6&4294967295|R>>>26),R=L+(P^(C|~O))+M[7]+1126891415&4294967295,L=C+(R<<10&4294967295|R>>>22),R=O+(C^(L|~P))+M[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=P+(L^(O|~C))+M[5]+4237533241&4294967295,P=O+(R<<21&4294967295|R>>>11),R=C+(O^(P|~L))+M[12]+1700485571&4294967295,C=P+(R<<6&4294967295|R>>>26),R=L+(P^(C|~O))+M[3]+2399980690&4294967295,L=C+(R<<10&4294967295|R>>>22),R=O+(C^(L|~P))+M[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=P+(L^(O|~C))+M[1]+2240044497&4294967295,P=O+(R<<21&4294967295|R>>>11),R=C+(O^(P|~L))+M[8]+1873313359&4294967295,C=P+(R<<6&4294967295|R>>>26),R=L+(P^(C|~O))+M[15]+4264355552&4294967295,L=C+(R<<10&4294967295|R>>>22),R=O+(C^(L|~P))+M[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=P+(L^(O|~C))+M[13]+1309151649&4294967295,P=O+(R<<21&4294967295|R>>>11),R=C+(O^(P|~L))+M[4]+4149444226&4294967295,C=P+(R<<6&4294967295|R>>>26),R=L+(P^(C|~O))+M[11]+3174756917&4294967295,L=C+(R<<10&4294967295|R>>>22),R=O+(C^(L|~P))+M[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=P+(L^(O|~C))+M[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+L&4294967295}i.prototype.v=function(A,C){C===void 0&&(C=A.length);const P=C-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<C;){if(O==0)for(;L<=P;)o(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<C;)if(M[O++]=A.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<C;)if(M[O++]=A[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=C},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;C=this.o*8;for(var P=A.length-8;P<A.length;++P)A[P]=C&255,C/=256;for(this.v(A),A=Array(16),C=0,P=0;P<4;++P)for(let M=0;M<32;M+=8)A[C++]=this.g[P]>>>M&255;return A};function a(A,C){var P=h;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=C(A)}function c(A,C){this.h=C;const P=[];let M=!0;for(let O=A.length-1;O>=0;O--){const L=A[O]|0;M&&L==C||(P[O]=L,M=!1)}this.g=P}var h={};function p(A){return-128<=A&&A<128?a(A,function(C){return new c([C|0],C<0?-1:0)}):new c([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return k(m(-A));const C=[];let P=1;for(let M=0;A>=P;M++)C[M]=A/P|0,P*=4294967296;return new c(C,0)}function _(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return k(_(A.substring(1),C));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(C,8));let M=E;for(let L=0;L<A.length;L+=8){var O=Math.min(8,A.length-L);const R=parseInt(A.substring(L,L+O),C);O<8?(O=m(Math.pow(C,O)),M=M.j(O).add(m(R))):(M=M.j(P),M=M.add(m(R)))}return M}var E=p(0),S=p(1),b=p(16777216);n=c.prototype,n.m=function(){if(x(this))return-k(this).m();let A=0,C=1;for(let P=0;P<this.g.length;P++){const M=this.i(P);A+=(M>=0?M:4294967296+M)*C,C*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(V(this))return"0";if(x(this))return"-"+k(this).toString(A);const C=m(Math.pow(A,6));var P=this;let M="";for(;;){const O=Y(P,C).g;P=B(P,O.j(C));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(A);if(P=O,V(P))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function V(A){if(A.h!=0)return!1;for(let C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function x(A){return A.h==-1}n.l=function(A){return A=B(this,A),x(A)?-1:V(A)?0:1};function k(A){const C=A.g.length,P=[];for(let M=0;M<C;M++)P[M]=~A.g[M];return new c(P,~A.h).add(S)}n.abs=function(){return x(this)?k(this):this},n.add=function(A){const C=Math.max(this.g.length,A.g.length),P=[];let M=0;for(let O=0;O<=C;O++){let L=M+(this.i(O)&65535)+(A.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);M=R>>>16,L&=65535,R&=65535,P[O]=R<<16|L}return new c(P,P[P.length-1]&-2147483648?-1:0)};function B(A,C){return A.add(k(C))}n.j=function(A){if(V(this)||V(A))return E;if(x(this))return x(A)?k(this).j(k(A)):k(k(this).j(A));if(x(A))return k(this.j(k(A)));if(this.l(b)<0&&A.l(b)<0)return m(this.m()*A.m());const C=this.g.length+A.g.length,P=[];for(var M=0;M<2*C;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<A.g.length;O++){const L=this.i(M)>>>16,R=this.i(M)&65535,pe=A.i(O)>>>16,Pe=A.i(O)&65535;P[2*M+2*O]+=R*Pe,z(P,2*M+2*O),P[2*M+2*O+1]+=L*Pe,z(P,2*M+2*O+1),P[2*M+2*O+1]+=R*pe,z(P,2*M+2*O+1),P[2*M+2*O+2]+=L*pe,z(P,2*M+2*O+2)}for(A=0;A<C;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=C;A<2*C;A++)P[A]=0;return new c(P,0)};function z(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function q(A,C){this.g=A,this.h=C}function Y(A,C){if(V(C))throw Error("division by zero");if(V(A))return new q(E,E);if(x(A))return C=Y(k(A),C),new q(k(C.g),k(C.h));if(x(C))return C=Y(A,k(C)),new q(k(C.g),C.h);if(A.g.length>30){if(x(A)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var P=S,M=C;M.l(A)<=0;)P=Z(P),M=Z(M);var O=ae(P,1),L=ae(M,1);for(M=ae(M,2),P=ae(P,2);!V(M);){var R=L.add(M);R.l(A)<=0&&(O=O.add(P),L=R),M=ae(M,1),P=ae(P,1)}return C=B(A,O.j(C)),new q(O,C)}for(O=E;A.l(C)>=0;){for(P=Math.max(1,Math.floor(A.m()/C.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=m(P),R=L.j(C);x(R)||R.l(A)>0;)P-=M,L=m(P),R=L.j(C);V(L)&&(L=S),O=O.add(L),A=B(A,R)}return new q(O,A)}n.B=function(A){return Y(this,A).h},n.and=function(A){const C=Math.max(this.g.length,A.g.length),P=[];for(let M=0;M<C;M++)P[M]=this.i(M)&A.i(M);return new c(P,this.h&A.h)},n.or=function(A){const C=Math.max(this.g.length,A.g.length),P=[];for(let M=0;M<C;M++)P[M]=this.i(M)|A.i(M);return new c(P,this.h|A.h)},n.xor=function(A){const C=Math.max(this.g.length,A.g.length),P=[];for(let M=0;M<C;M++)P[M]=this.i(M)^A.i(M);return new c(P,this.h^A.h)};function Z(A){const C=A.g.length+1,P=[];for(let M=0;M<C;M++)P[M]=A.i(M)<<1|A.i(M-1)>>>31;return new c(P,A.h)}function ae(A,C){const P=C>>5;C%=32;const M=A.g.length-P,O=[];for(let L=0;L<M;L++)O[L]=C>0?A.i(L+P)>>>C|A.i(L+P+1)<<32-C:A.i(L+P);return new c(O,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,I0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,ns=c}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x0,Rl,C0,Bu,ap,A0,R0,P0;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var y=0;y<u.length;++y){var v=u[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,y){if(y)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var W=u[I];if(!(W in v))break e;v=v[W]}u=u[u.length-1],I=v[u],y=y(I),y!=I&&y!=null&&e(v,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var v=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&v.push([I,y[I]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function p(u,y,v){return u.call.apply(u.bind,arguments)}function m(u,y,v){return m=p,m.apply(null,arguments)}function _(u,y){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function E(u,y){function v(){}v.prototype=y.prototype,u.Z=y.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(I,W,K){for(var le=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)le[Ne-2]=arguments[Ne];return y.prototype[W].apply(I,le)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function b(u){const y=u.length;if(y>0){const v=Array(y);for(let I=0;I<y;I++)v[I]=u[I];return v}return[]}function V(u,y){for(let I=1;I<arguments.length;I++){const W=arguments[I];var v=typeof W;if(v=v!="object"?v:W?Array.isArray(W)?"array":v:"null",v=="array"||v=="object"&&typeof W.length=="number"){v=u.length||0;const K=W.length||0;u.length=v+K;for(let le=0;le<K;le++)u[v+le]=W[le]}else u.push(W)}}class x{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(u){c.setTimeout(()=>{throw u},0)}function B(){var u=A;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class z{constructor(){this.h=this.g=null}add(y,v){const I=q.get();I.set(y,v),this.h?this.h.next=I:this.g=I,this.h=I}}var q=new x(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ae=!1,A=new z,C=()=>{const u=Promise.resolve(void 0);Z=()=>{u.then(P)}};function P(){for(var u;u=B();){try{u.h.call(u.g)}catch(v){k(v)}var y=q;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function pe(u,y){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}E(pe,O),pe.prototype.init=function(u,y){const v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(v=="mouseover"?y=u.fromElement:v=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),_e=0;function ye(u,y,v,I,W){this.listener=u,this.proxy=null,this.src=y,this.type=v,this.capture=!!I,this.ha=W,this.key=++_e,this.da=this.fa=!1}function Q(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function se(u,y,v){for(const I in u)y.call(v,u[I],I,u)}function oe(u,y){for(const v in u)y.call(void 0,u[v],v,u)}function U(u){const y={};for(const v in u)y[v]=u[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(u,y){let v,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(v in I)u[v]=I[v];for(let K=0;K<J.length;K++)v=J[K],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function Ie(u){this.src=u,this.g={},this.h=0}Ie.prototype.add=function(u,y,v,I,W){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const le=ke(u,y,I,W);return le>-1?(y=u[le],v||(y.fa=!1)):(y=new ye(y,this.src,K,!!I,W),y.fa=v,u.push(y)),y};function Oe(u,y){const v=y.type;if(v in u.g){var I=u.g[v],W=Array.prototype.indexOf.call(I,y,void 0),K;(K=W>=0)&&Array.prototype.splice.call(I,W,1),K&&(Q(y),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ke(u,y,v,I){for(let W=0;W<u.length;++W){const K=u[W];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==I)return W}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),we={};function Ve(u,y,v,I,W){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ve(u,y[K],v,I,W);return null}return v=ba(v),u&&u[Pe]?u.J(y,v,h(I)?!!I.capture:!1,W):Me(u,y,v,!1,I,W)}function Me(u,y,v,I,W,K){if(!y)throw Error("Invalid event type");const le=h(W)?!!W.capture:!!W;let Ne=tr(u);if(Ne||(u[ce]=Ne=new Ie(u)),v=Ne.add(y,v,I,le,K),v.proxy)return v;if(I=qe(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)L||(W=le),W===void 0&&(W=!1),u.addEventListener(y.toString(),I,W);else if(u.attachEvent)u.attachEvent(Zt(y.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qe(){function u(v){return y.call(u.src,u.listener,v)}const y=fi;return u}function Xe(u,y,v,I,W){if(Array.isArray(y))for(var K=0;K<y.length;K++)Xe(u,y[K],v,I,W);else I=h(I)?!!I.capture:!!I,v=ba(v),u&&u[Pe]?(u=u.i,K=String(y).toString(),K in u.g&&(y=u.g[K],v=ke(y,v,I,W),v>-1&&(Q(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete u.g[K],u.h--)))):u&&(u=tr(u))&&(y=u.g[y.toString()],u=-1,y&&(u=ke(y,v,I,W)),(v=u>-1?y[u]:null)&&ht(v))}function ht(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Pe])Oe(y.i,u);else{var v=u.type,I=u.proxy;y.removeEventListener?y.removeEventListener(v,I,u.capture):y.detachEvent?y.detachEvent(Zt(v),I):y.addListener&&y.removeListener&&y.removeListener(I),(v=tr(y))?(Oe(v,u),v.h==0&&(v.src=null,y[ce]=null)):Q(u)}}}function Zt(u){return u in we?we[u]:we[u]="on"+u}function fi(u,y){if(u.da)u=!0;else{y=new pe(y,this);const v=u.listener,I=u.ha||u.src;u.fa&&ht(u),u=v.call(I,y)}return u}function tr(u){return u=u[ce],u instanceof Ie?u:null}var Vn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ba(u){return typeof u=="function"?u:(u[Vn]||(u[Vn]=function(y){return u.handleEvent(y)}),u[Vn])}function yt(){M.call(this),this.i=new Ie(this),this.M=this,this.G=null}E(yt,M),yt.prototype[Pe]=!0,yt.prototype.removeEventListener=function(u,y,v,I){Xe(this,u,y,v,I)};function ft(u,y){var v,I=u.G;if(I)for(v=[];I;I=I.G)v.push(I);if(u=u.M,I=y.type||y,typeof y=="string")y=new O(y,u);else if(y instanceof O)y.target=y.target||u;else{var W=y;y=new O(I,u),Ae(y,W)}W=!0;let K,le;if(v)for(le=v.length-1;le>=0;le--)K=y.g=v[le],W=Mn(K,I,!0,y)&&W;if(K=y.g=u,W=Mn(K,I,!0,y)&&W,W=Mn(K,I,!1,y)&&W,v)for(le=0;le<v.length;le++)K=y.g=v[le],W=Mn(K,I,!1,y)&&W}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const v=u.g[y];for(let I=0;I<v.length;I++)Q(v[I]);delete u.g[y],u.h--}}this.G=null},yt.prototype.J=function(u,y,v,I){return this.i.add(String(u),y,!1,v,I)},yt.prototype.K=function(u,y,v,I){return this.i.add(String(u),y,!0,v,I)};function Mn(u,y,v,I){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let W=!0;for(let K=0;K<y.length;++K){const le=y[K];if(le&&!le.da&&le.capture==v){const Ne=le.listener,pt=le.ha||le.src;le.fa&&Oe(u.i,le),W=Ne.call(pt,I)!==!1&&W}}return W&&!I.defaultPrevented}function ka(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(u,y||0)}function Na(u){u.g=ka(()=>{u.g=null,u.i&&(u.i=!1,Na(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class hc extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(u){M.call(this),this.h=u,this.g={}}E(pi,M);var Da=[];function co(u){se(u.g,function(y,v){this.g.hasOwnProperty(v)&&ht(y)},u),u.g={}}pi.prototype.N=function(){pi.Z.N.call(this),co(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=c.JSON.stringify,fc=c.JSON.parse,ms=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function gi(){}function pc(){}var yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function uo(){O.call(this,"d")}E(uo,O);function Oa(){O.call(this,"c")}E(Oa,O);var Ln={},ho=null;function vi(){return ho=ho||new yt}Ln.Ia="serverreachability";function fo(u){O.call(this,Ln.Ia,u)}E(fo,O);function Mr(u){const y=vi();ft(y,new fo(y))}Ln.STAT_EVENT="statevent";function Lr(u,y){O.call(this,Ln.STAT_EVENT,u),this.stat=y}E(Lr,O);function ct(u){const y=vi();ft(y,new Lr(y,u))}Ln.Ja="timingevent";function Va(u,y){O.call(this,Ln.Ja,u),this.size=y}E(Va,O);function _i(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},y)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function mc(u,y,v,I,W,K){u.info(function(){if(u.g)if(K){var le="",Ne=K.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var pt=Ne[Qe].split("=");if(pt.length>1){const vt=pt[0];pt=pt[1];const mn=vt.split("_");le=mn.length>=2&&mn[1]=="type"?le+(vt+"="+pt+"&"):le+(vt+"=redacted&")}}}else le=null;else le=K;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+y+`
`+v+`
`+le})}function gc(u,y,v,I,W,K,le){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+y+`
`+v+`
`+K+" "+le})}function nr(u,y,v,I){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+gs(u,v)+(I?" "+I:"")})}function yc(u,y){u.info(function(){return"TIMEOUT: "+y})}wi.prototype.info=function(){};function gs(u,y){if(!u.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var v=K[u];if(!(v.length<2)){var I=v[1];if(Array.isArray(I)&&!(I.length<1)){var W=I[0];if(W!="noop"&&W!="stop"&&W!="close")for(let le=1;le<I.length;le++)I[le]=""}}}}return mi(K)}catch{return y}}var Ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ti={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vc;function jr(){}E(jr,gi),jr.prototype.g=function(){return new XMLHttpRequest},vc=new jr;function rr(u){return encodeURIComponent(String(u))}function po(u){var y=1;u=u.split(":");const v=[];for(;y>0&&u.length;)v.push(u.shift()),y--;return u.length&&v.push(u.join(":")),v}function Tn(u,y,v,I){this.j=u,this.i=y,this.l=v,this.S=I||1,this.V=new pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _c}function _c(){this.i=null,this.g="",this.h=!1}var wc={},Ma={};function jn(u,y,v){u.M=1,u.A=Ur(Sn(y)),u.u=v,u.R=!0,La(u,null)}function La(u,y){u.F=Date.now(),ys(u),u.B=Sn(u.A);var v=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),Ga(v.i,"t",I),u.C=0,v=u.j.L,u.h=new _c,u.g=bc(u.j,v?y:null,!u.u),u.P>0&&(u.O=new hc(m(u.Y,u,u.g),u.P)),y=u.V,v=u.g,I=u.ba;var W="readystatechange";Array.isArray(W)||(W&&(Da[0]=W.toString()),W=Da);for(let K=0;K<W.length;K++){const le=Ve(v,W[K],I||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=u.J?U(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Mr(),mc(u.i,u.v,u.B,u.l,u.S,u.u)}Tn.prototype.ba=function(u){u=u.target;const y=this.O;y&&ur(u)==3?y.j():this.Y(u)},Tn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=ur(this.g),pt=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Rc(this.g)))){this.K||Ne!=4||pt==7||(pt==8||Qe<=0?Mr(3):Mr(2)),mo(this);var y=this.g.ca();this.X=y;var v=Ec(this);if(this.o=y==200,gc(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var I,W=this.g;if((I=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var K=I;break t}}K=null}if(u=K)nr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ze(this,u);else{this.o=!1,this.m=3,ct(12),Fr(this),vs(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=Sc(this,v),vt==Ma){Ne==4&&(this.m=4,ct(14),u=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==wc){this.m=4,ct(15),nr(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else nr(this.i,this.l,vt,null),Ze(this,vt);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,ct(16),u=!1),this.o=this.o&&u,!u)nr(this.i,this.l,v,"[Invalid Chunked Response]"),Fr(this),vs(this);else if(v.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),As(le),le.P=!0,ct(11))}}else nr(this.i,this.l,v,null),Ze(this,v);Ne==4&&Fr(this),this.o&&!this.K&&(Ne==4?xo(this.j,this):(this.o=!1,ys(this)))}else Qa(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),Fr(this),vs(this)}}}catch{}finally{}};function Ec(u){if(!Tc(u))return u.g.la();const y=Rc(u.g);if(y==="")return"";let v="";const I=y.length,W=ur(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Fr(u),vs(u),"";u.h.i=new c.TextDecoder}for(let K=0;K<I;K++)u.h.h=!0,v+=u.h.i.decode(y[K],{stream:!(W&&K==I-1)});return y.length=0,u.h.g+=v,u.C=0,u.h.g}function Tc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Sc(u,y){var v=u.C,I=y.indexOf(`
`,v);return I==-1?Ma:(v=Number(y.substring(v,I)),isNaN(v)?wc:(I+=1,I+v>y.length?Ma:(y=y.slice(I,I+v),u.C=I+v,y)))}Tn.prototype.cancel=function(){this.K=!0,Fr(this)};function ys(u){u.T=Date.now()+u.H,ja(u,u.H)}function ja(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(m(u.aa,u),y)}function mo(u){u.D&&(c.clearTimeout(u.D),u.D=null)}Tn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yc(this.i,this.B),this.M!=2&&(Mr(),ct(17)),Fr(this),this.m=2,vs(this)):ja(this,this.T-u)};function vs(u){u.j.I==0||u.K||xo(u.j,u)}function Fr(u){mo(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,co(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Ze(u,y){try{var v=u.j;if(v.I!=0&&(v.g==u||Ua(v.h,u))){if(!u.L&&Ua(v.h,u)&&v.I==3){try{var I=v.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Io(v),fn(v);else break e;fr(v),ct(18)}}else v.xa=W[1],0<v.xa-v.K&&W[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(m(v.Va,v),6e3));_s(v.h)<=1&&v.ta&&(v.ta=void 0)}else pn(v,11)}else if((u.L||v.g==u)&&Io(v),!R(y))for(W=v.Ba.g.parse(y),y=0;y<W.length;y++){let Qe=W[y];const vt=Qe[0];if(!(vt<=v.K))if(v.K=vt,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const mn=Qe[3];mn!=null&&(v.ka=mn,v.j.info("VER="+v.ka));const Hr=Qe[4];Hr!=null&&(v.za=Hr,v.j.info("SVER="+v.za));const pr=Qe[5];pr!=null&&typeof pr=="number"&&pr>0&&(I=1.5*pr,v.O=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const mr=u.g;if(mr){const Ro=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ro){var K=I.h;K.g||Ro.indexOf("spdy")==-1&&Ro.indexOf("quic")==-1&&Ro.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(yo(K,K.h),K.h=null))}if(I.G){const Ja=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(I.wa=Ja,Ge(I.J,I.G,Ja))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),I=v;var le=u;if(I.na=Xa(I,I.L?I.ba:null,I.W),le.L){ws(I.h,le);var Ne=le,pt=I.O;pt&&(Ne.H=pt),Ne.D&&(mo(Ne),ys(Ne)),I.g=le}else Bt(I);v.i.length>0&&Wr(v)}else Qe[0]!="stop"&&Qe[0]!="close"||pn(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?pn(v,7):To(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}Mr(4)}catch{}}var Jd=class{constructor(u,y){this.g=u,this.map=y}};function go(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _s(u){return u.h?1:u.g?u.g.size:0}function Ua(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function yo(u,y){u.g?u.g.add(y):u.h=y}function ws(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}go.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function un(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const v of u.g.values())y=y.concat(v.G);return y}return b(u.i)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dn(u,y){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const I=u[v].indexOf("=");let W,K=null;I>=0?(W=u[v].substring(0,I),K=u[v].substring(I+1)):W=u[v],y(W,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ir(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof ir?(this.l=u.l,Es(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.u),this.h=u.h,Si(this,Ka(u.i)),this.m=u.m):u&&(y=String(u).match(Ic))?(this.l=!1,Es(this,y[1]||"",!0),this.o=Ts(y[2]||""),this.g=Ts(y[3]||"",!0),sr(this,y[4]),this.h=Ts(y[5]||"",!0),Si(this,y[6]||"",!0),this.m=Ts(y[7]||"")):(this.l=!1,this.i=new Be(null,this.l))}ir.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Ss(y,Ba,!0),":");var v=this.g;return(v||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Ss(y,Ba,!0),"@"),u.push(rr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ss(v,v.charAt(0)=="/"?Is:$a,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ss(v,Wa)),u.join("")},ir.prototype.resolve=function(u){const y=Sn(this);let v=!!u.j;v?Es(y,u.j):v=!!u.o,v?y.o=u.o:v=!!u.g,v?y.g=u.g:v=u.u!=null;var I=u.h;if(v)sr(y,u.u);else if(v=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var W=y.h.lastIndexOf("/");W!=-1&&(I=y.h.slice(0,W+1)+I)}if(W=I,W==".."||W==".")I="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){I=W.lastIndexOf("/",0)==0,W=W.split("/");const K=[];for(let le=0;le<W.length;){const Ne=W[le++];Ne=="."?I&&le==W.length&&K.push(""):Ne==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),I&&le==W.length&&K.push("")):(K.push(Ne),I=!0)}I=K.join("/")}else I=W}return v?y.h=I:v=u.i.toString()!=="",v?Si(y,Ka(u.i)):v=!!u.m,v&&(y.m=u.m),y};function Sn(u){return new ir(u)}function Es(u,y,v){u.j=v?Ts(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Si(u,y,v){y instanceof Be?(u.i=y,_o(u.i,u.l)):(v||(y=Ss(y,Zd)),u.i=new Be(y,u.l))}function Ge(u,y,v){u.i.set(y,v)}function Ur(u){return Ge(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ts(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ss(u,y,v){return typeof u=="string"?(u=encodeURI(u).replace(y,za),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function za(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ba=/[#\/\?@]/g,$a=/[#\?:]/g,Is=/[#\?]/g,Zd=/[#\?@]/g,Wa=/#/g;function Be(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function or(u){u.g||(u.g=new Map,u.h=0,u.i&&dn(u.i,function(y,v){u.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Be.prototype,n.add=function(u,y){or(this),this.i=null,u=ar(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(y),this.h+=1,this};function Ha(u,y){or(u),y=ar(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function vo(u,y){return or(u),y=ar(u,y),u.g.has(y)}n.forEach=function(u,y){or(this),this.g.forEach(function(v,I){v.forEach(function(W){u.call(y,W,I,this)},this)},this)};function qa(u,y){or(u);let v=[];if(typeof y=="string")vo(u,y)&&(v=v.concat(u.g.get(ar(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)v=v.concat(u[y]);return v}n.set=function(u,y){return or(this),this.i=null,u=ar(this,u),vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=qa(this,u),u.length>0?String(u[0]):y):y};function Ga(u,y,v){Ha(u,y),v.length>0&&(u.i=null,u.g.set(ar(u,y),b(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var v=y[I];const W=rr(v);v=qa(this,v);for(let K=0;K<v.length;K++){let le=W;v[K]!==""&&(le+="="+rr(v[K])),u.push(le)}}return this.i=u.join("&")};function Ka(u){const y=new Be;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function ar(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function _o(u,y){y&&!u.j&&(or(u),u.i=null,u.g.forEach(function(v,I){const W=I.toLowerCase();I!=W&&(Ha(this,I),Ga(this,W,v))},u)),u.j=y}function lr(u,y){const v=new wi;if(c.Image){const I=new Image;I.onload=_(Dt,v,"TestLoadImage: loaded",!0,y,I),I.onerror=_(Dt,v,"TestLoadImage: error",!1,y,I),I.onabort=_(Dt,v,"TestLoadImage: abort",!1,y,I),I.ontimeout=_(Dt,v,"TestLoadImage: timeout",!1,y,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else y(!1)}function cr(u,y){const v=new wi,I=new AbortController,W=setTimeout(()=>{I.abort(),Dt(v,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:I.signal}).then(K=>{clearTimeout(W),K.ok?Dt(v,"TestPingServer: ok",!0,y):Dt(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),Dt(v,"TestPingServer: error",!1,y)})}function Dt(u,y,v,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(v)}catch{}}function xs(){this.g=new ms}function zr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(zr,gi),zr.prototype.g=function(){return new hn(this.i,this.h)};function hn(u,y){yt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(hn,yt),n=hn.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Fn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xc(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xc(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Ii(this):Fn(this),this.readyState==3&&xc(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,Ii(this))},n.Na=function(u){this.g&&(this.response=u,Ii(this))},n.ga=function(){this.g&&Ii(this)};function Ii(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}n.setRequestHeader=function(u,y){this.A.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=y.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cc(u){let y="";return se(u,function(v,I){y+=I,y+=":",y+=v,y+=`\r
`}),y}function wo(u,y,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Cc(v),typeof u=="string"?v!=null&&rr(v):Ge(u,y,v))}function Ye(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ye,yt);var Ac=/^https?$/i,eh=["POST","PUT"];n=Ye.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,y,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vc.g(),this.g.onreadystatechange=S(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(K){xi(this,K);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)v.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())v.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),W=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(eh,y,void 0)>=0)||I||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of v)this.g.setRequestHeader(K,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){xi(this,K)}};function xi(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ci(u),$r(u)}function Ci(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ft(this,"complete"),ft(this,"abort"),$r(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),Ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},n.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof a<"u"){if(u.v&&ur(u)==4)setTimeout(u.Ca.bind(u),0);else if(ft(u,"readystatechange"),ur(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var I;if(I=K===0){let le=String(u.D).match(Ic)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),I=!Ac.test(le?le.toLowerCase():"")}v=I}if(v)ft(u,"complete"),ft(u,"success");else{u.o=6;try{var W=ur(u)>2?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.ca()+"]",Ci(u)}}finally{$r(u)}}}}function $r(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,y||ft(u,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ur(u){return u.g?u.g.readyState:0}n.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),fc(y)}};function Rc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qa(u){const y={};u=(u.g&&ur(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(R(u[I]))continue;var v=po(u[I]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[W]||[];y[W]=K,K.push(v)}oe(y,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(u,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||y}function Eo(u){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=dr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=dr("baseRetryDelayMs",5e3,u),this.Za=dr("retryDelaySeedMs",1e4,u),this.Ta=dr("forwardChannelMaxRetries",2,u),this.va=dr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Eo.prototype,n.ka=8,n.I=1,n.connect=function(u,y,v,I){ct(0),this.W=u,this.H=y||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.J=Xa(this,null,this.W),Wr(this)};function To(u){if(So(u),u.I==3){var y=u.V++,v=Sn(u.J);if(Ge(v,"SID",u.M),Ge(v,"RID",y),Ge(v,"TYPE","terminate"),hr(u,v),y=new Tn(u,u.j,y),y.M=2,y.A=Ur(Sn(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=bc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ys(y)}Rs(u)}function fn(u){u.g&&(As(u),u.g.cancel(),u.g=null)}function So(u){fn(u),u.v&&(c.clearTimeout(u.v),u.v=null),Io(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function Wr(u){if(!Fa(u.h)&&!u.m){u.m=!0;var y=u.Ea;Z||C(),ae||(Z(),ae=!0),A.add(y,u),u.D=0}}function Pc(u,y){return _s(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(m(u.Ea,u,y),Co(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const W=new Tn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=U(K),Ae(K,this.U)):K=this.U),this.u!==null||this.R||(W.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ya(this,W,y),v=Sn(this.J),Ge(v,"RID",u),Ge(v,"CVER",22),this.G&&Ge(v,"X-HTTP-Session-Id",this.G),hr(this,v),K&&(this.R?y="headers="+rr(Cc(K))+"&"+y:this.u&&wo(v,this.u,K)),yo(this.h,W),this.Ra&&Ge(v,"TYPE","init"),this.S?(Ge(v,"$req",y),Ge(v,"SID","null"),W.U=!0,jn(W,v,null)):jn(W,v,y),this.I=2}}else this.I==3&&(u?Cs(this,u):this.i.length==0||Fa(this.h)||Cs(this))};function Cs(u,y){var v;y?v=y.l:v=u.V++;const I=Sn(u.J);Ge(I,"SID",u.M),Ge(I,"RID",v),Ge(I,"AID",u.K),hr(u,I),u.u&&u.o&&wo(I,u.u,u.o),v=new Tn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ya(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,v),jn(v,I,y)}function hr(u,y){u.H&&se(u.H,function(v,I){Ge(y,I,v)}),u.l&&se({},function(v,I){Ge(y,I,v)})}function Ya(u,y,v){v=Math.min(u.i.length,v);const I=u.l?m(u.l.Ka,u.l,u):null;e:{var W=u.i;let Ne=-1;for(;;){const pt=["count="+v];Ne==-1?v>0?(Ne=W[0].g,pt.push("ofs="+Ne)):Ne=0:pt.push("ofs="+Ne);let Qe=!0;for(let vt=0;vt<v;vt++){var K=W[vt].g;const mn=W[vt].map;if(K-=Ne,K<0)Ne=Math.max(0,W[vt].g-100),Qe=!1;else try{K="req"+K+"_"||"";try{var le=mn instanceof Map?mn:Object.entries(mn);for(const[Hr,pr]of le){let mr=pr;h(pr)&&(mr=mi(pr)),pt.push(K+Hr+"="+encodeURIComponent(mr))}}catch(Hr){throw pt.push(K+"type="+encodeURIComponent("_badmap")),Hr}}catch{I&&I(mn)}}if(Qe){le=pt.join("&");break e}}le=void 0}return u=u.i.splice(0,v),y.G=u,le}function Bt(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;Z||C(),ae||(Z(),ae=!0),A.add(y,u),u.A=0}}function fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(m(u.Da,u),Co(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Ai(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(m(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),fn(this),Ai(this))};function As(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function Ai(u){u.g=new Tn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Sn(u.na);Ge(y,"RID","rpc"),Ge(y,"SID",u.M),Ge(y,"AID",u.K),Ge(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ge(y,"TO",u.ia),Ge(y,"TYPE","xmlhttp"),hr(u,y),u.u&&u.o&&wo(y,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ur(Sn(y)),v.u=null,v.R=!0,La(v,u)}n.Va=function(){this.C!=null&&(this.C=null,fn(this),fr(this),ct(19))};function Io(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function xo(u,y){var v=null;if(u.g==y){Io(u),As(u),u.g=null;var I=2}else if(Ua(u.h,y))v=y.G,ws(u.h,y),I=1;else return;if(u.I!=0){if(y.o)if(I==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var W=u.D;I=vi(),ft(I,new Va(I,v)),Wr(u)}else Bt(u);else if(W=y.m,W==3||W==0&&y.X>0||!(I==1&&Pc(u,y)||I==2&&fr(u)))switch(v&&v.length>0&&(y=u.h,y.i=y.i.concat(v)),W){case 1:pn(u,5);break;case 4:pn(u,10);break;case 3:pn(u,6);break;default:pn(u,2)}}}function Co(u,y){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*y}function pn(u,y){if(u.j.info("Error code "+y),y==2){var v=m(u.bb,u),I=u.Ua;const W=!I;I=new ir(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Es(I,"https"),Ur(I),W?lr(I.toString(),v):cr(I.toString(),v)}else ct(2);u.I=0,u.l&&u.l.pa(y),Rs(u),So(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Rs(u){if(u.I=0,u.ja=[],u.l){const y=un(u.h);(y.length!=0||u.i.length!=0)&&(V(u.ja,y),V(u.ja,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.oa()}}function Xa(u,y,v){var I=v instanceof ir?Sn(v):new ir(v);if(I.g!="")y&&(I.g=y+"."+I.g),sr(I,I.u);else{var W=c.location;I=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;const K=new ir(null);I&&Es(K,I),y&&(K.g=y),W&&sr(K,W),v&&(K.h=v),I=K}return v=u.G,y=u.wa,v&&y&&Ge(I,v,y),Ge(I,"VER",u.ka),hr(u,I),I}function bc(u,y,v){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Ye(new zr({ab:v})):new Ye(u.ma),y.Fa(u.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}n=kc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ao(){}Ao.prototype.g=function(u,y){return new Ot(u,y)};function Ot(u,y){yt.call(this),this.g=new Eo(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!R(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Ri(this)}E(Ot,yt),Ot.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){To(this.g)},Ot.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=mi(u),u=v);y.i.push(new Jd(y.Ya++,u)),y.I==3&&Wr(y)},Ot.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Ot.Z.N.call(this)};function Nc(u){uo.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const v in y){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}E(Nc,uo);function Dc(){Oa.call(this),this.status=1}E(Dc,Oa);function Ri(u){this.g=u}E(Ri,kc),Ri.prototype.ra=function(){ft(this.g,"a")},Ri.prototype.qa=function(u){ft(this.g,new Nc(u))},Ri.prototype.pa=function(u){ft(this.g,new Dc)},Ri.prototype.oa=function(){ft(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,P0=function(){return new Ao},R0=function(){return vi()},A0=Ln,ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,Bu=Ei,Ti.COMPLETE="complete",C0=Ti,pc.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Rl=pc,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,x0=Ye}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore",Fv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new xd("@firebase/firestore");function Zo(){return Ks.logLevel}function de(n,...e){if(Ks.logLevel<=Fe.DEBUG){const t=e.map(qp);Ks.debug(`Firestore (${Ta}): ${n}`,...t)}}function li(n,...e){if(Ks.logLevel<=Fe.ERROR){const t=e.map(qp);Ks.error(`Firestore (${Ta}): ${n}`,...t)}}function ha(n,...e){if(Ks.logLevel<=Fe.WARN){const t=e.map(qp);Ks.warn(`Firestore (${Ta}): ${n}`,...t)}}function qp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,b0(n,i,t)}function b0(n,e,t){let i=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw li(i),new Error(i)}function Ke(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||b0(e,o,i)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Kt.UNAUTHENTICATED)))}shutdown(){}}class iP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sP{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new k0(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class oP{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aP{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new oP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Uv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=cP(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function lp(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),a=e.charAt(i);if(o!==a)return Of(o)===Of(a)?Ue(o,a):Of(o)?1:-1}return Ue(n.length,e.length)}const uP=55296,dP=57343;function Of(n){const e=n.charCodeAt(0);return e>=uP&&e<=dP}function fa(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="__name__";class wr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ce(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=wr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ue(e.length,t.length)}static compareSegments(e,t){const i=wr.isNumericId(e),o=wr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?wr.extractNumericId(e).compare(wr.extractNumericId(t)):lp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class at extends wr{construct(e,t,i){return new at(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new at(t)}static emptyPath(){return new at([])}}const hP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends wr{construct(e,t,i){return new jt(e,t,i)}static isValidIdentifier(e){return hP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zv}static keyField(){return new jt([zv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(at.fromString(e))}static fromName(e){return new Se(at.fromString(e).popFirst(5))}static empty(){return new Se(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n,e,t){if(!t)throw new ve(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pP(n,e,t,i){if(e===!0&&i===!0)throw new ve(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bv(n){if(!Se.isDocumentKey(n))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function N0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function $l(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kp(n);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,e){const t={typeString:n};return e&&(t.value=e),t}function sc(n,e){if(!N0(n))throw new ve(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new ve(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=-62135596800,Wv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Wv);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$v)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Tt("string",rt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function mP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new ss(o,Se.empty(),e)}function gP(n){return new ss(n.readTime,n.key,Wl)}class ss{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ss(be.min(),Se.empty(),Wl)}static max(){return new ss(be.max(),Se.empty(),Wl)}}function yP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _P{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==vP)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,i)=>{t(e)}))}static reject(e){return new X(((t,i)=>{i(e)}))}static waitFor(e){return new X(((t,i)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(p=>i(p)))})),c=!0,a===o&&t()}))}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next((o=>o?X.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new X(((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const m=p;t(e[m]).next((_=>{c[m]=_,++h,h===a&&i(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new X(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function wP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ia(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function bd(n){return n==null}function sd(n){return n===0&&1/n==-1/0}function EP(n){return typeof n=="number"&&Number.isInteger(n)&&!sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="";function TP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hv(e)),e=SP(n.get(t),e);return Hv(e)}function SP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case D0:t+="";break;default:t+=a}}return t}function Hv(n){return n+D0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function so(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(e){return new Gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class Gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new Ct(jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new V0("Invalid base64 string: "+a):a}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const IP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=IP.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function as(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="server_timestamp",L0="__type__",j0="__previous_value__",F0="__local_write_time__";function Yp(n){return(n?.mapValue?.fields||{})[L0]?.stringValue===M0}function kd(n){const e=n.mapValue.fields[j0];return Yp(e)?kd(e):e}function Hl(n){const e=os(n.mapValue.fields[F0].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,i,o,a,c,h,p,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=_}}const od="(default)";class ql{constructor(e,t){this.projectId=e,this.database=t||od}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__type__",CP="__max__",bu={mapValue:{}},z0="__vector__",ad="value";function ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yp(n)?4:RP(n)?9007199254740991:AP(n)?10:11:Ce(28295,{value:n})}function kr(n,e){if(n===e)return!0;const t=ls(n);if(t!==ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hl(n).isEqual(Hl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=os(o.timestampValue),h=os(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return as(o.bytesValue).isEqual(as(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return gt(o.geoPointValue.latitude)===gt(a.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return gt(o.integerValue)===gt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=gt(o.doubleValue),h=gt(a.doubleValue);return c===h?sd(c)===sd(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return fa(n.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(qv(c)!==qv(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!kr(c[p],h[p])))return!1;return!0})(n,e);default:return Ce(52216,{left:n})}}function Gl(n,e){return(n.values||[]).find((t=>kr(t,e)))!==void 0}function pa(n,e){if(n===e)return 0;const t=ls(n),i=ls(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=gt(a.integerValue||a.doubleValue),p=gt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(n,e);case 3:return Kv(n.timestampValue,e.timestampValue);case 4:return Kv(Hl(n),Hl(e));case 5:return lp(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=as(a),p=as(c);return h.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const _=Ue(h[m],p[m]);if(_!==0)return _}return Ue(h.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=Ue(gt(a.latitude),gt(c.latitude));return h!==0?h:Ue(gt(a.longitude),gt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Qv(n.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},p=c.fields||{},m=h[ad]?.arrayValue,_=p[ad]?.arrayValue,E=Ue(m?.values?.length||0,_?.values?.length||0);return E!==0?E:Qv(m,_)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===bu.mapValue&&c===bu.mapValue)return 0;if(a===bu.mapValue)return 1;if(c===bu.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const S=lp(p[E],_[E]);if(S!==0)return S;const b=pa(h[p[E]],m[_[E]]);if(b!==0)return b}return Ue(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Ce(23264,{he:t})}}function Kv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=os(n),i=os(e),o=Ue(t.seconds,i.seconds);return o!==0?o:Ue(t.nanos,i.nanos)}function Qv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=pa(t[o],i[o]);if(a)return a}return Ue(t.length,i.length)}function ma(n){return cp(n)}function cp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=os(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return as(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=cp(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${cp(t.fields[c])}`;return o+"}"})(n.mapValue):Ce(61005,{value:n})}function $u(n){switch(ls(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kd(n);return e?16+$u(e):16;case 5:return 2*n.stringValue.length;case 6:return as(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+$u(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return so(i.fields,((a,c)=>{o+=a.length+$u(c)})),o})(n.mapValue);default:throw Ce(13486,{value:n})}}function up(n){return!!n&&"integerValue"in n}function Xp(n){return!!n&&"arrayValue"in n}function Yv(n){return!!n&&"nullValue"in n}function Xv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wu(n){return!!n&&"mapValue"in n}function AP(n){return(n?.mapValue?.fields||{})[U0]?.stringValue===z0}function Vl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return so(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Vl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vl(n.arrayValue.values[t]);return e}return{...n}}function RP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}setAll(e){let t=jt.emptyPath(),i={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=Vl(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Wu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){so(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new kn(Vl(this.value))}}function B0(n){const e=[];return so(n.fields,((t,i)=>{const o=new jt([t]);if(Wu(i)){const a=B0(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Qt(e,0,be.min(),be.min(),be.min(),kn.empty(),0)}static newFoundDocument(e,t,i,o){return new Qt(e,1,t,be.min(),i,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,be.min(),be.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,be.min(),be.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.position=e,this.inclusive=t}}function Jv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Se.comparator(Se.fromName(c.referenceValue),t.key):i=pa(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t="asc"){this.field=e,this.dir=t}}function PP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{}class xt extends $0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new kP(e,t,i):t==="array-contains"?new OP(e,i):t==="in"?new VP(e,i):t==="not-in"?new MP(e,i):t==="array-contains-any"?new LP(e,i):new xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new NP(e,i):new DP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pa(t,this.value)):t!==null&&ls(this.value)===ls(t)&&this.matchesComparison(pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends $0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nr(e,t)}matches(e){return W0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W0(n){return n.op==="and"}function H0(n){return bP(n)&&W0(n)}function bP(n){for(const e of n.filters)if(e instanceof Nr)return!1;return!0}function dp(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+ma(n.value);if(H0(n))return n.filters.map((e=>dp(e))).join(",");{const e=n.filters.map((t=>dp(t))).join(",");return`${n.op}(${e})`}}function q0(n,e){return n instanceof xt?(function(i,o){return o instanceof xt&&i.op===o.op&&i.field.isEqual(o.field)&&kr(i.value,o.value)})(n,e):n instanceof Nr?(function(i,o){return o instanceof Nr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,c,h)=>a&&q0(c,o.filters[h])),!0):!1})(n,e):void Ce(19439)}function G0(n){return n instanceof xt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ma(t.value)}`})(n):n instanceof Nr?(function(t){return t.op.toString()+" {"+t.getFilters().map(G0).join(" ,")+"}"})(n):"Filter"}class kP extends xt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class NP extends xt{constructor(e,t){super(e,"in",t),this.keys=K0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DP extends xt{constructor(e,t){super(e,"not-in",t),this.keys=K0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function K0(n,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class OP extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xp(t)&&Gl(t.arrayValue,this.value)}}class VP extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gl(this.value.arrayValue,t)}}class MP extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gl(this.value.arrayValue,t)}}class LP extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Gl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function e_(n,e=null,t=[],i=[],o=null,a=null,c=null){return new jP(n,e,t,i,o,a,c)}function Jp(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>dp(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ma(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ma(i))).join(",")),e.Te=t}return e.Te}function Zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!q0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zv(n.startAt,e.startAt)&&Zv(n.endAt,e.endAt)}function hp(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FP(n,e,t,i,o,a,c,h){return new Nd(n,e,t,i,o,a,c,h)}function em(n){return new Nd(n)}function t_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UP(n){return n.collectionGroup!==null}function Ml(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ct(jt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new cd(a,i))})),t.has(jt.keyField().canonicalString())||e.Ie.push(new cd(jt.keyField(),i))}return e.Ie}function xr(n){const e=De(n);return e.Ee||(e.Ee=zP(e,Ml(n))),e.Ee}function zP(n,e){if(n.limitType==="F")return e_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new cd(o.field,a)}));const t=n.endAt?new ld(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ld(n.startAt.position,n.startAt.inclusive):null;return e_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function fp(n,e,t){return new Nd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dd(n,e){return Zp(xr(n),xr(e))&&n.limitType===e.limitType}function Q0(n){return`${Jp(xr(n))}|lt:${n.limitType}`}function ea(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>G0(o))).join(", ")}]`),bd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>ma(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>ma(o))).join(",")),`Target(${i})`})(xr(n))}; limitType=${n.limitType})`}function Od(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Se.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of Ml(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,h,p){const m=Jv(c,h,p);return c.inclusive?m<=0:m<0})(i.startAt,Ml(i),o)||i.endAt&&!(function(c,h,p){const m=Jv(c,h,p);return c.inclusive?m>=0:m>0})(i.endAt,Ml(i),o))})(n,e)}function BP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Y0(n){return(e,t)=>{let i=!1;for(const o of Ml(n)){const a=$P(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function $P(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(a,c,h){const p=c.data.field(a),m=h.data.field(a);return p!==null&&m!==null?pa(p,m):Ce(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new lt(Se.comparator);function ci(){return WP}const X0=new lt(Se.comparator);function Pl(...n){let e=X0;for(const t of n)e=e.insert(t.key,t);return e}function J0(n){let e=X0;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Bs(){return Ll()}function Z0(){return Ll()}function Ll(){return new oo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const HP=new lt(Se.comparator),qP=new Ct(Se.comparator);function ze(...n){let e=qP;for(const t of n)e=e.add(t);return e}const GP=new Ct(Ue);function KP(){return GP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function eE(n){return{integerValue:""+n}}function QP(n,e){return EP(e)?eE(e):tm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function YP(n,e,t){return n instanceof ud?(function(o,a){const c={fields:{[L0]:{stringValue:M0},[F0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Yp(a)&&(a=kd(a)),a&&(c.fields[j0]=a),{mapValue:c}})(t,e):n instanceof Kl?nE(n,e):n instanceof Ql?rE(n,e):(function(o,a){const c=tE(o,a),h=n_(c)+n_(o.Ae);return up(c)&&up(o.Ae)?eE(h):tm(o.serializer,h)})(n,e)}function XP(n,e,t){return n instanceof Kl?nE(n,e):n instanceof Ql?rE(n,e):t}function tE(n,e){return n instanceof dd?(function(i){return up(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class ud extends Vd{}class Kl extends Vd{constructor(e){super(),this.elements=e}}function nE(n,e){const t=iE(e);for(const i of n.elements)t.some((o=>kr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Ql extends Vd{constructor(e){super(),this.elements=e}}function rE(n,e){let t=iE(e);for(const i of n.elements)t=t.filter((o=>!kr(o,i)));return{arrayValue:{values:t}}}class dd extends Vd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function n_(n){return gt(n.integerValue||n.doubleValue)}function iE(n){return Xp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JP(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Kl&&o instanceof Kl||i instanceof Ql&&o instanceof Ql?fa(i.elements,o.elements,kr):i instanceof dd&&o instanceof dd?kr(i.Ae,o.Ae):i instanceof ud&&o instanceof ud})(n.transform,e.transform)}class ZP{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Md{}function sE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new aE(n.key,si.none()):new oc(n.key,n.data,si.none());{const t=n.data,i=kn.empty();let o=new Ct(jt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ao(n.key,i,new Qn(o.toArray()),si.none())}}function eb(n,e,t){n instanceof oc?(function(o,a,c){const h=o.value.clone(),p=i_(o.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ao?(function(o,a,c){if(!Hu(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=i_(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(oE(o)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function jl(n,e,t,i){return n instanceof oc?(function(a,c,h,p){if(!Hu(a.precondition,c))return h;const m=a.value.clone(),_=s_(a.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof ao?(function(a,c,h,p){if(!Hu(a.precondition,c))return h;const m=s_(a.fieldTransforms,p,c),_=c.data;return _.setAll(oE(a)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(a,c,h){return Hu(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function tb(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=tE(i.transform,o||null);a!=null&&(t===null&&(t=kn.empty()),t.set(i.field,a))}return t||null}function r_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&fa(i,o,((a,c)=>JP(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class oc extends Md{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ao extends Md{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function i_(n,e,t){const i=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,XP(c,h,t[o]))}return i}function s_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,YP(a,c,e))}return i}class aE extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nb extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&eb(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=jl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=jl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Z0();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const p=sE(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(be.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,((t,i)=>r_(t,i)))&&fa(this.baseMutations,e.baseMutations,((t,i)=>r_(t,i)))}}class nm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return HP})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new nm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,$e;function ob(n){switch(n){case ne.OK:return Ce(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function lE(n){if(n===void 0)return li("GRPC error has no .code"),ne.UNKNOWN;switch(n){case wt.OK:return ne.OK;case wt.CANCELLED:return ne.CANCELLED;case wt.UNKNOWN:return ne.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ne.INTERNAL;case wt.UNAVAILABLE:return ne.UNAVAILABLE;case wt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case wt.NOT_FOUND:return ne.NOT_FOUND;case wt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case wt.ABORTED:return ne.ABORTED;case wt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case wt.DATA_LOSS:return ne.DATA_LOSS;default:return Ce(39323,{code:n})}}($e=wt||(wt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new ns([4294967295,4294967295],0);function o_(n){const e=ab().encode(n),t=new I0;return t.update(e),new Uint8Array(t.digest())}function a_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ns([t,i],0),new ns([o,a],0)]}class rm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new bl(`Invalid padding: ${t}`);if(i<0)throw new bl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new bl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ns.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(ns.fromNumber(i)));return o.compare(lb)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=o_(e),[i,o]=a_(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,o,a);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new rm(a,o,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=o_(e),[i,o]=a_(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ld(be.min(),o,new lt(Ue),ci(),ze())}}class ac{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ac(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class cE{constructor(e,t){this.targetId=e,this.Ce=t}}class uE{constructor(e,t,i=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class l_{constructor(){this.ve=0,this.Fe=c_(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),i=ze();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ce(38017,{changeType:a})}})),new ac(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=c_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cb{constructor(e){this.Ge=e,this.ze=new Map,this.je=ci(),this.Je=ku(),this.He=ku(),this.Ye=new lt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(hp(a))if(i===0){const c=new Se(a.path);this.et(t,c,Qt.newNoDocument(c,be.min()))}else Ke(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const h=this.ut(e),p=h?this.ct(h,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=as(i).toUint8Array()}catch(p){if(p instanceof V0)return ha("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new rm(c,o,a)}catch(p){return ha(p instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&hp(h.target)){const p=new Se(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Qt.newNoDocument(p,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let i=ze();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new Ld(e,t,this.Ye,this.je,i);return this.je=ci(),this.Je=ku(),this.He=ku(),this.Ye=new lt(Ue),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new l_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ct(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ct(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ku(){return new lt(Se.comparator)}function c_(){return new lt(Se.comparator)}const ub={asc:"ASCENDING",desc:"DESCENDING"},db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hb={and:"AND",or:"OR"};class fb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pp(n,e){return n.useProto3Json||bd(e)?e:{value:e}}function hd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pb(n,e){return hd(n,e.toTimestamp())}function Cr(n){return Ke(!!n,49232),be.fromTimestamp((function(t){const i=os(t);return new rt(i.seconds,i.nanos)})(n))}function im(n,e){return mp(n,e).canonicalString()}function mp(n,e){const t=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function hE(n){const e=at.fromString(n);return Ke(yE(e),10190,{key:e.toString()}),e}function gp(n,e){return im(n.databaseId,e.path)}function Vf(n,e){const t=hE(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(pE(t))}function fE(n,e){return im(n.databaseId,e)}function mb(n){const e=hE(n);return e.length===4?at.emptyPath():pE(e)}function yp(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pE(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function u_(n,e,t){return{name:gp(n,e),fields:t.value.mapValue.fields}}function gb(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,_){return m.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),Ut.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ut.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const _=m.code===void 0?ne.UNKNOWN:lE(m.code);return new ve(_,m.message||"")})(c);t=new uE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Vf(n,i.document.name),a=Cr(i.document.updateTime),c=i.document.createTime?Cr(i.document.createTime):be.min(),h=new kn({mapValue:{fields:i.document.fields}}),p=Qt.newFoundDocument(o,a,c,h),m=i.targetIds||[],_=i.removedTargetIds||[];t=new qu(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Vf(n,i.document),a=i.readTime?Cr(i.readTime):be.min(),c=Qt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new qu([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Vf(n,i.document),a=i.removedTargetIds||[];t=new qu([],a,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new sb(o,a),h=i.targetId;t=new cE(h,c)}}return t}function yb(n,e){let t;if(e instanceof oc)t={update:u_(n,e.key,e.value)};else if(e instanceof aE)t={delete:gp(n,e.key)};else if(e instanceof ao)t={update:u_(n,e.key,e.data),updateMask:Cb(e.fieldMask)};else{if(!(e instanceof nb))return Ce(16599,{Vt:e.type});t={verify:gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof ud)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ql)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ce(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:pb(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(n,e.precondition)),t}function vb(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?Cr(o.updateTime):Cr(a);return c.isEqual(be.min())&&(c=Cr(a)),new ZP(c,o.transformResults||[])})(t,e)))):[]}function _b(n,e){return{documents:[fE(n,e.path)]}}function wb(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=fE(n,o);const a=(function(m){if(m.length!==0)return gE(Nr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(m){if(m.length!==0)return m.map((_=>(function(S){return{field:ta(S.field),direction:Sb(S.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=pp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function Eb(n){let e=mb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(E){const S=mE(E);return S instanceof Nr&&H0(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((S=>(function(V){return new cd(na(V.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(t.orderBy));let h=null;t.limit&&(h=(function(E){let S;return S=typeof E=="object"?E.value:E,bd(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(E){const S=!!E.before,b=E.values||[];return new ld(b,S)})(t.startAt));let m=null;return t.endAt&&(m=(function(E){const S=!E.before,b=E.values||[];return new ld(b,S)})(t.endAt)),FP(e,o,c,a,h,"F",p,m)}function Tb(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=na(t.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=na(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=na(t.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=na(t.unaryFilter.field);return xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(n):n.fieldFilter!==void 0?(function(t){return xt.create(na(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Nr.create(t.compositeFilter.filters.map((i=>mE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(n):Ce(30097,{filter:n})}function Sb(n){return ub[n]}function Ib(n){return db[n]}function xb(n){return hb[n]}function ta(n){return{fieldPath:n.canonicalString()}}function na(n){return jt.fromServerFormat(n.fieldPath)}function gE(n){return n instanceof xt?(function(t){if(t.op==="=="){if(Xv(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NAN"}};if(Yv(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xv(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NAN"}};if(Yv(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(t.field),op:Ib(t.op),value:t.value}}})(n):n instanceof Nr?(function(t){const i=t.getFilters().map((o=>gE(o)));return i.length===1?i[0]:{compositeFilter:{op:xb(t.op),filters:i}}})(n):Ce(54877,{filter:n})}function Cb(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function yE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t,i,o,a=be.min(),c=be.min(),h=Ut.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.yt=e}}function Rb(n){const e=Eb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.Cn=new bb}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(ss.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class bb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ct(at.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ct(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vE=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(vE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ga(0)}static cr(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",kb=1048576;function f_([n,e],[t,i]){const o=Ue(n,t);return o===0?Ue(e,i):o}class Nb{constructor(e){this.Ir=e,this.buffer=new Ct(f_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();f_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Db{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(h_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ia(t)?de(h_,"Ignoring IndexedDB error during garbage collection: ",t):await Sa(t)}await this.Vr(3e5)}))}}class Ob{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Pd.ce);const i=new Nb(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(d_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,a,c,h,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,h=Date.now(),this.removeTargets(e,i,t)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(m=Date.now(),Zo()<=Fe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function Vb(n,e){return new Ob(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.changes=new oo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&jl(i.mutation,o,Qn.empty(),rt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,ze()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=ze()){const o=Bs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let c=Pl();return a.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Bs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,ze())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,o){let a=ci();const c=Ll(),h=(function(){return Ll()})();return t.forEach(((p,m)=>{const _=i.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof ao)?a=a.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),jl(_.mutation,m,_.mutation.getFieldMask(),rt.now())):c.set(m.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((m,_)=>c.set(m,_))),t.forEach(((m,_)=>h.set(m,new Lb(_,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Ll();let o=new lt(((c,h)=>c-h)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let _=i.get(p)||Qn.empty();_=h.applyToLocalView(m,_),i.set(p,_);const E=(o.get(h.batchId)||ze()).add(p);o=o.insert(h.batchId,E)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,_=p.value,E=Z0();_.forEach((S=>{if(!a.has(S)){const b=sE(t.get(S),i.get(S));b!==null&&E.set(S,b),a=a.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,E))}return X.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):X.resolve(Bs());let h=Wl,p=a;return c.next((m=>X.forEach(m,((_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,p,m,ze()))).next((_=>({batchId:h,changes:J0(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((i=>{let o=Pl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Pl();return this.indexManager.getCollectionParents(e,a).next((h=>X.forEach(h,(p=>{const m=(function(E,S){return new Nd(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((_=>{_.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((c=>{a.forEach(((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,Qt.newInvalidDocument(_)))}));let h=Pl();return c.forEach(((p,m)=>{const _=a.get(p);_!==void 0&&jl(_.mutation,m,Qn.empty(),rt.now()),Od(t,m)&&(h=h.insert(p,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:Rb(o.bundledQuery),readTime:Cr(o.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.overlays=new lt(Se.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Bs();return X.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.St(e,t,a)})),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Bs(),a=t.length+1,c=new Se(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new lt(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=a.get(m.largestBatchId);_===null&&(_=Bs(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=Bs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,_)=>h.set(m,_))),!(h.size()>=o)););return X.resolve(h)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ib(t,i));let a=this.qr.get(t);a===void 0&&(a=ze(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.Qr=new Ct(kt.$r),this.Ur=new Ct(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new kt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new kt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Se(new at([])),i=new kt(t,e),o=new kt(t,e+1),a=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new at([])),i=new kt(t,e),o=new kt(t,e+1);let a=ze();return this.Ur.forEachInRange([i,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new kt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(kt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rb(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new kt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Qp:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,o],(c=>{const h=this.Xr(c.Yr);a.push(h)})),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ct(Ue);return t.forEach((o=>{const a=new kt(o,0),c=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{i=i.add(h.Yr)}))})),X.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Se.isDocumentKey(a)||(a=a.child(""));const c=new kt(new Se(a),0);let h=new Ct(Ue);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.Yr)),!0)}),c),X.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return X.forEach(t.mutations,(o=>{const a=new kt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new kt(t,0),o=this.Zr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.ri=e,this.docs=(function(){return new lt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=ci();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))})),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ci();const c=t.path,h=new Se(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||yP(gP(_),i)<=0||(o.has(_.key)||Od(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ce(9500)}ii(e,t){return X.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Wb(this)}getSize(e){return X.resolve(this.size)}}class Wb extends Mb{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.persistence=e,this.si=new oo((t=>Jp(t)),Zp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new sm,this.targetCount=0,this.ai=ga.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ga(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),X.waitFor(a).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pd(0),this.li=!1,this.li=!0,this.hi=new zb,this.referenceDelegate=e(this),this.Pi=new Hb(this),this.indexManager=new Pb,this.remoteDocumentCache=(function(o){return new $b(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Ab(t),this.Ii=new Fb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ub,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Bb(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new qb(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return X.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class qb extends _P{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Ri=new sm,this.Vi=null}static mi(e){return new om(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(i=>{const o=Se.fromPath(i);return this.gi(e,o).next((a=>{a||t.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class fd{constructor(e,t){this.persistence=e,this.pi=new oo((i=>TP(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=Vb(this,t)}static mi(e,t){return new fd(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((i,o)=>this.br(e,i,o).next((a=>a?X.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((h=>{h||(i++,a.removeEntry(c,be.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$u(e.data.value)),t}br(e,t,i){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=ze(),o=ze();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new am(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return m1()?8:wP(Yt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,o,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new Gb;return this.Ss(e,t,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>a.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Zo()<=Fe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ea(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Zo()<=Fe.DEBUG&&de("QueryEngine","Query:",ea(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Zo()<=Fe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ea(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):X.resolve())}ys(e,t){if(t_(t))return X.resolve(null);let i=xr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=fp(t,null,"F"),i=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=ze(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((p=>{const m=this.Ds(t,h);return this.Cs(t,m,c,p.readTime)?this.ys(e,fp(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,i,o){return t_(t)||o.isEqual(be.min())?X.resolve(null):this.ps.getDocuments(e,i).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,i,o)?X.resolve(null):(Zo()<=Fe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ea(t)),this.vs(e,c,t,mP(o,Wl)).next((h=>h)))}))}Ds(e,t){let i=new Ct(Y0(e));return t.forEach(((o,a)=>{Od(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,i){return Zo()<=Fe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ea(t)),this.ps.getDocumentsMatchingQuery(e,t,ss.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LocalStore",Qb=3e8;class Yb{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new lt(Ue),this.xs=new oo((a=>Jp(a)),Zp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Xb(n,e,t,i){return new Yb(n,e,t,i)}async function wE(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let p=ze();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of a){h.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Jb(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,_){const E=m.batch,S=E.keys();let b=X.resolve();return S.forEach((V=>{b=b.next((()=>_.getEntry(p,V))).next((x=>{const k=m.docVersions.get(V);Ke(k!==null,48541),x.version.compareTo(k)<0&&(E.applyToRemoteDocument(x,m),x.isValidDocument()&&(x.setReadTime(m.commitVersion),_.addEntry(x)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(p,E)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let p=ze();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function EE(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Zb(n,e){const t=De(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach(((_,E)=>{const S=o.get(E);if(!S)return;h.push(t.Pi.removeMatchingKeys(a,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(a,_.addedDocuments,E))));let b=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken(Ut.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,i)),o=o.insert(E,b),(function(x,k,B){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Qb?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(S,b,_)&&h.push(t.Pi.updateTargetData(a,b))}));let p=ci(),m=ze();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),h.push(ek(a,c,e.documentUpdates).next((_=>{p=_.ks,m=_.qs}))),!i.isEqual(be.min())){const _=t.Pi.getLastRemoteSnapshotVersion(a).next((E=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(_)}return X.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,m))).next((()=>p))})).then((a=>(t.Ms=o,a)))}function ek(n,e,t){let i=ze(),o=ze();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=ci();return t.forEach(((h,p)=>{const m=a.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):de(lm,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function tk(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Qp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function nk(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((a=>a?(o=a,X.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new Zi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function vp(n,e,t){const i=De(n),o=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ia(c))throw c;de(lm,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function p_(n,e,t){const i=De(n);let o=be.min(),a=ze();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,_){const E=De(p),S=E.xs.get(_);return S!==void 0?X.resolve(E.Ms.get(S)):E.Pi.getTargetData(m,_)})(i,c,xr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((p=>{a=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:be.min(),t?a:ze()))).next((h=>(rk(i,BP(e),h),{documents:h,Qs:a})))))}function rk(n,e,t){let i=n.Os.get(e)||be.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Os.set(e,i)}class m_{constructor(){this.activeTargetIds=KP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ik{constructor(){this.Mo=new m_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="ConnectivityMonitor";class y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(g_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(g_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=null;function _p(){return Nu===null?Nu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nu++,"0x"+Nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="RestConnection",ok={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ak{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===od?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,a){const c=_p(),h=this.zo(e,t.toUriEncodedString());de(Mf,`Sending RPC '${e}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:m}=new URL(h),_=_a(m);return this.Jo(e,h,p,i,_).then((E=>(de(Mf,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw ha(Mf,`RPC '${e}' ${c} failed with error: `,E,"url: ",h,"request:",i),E}))}Ho(e,t,i,o,a,c){return this.Go(e,t,i,o,a)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const i=ok[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class ck extends ak{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,a){const c=_p();return new Promise(((h,p)=>{const m=new x0;m.setWithCredentials(!0),m.listenOnce(C0.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Bu.NO_ERROR:const E=m.getResponseJson();de(Gt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case Bu.TIMEOUT:de(Gt,`RPC '${e}' ${c} timed out`),p(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const S=m.getStatus();if(de(Gt,`RPC '${e}' ${c} failed with status:`,S,"response text:",m.getResponseText()),S>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b?.error;if(V&&V.status&&V.message){const x=(function(B){const z=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN})(V.status);p(new ve(x,V.message))}else p(new ve(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{de(Gt,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);de(Gt,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",_,i,15)}))}T_(e,t,i){const o=_p(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=P0(),h=R0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");de(Gt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.I_(E);let S=!1,b=!1;const V=new lk({Yo:k=>{b?de(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(S||(de(Gt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),de(Gt,`RPC '${e}' stream ${o} sending:`,k),E.send(k))},Zo:()=>E.close()}),x=(k,B,z)=>{k.listen(B,(q=>{try{z(q)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return x(E,Rl.EventType.OPEN,(()=>{b||(de(Gt,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),x(E,Rl.EventType.CLOSE,(()=>{b||(b=!0,de(Gt,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(E))})),x(E,Rl.EventType.ERROR,(k=>{b||(b=!0,ha(Gt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),V.a_(new ve(ne.UNAVAILABLE,"The operation could not be completed")))})),x(E,Rl.EventType.MESSAGE,(k=>{if(!b){const B=k.data[0];Ke(!!B,16349);const z=B,q=z?.error||z[0]?.error;if(q){de(Gt,`RPC '${e}' stream ${o} received error:`,q);const Y=q.status;let Z=(function(C){const P=wt[C];if(P!==void 0)return lE(P)})(Y),ae=q.message;Z===void 0&&(Z=ne.INTERNAL,ae="Unknown error status: "+Y+" with message "+q.message),b=!0,V.a_(new ve(Z,ae)),E.close()}else de(Gt,`RPC '${e}' stream ${o} received:`,B),V.u_(B)}})),x(h,A0.STAT_EVENT,(k=>{k.stat===ap.PROXY?de(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===ap.NOPROXY&&de(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){return new fb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class SE{constructor(e,t,i,o,a,c,h,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ve(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uk extends SE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=gb(this.serializer,e),i=(function(a){if(!("targetChange"in a))return be.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?Cr(c.readTime):be.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=yp(this.serializer),t.addTarget=(function(a,c){let h;const p=c.target;if(h=hp(p)?{documents:_b(a,p)}:{query:wb(a,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=dE(a,c.resumeToken);const m=pp(a,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(be.min())>0){h.readTime=hd(a,c.snapshotVersion.toTimestamp());const m=pp(a,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=Tb(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=yp(this.serializer),t.removeTarget=e,this.q_(t)}}class dk extends SE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vb(e.writeResults,e.commitTime),i=Cr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=yp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>yb(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{}class fk extends hk{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,mp(t,i),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(ne.UNKNOWN,a.toString())}))}Ho(e,t,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,mp(t,i),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class mk{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{lo(this)&&(de(Qs,"Restarting streams for network reachability change."),await(async function(p){const m=De(p);m.Ea.add(4),await lc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Fd(m)})(this))}))})),this.Ra=new pk(i,o)}}async function Fd(n){if(lo(n))for(const e of n.da)await e(!0)}async function lc(n){for(const e of n.da)await e(!1)}function IE(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),hm(t)?dm(t):xa(t).O_()&&um(t,e))}function cm(n,e){const t=De(n),i=xa(t);t.Ia.delete(e),i.O_()&&xE(t,e),t.Ia.size===0&&(i.O_()?i.L_():lo(t)&&t.Ra.set("Unknown"))}function um(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).Y_(e)}function xE(n,e){n.Va.Ue(e),xa(n).Z_(e)}function dm(n){n.Va=new cb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.Ra.ua()}function hm(n){return lo(n)&&!xa(n).x_()&&n.Ia.size>0}function lo(n){return De(n).Ea.size===0}function CE(n){n.Va=void 0}async function gk(n){n.Ra.set("Online")}async function yk(n){n.Ia.forEach(((e,t)=>{um(n,e)}))}async function vk(n,e){CE(n),hm(n)?(n.Ra.ha(e),dm(n)):n.Ra.set("Unknown")}async function _k(n,e,t){if(n.Ra.set("Online"),e instanceof uE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ia.delete(h),o.Va.removeTarget(h))})(n,e)}catch(i){de(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await pd(n,i)}else if(e instanceof qu?n.Va.Ze(e):e instanceof cE?n.Va.st(e):n.Va.tt(e),!t.isEqual(be.min()))try{const i=await EE(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ia.get(m);_&&a.Ia.set(m,_.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,m)=>{const _=a.Ia.get(p);if(!_)return;a.Ia.set(p,_.withResumeToken(Ut.EMPTY_BYTE_STRING,_.snapshotVersion)),xE(a,p);const E=new Zi(_.target,p,m,_.sequenceNumber);um(a,E)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){de(Qs,"Failed to raise snapshot:",i),await pd(n,i)}}async function pd(n,e,t){if(!Ia(e))throw e;n.Ea.add(1),await lc(n),n.Ra.set("Offline"),t||(t=()=>EE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Qs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Fd(n)}))}function AE(n,e){return e().catch((t=>pd(n,t,e)))}async function Ud(n){const e=De(n),t=cs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qp;for(;wk(e);)try{const o=await tk(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,Ek(e,o)}catch(o){await pd(e,o)}RE(e)&&PE(e)}function wk(n){return lo(n)&&n.Ta.length<10}function Ek(n,e){n.Ta.push(e);const t=cs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function RE(n){return lo(n)&&!cs(n).x_()&&n.Ta.length>0}function PE(n){cs(n).start()}async function Tk(n){cs(n).ra()}async function Sk(n){const e=cs(n);for(const t of n.Ta)e.ea(t.mutations)}async function Ik(n,e,t){const i=n.Ta.shift(),o=nm.from(i,e,t);await AE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Ud(n)}async function xk(n,e){e&&cs(n).X_&&await(async function(i,o){if((function(c){return ob(c)&&c!==ne.ABORTED})(o.code)){const a=i.Ta.shift();cs(i).B_(),await AE(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Ud(i)}})(n,e),RE(n)&&PE(n)}async function __(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),de(Qs,"RemoteStore received new credentials");const i=lo(t);t.Ea.add(3),await lc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Fd(t)}async function Ck(n,e){const t=De(n);e?(t.Ea.delete(2),await Fd(t)):e||(t.Ea.add(2),await lc(t),t.Ra.set("Unknown"))}function xa(n){return n.ma||(n.ma=(function(t,i,o){const a=De(t);return a.sa(),new uk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:gk.bind(null,n),t_:yk.bind(null,n),r_:vk.bind(null,n),H_:_k.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),hm(n)?dm(n):n.Ra.set("Unknown")):(await n.ma.stop(),CE(n))}))),n.ma}function cs(n){return n.fa||(n.fa=(function(t,i,o){const a=De(t);return a.sa(),new dk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Tk.bind(null,n),r_:xk.bind(null,n),ta:Sk.bind(null,n),na:Ik.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ud(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Qs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new fm(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(n,e){if(li("AsyncQueue",`${e}: ${n}`),Ia(n))return new ve(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static emptySet(e){return new aa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=Pl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new aa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.ga=new lt(Se.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class ya{constructor(e,t,i,o,a,c,h,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new ya(e,t,aa.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Rk{constructor(){this.queries=E_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=De(t),a=o.queries;o.queries=E_(),a.forEach(((c,h)=>{for(const p of h.Sa)p.onError(i)}))})(this,new ve(ne.ABORTED,"Firestore shutting down"))}}function E_(){return new oo((n=>Q0(n)),Dd)}async function Pk(n,e){const t=De(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(i=2):(a=new Ak,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=pm(c,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&mm(t)}async function bk(n,e){const t=De(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function kk(n,e){const t=De(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.Sa)h.Fa(o)&&(i=!0);c.wa=o}}i&&mm(t)}function Nk(n,e,t){const i=De(n),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);i.queries.delete(e)}function mm(n){n.Ca.forEach((e=>{e.next()}))}var wp,T_;(T_=wp||(wp={})).Ma="default",T_.Cache="cache";class Dk{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ya(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class Ok{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=Y0(e),this.tu=new aa(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new w_,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const S=o.get(_),b=Od(this.query,E)?E:null,V=!!S&&this.mutatedKeys.has(S.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let k=!1;S&&b?S.data.isEqual(b.data)?V!==x&&(i.track({type:3,doc:b}),k=!0):this.su(S,b)||(i.track({type:2,doc:b}),k=!0,(p&&this.eu(b,p)>0||m&&this.eu(b,m)<0)&&(h=!0)):!S&&b?(i.track({type:0,doc:b}),k=!0):S&&!b&&(i.track({type:1,doc:S}),k=!0,(p||m)&&(h=!0)),k&&(b?(c=c.add(b),a=x?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(b,V){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:k})}};return x(b)-x(V)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),o=o??!1;const h=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new ya(this.query,e.tu,a,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new kE(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new bE(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gm="SyncEngine";class Vk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Mk{constructor(e){this.key=e,this.hu=!1}}class Lk{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new oo((h=>Q0(h)),Dd),this.Iu=new Map,this.Eu=new Set,this.du=new lt(Se.comparator),this.Au=new Map,this.Ru=new sm,this.Vu={},this.mu=new Map,this.fu=ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jk(n,e,t=!0){const i=LE(n);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await NE(i,e,t,!0),o}async function Fk(n,e){const t=LE(n);await NE(t,e,!0,!1)}async function NE(n,e,t,i){const o=await nk(n.localStore,xr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await Uk(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&IE(n.remoteStore,o),h}async function Uk(n,e,t,i,o){n.pu=(E,S,b)=>(async function(x,k,B,z){let q=k.view.ru(B);q.Cs&&(q=await p_(x.localStore,k.query,!1).then((({documents:A})=>k.view.ru(A,q))));const Y=z&&z.targetChanges.get(k.targetId),Z=z&&z.targetMismatches.get(k.targetId)!=null,ae=k.view.applyChanges(q,x.isPrimaryClient,Y,Z);return I_(x,k.targetId,ae.au),ae.snapshot})(n,E,S,b);const a=await p_(n.localStore,e,!0),c=new Ok(e,a.Qs),h=c.ru(a.documents),p=ac.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(h,n.isPrimaryClient,p);I_(n,t,m.au);const _=new Vk(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function zk(n,e,t){const i=De(n),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((c=>!Dd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&cm(i.remoteStore,o.targetId),Ep(i,o.targetId)})).catch(Sa)):(Ep(i,o.targetId),await vp(i.localStore,o.targetId,!0))}async function Bk(n,e){const t=De(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),cm(t.remoteStore,i.targetId))}async function $k(n,e,t){const i=Yk(n);try{const o=await(function(c,h){const p=De(c),m=rt.now(),_=h.reduce(((b,V)=>b.add(V.key)),ze());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=ci(),x=ze();return p.Ns.getEntries(b,_).next((k=>{V=k,V.forEach(((B,z)=>{z.isValidDocument()||(x=x.add(B))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,V))).next((k=>{E=k;const B=[];for(const z of h){const q=tb(z,E.get(z.key).overlayedDocument);q!=null&&B.push(new ao(z.key,q,B0(q.value.mapValue),si.exists(!0)))}return p.mutationQueue.addMutationBatch(b,m,B,h)})).next((k=>{S=k;const B=k.applyToLocalDocumentSet(E,x);return p.documentOverlayCache.saveOverlays(b,k.batchId,B)}))})).then((()=>({batchId:S.batchId,changes:J0(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new lt(Ue)),m=m.insert(h,p),c.Vu[c.currentUser.toKey()]=m})(i,o.batchId,t),await cc(i,o.changes),await Ud(i.remoteStore)}catch(o){const a=pm(o,"Failed to persist write");t.reject(a)}}async function DE(n,e){const t=De(n);try{const i=await Zb(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Au.get(a);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ke(c.hu,14607):o.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await cc(t,i,e)}catch(i){await Sa(i)}}function S_(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=De(c);p.onlineState=h;let m=!1;p.queries.forEach(((_,E)=>{for(const S of E.Sa)S.va(h)&&(m=!0)})),m&&mm(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Wk(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),a=o&&o.key;if(a){let c=new lt(Se.comparator);c=c.insert(a,Qt.newNoDocument(a,be.min()));const h=ze().add(a),p=new Ld(be.min(),new Map,new lt(Ue),c,h);await DE(i,p),i.du=i.du.remove(a),i.Au.delete(e),ym(i)}else await vp(i.localStore,e,!1).then((()=>Ep(i,e,t))).catch(Sa)}async function Hk(n,e){const t=De(n),i=e.batch.batchId;try{const o=await Jb(t.localStore,e);VE(t,i,null),OE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await cc(t,o)}catch(o){await Sa(o)}}async function qk(n,e,t){const i=De(n);try{const o=await(function(c,h){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return p.mutationQueue.lookupMutationBatch(m,h).next((E=>(Ke(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(m,E)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>p.localDocuments.getDocuments(m,_)))}))})(i.localStore,e);VE(i,e,t),OE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await cc(i,o)}catch(o){await Sa(o)}}function OE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function VE(n,e,t){const i=De(n);let o=i.Vu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Ep(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||ME(n,i)}))}function ME(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(cm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ym(n))}function I_(n,e,t){for(const i of t)i instanceof bE?(n.Ru.addReference(i.key,e),Gk(n,i)):i instanceof kE?(de(gm,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||ME(n,i.key)):Ce(19791,{wu:i})}function Gk(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(gm,"New document in limbo: "+t),n.Eu.add(i),ym(n))}function ym(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(at.fromString(e)),i=n.fu.next();n.Au.set(i,new Mk(t)),n.du=n.du.insert(t,i),IE(n.remoteStore,new Zi(xr(em(t.path)),i,"TargetPurposeLimboResolution",Pd.ce))}}async function cc(n,e,t){const i=De(n),o=[],a=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,p)=>{c.push(i.pu(p,e,t).then((m=>{if((m||t)&&i.isPrimaryClient){const _=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){o.push(m);const _=am.As(p.targetId,m);a.push(_)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,m){const _=De(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>X.forEach(m,(S=>X.forEach(S.Es,(b=>_.persistence.referenceDelegate.addReference(E,S.targetId,b))).next((()=>X.forEach(S.ds,(b=>_.persistence.referenceDelegate.removeReference(E,S.targetId,b)))))))))}catch(E){if(!Ia(E))throw E;de(lm,"Failed to update sequence numbers: "+E)}for(const E of m){const S=E.targetId;if(!E.fromCache){const b=_.Ms.get(S),V=b.snapshotVersion,x=b.withLastLimboFreeSnapshotVersion(V);_.Ms=_.Ms.insert(S,x)}}})(i.localStore,a))}async function Kk(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){de(gm,"User change. New user:",e.toKey());const i=await wE(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((p=>{p.reject(new ve(ne.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cc(t,i.Ls)}}function Qk(n,e){const t=De(n),i=t.Au.get(e);if(i&&i.hu)return ze().add(i.key);{let o=ze();const a=t.Iu.get(e);if(!a)return o;for(const c of a){const h=t.Tu.get(c);o=o.unionWith(h.view.nu)}return o}}function LE(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wk.bind(null,e),e.Pu.H_=kk.bind(null,e.eventManager),e.Pu.yu=Nk.bind(null,e.eventManager),e}function Yk(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qk.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Xb(this.persistence,new Kb,e.initialUser,this.serializer)}Cu(e){return new _E(om.mi,this.serializer)}Du(e){return new ik}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class Xk extends md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof fd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Db(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new _E((i=>fd.mi(i,t)),this.serializer)}}class Tp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>S_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kk.bind(null,this.syncEngine),await Ck(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Rk})()}createDatastore(e){const t=jd(e.databaseInfo.databaseId),i=(function(a){return new ck(a)})(e.databaseInfo);return(function(a,c,h,p){return new fk(a,c,h,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,c,h){return new mk(i,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>S_(this.syncEngine,t,0)),(function(){return y_.v()?new y_:new sk})())}createSyncEngine(e,t){return(function(o,a,c,h,p,m,_){const E=new Lk(o,a,c,h,p,m);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=De(t);de(Qs,"RemoteStore shutting down."),i.Ea.add(5),await lc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class Zk{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{de(us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(de(us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=pm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function jf(n,e){n.asyncQueue.verifyOperationInProgress(),de(us,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await wE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function x_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eN(n);de(us,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>__(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>__(e.remoteStore,o))),n._onlineComponents=e}async function eN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(us,"Using user provided OfflineComponentProvider");try{await jf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ha("Error using user provided cache. Falling back to memory cache: "+t),await jf(n,new md)}}else de(us,"Using default OfflineComponentProvider"),await jf(n,new Xk(void 0));return n._offlineComponents}async function jE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(us,"Using user provided OnlineComponentProvider"),await x_(n,n._uninitializedComponentsProvider._online)):(de(us,"Using default OnlineComponentProvider"),await x_(n,new Tp))),n._onlineComponents}function tN(n){return jE(n).then((e=>e.syncEngine))}async function nN(n){const e=await jE(n),t=e.eventManager;return t.onListen=jk.bind(null,e.syncEngine),t.onUnlisten=zk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Fk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Bk.bind(null,e.syncEngine),t}function rN(n,e,t={}){const i=new rs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,p,m){const _=new Jk({next:S=>{_.Nu(),c.enqueueAndForget((()=>bk(a,E)));const b=S.docs.has(h);!b&&S.fromCache?m.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&S.fromCache&&p&&p.source==="server"?m.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),E=new Dk(em(h.path),_,{includeMetadataChanges:!0,qa:!0});return Pk(a,E)})(await nN(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",A_=!0;class R_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=A_}else this.host=e.host,this.ssl=e.ssl??A_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kb)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new rP;switch(i.type){case"firstParty":return new aP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=C_.get(t);i&&(de("ComponentProvider","Removing Datastore"),C_.delete(t),i.terminate())})(this),Promise.resolve()}}function iN(n,e,t,i={}){n=$l(n,vm);const o=_a(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;o&&(Dw(`https://${h}`),Ow("Firestore",!0)),a.host!==UE&&a.host!==h&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:h,ssl:o,emulatorOptions:i};if(!is(p,c)&&(n._setSettings(p),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=Kt.MOCK_USER;else{m=a1(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Kt(E)}n._authCredentials=new iP(new k0(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _m(this.firestore,e,this._query)}}class Nt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(sc(t,Nt._jsonSchema))return new Nt(e,i||null,new Se(at.fromString(t.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Tt("string",Nt._jsonSchemaVersion),referencePath:Tt("string")};class Yl extends _m{constructor(e,t,i){super(e,t,em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new Se(e))}withConverter(e){return new Yl(this.firestore,e,this._path)}}function zE(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=Gp.newId()),fP("doc","path",e),n instanceof vm){const i=at.fromString(e,...t);return Bv(i),new Nt(n,null,new Se(i))}{if(!(n instanceof Nt||n instanceof Yl))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(at.fromString(e,...t));return Bv(i),new Nt(n.firestore,n instanceof Yl?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class b_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TE(this,"async_queue_retry"),this._c=()=>{const i=Lf();i&&de(P_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Lf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ia(e))throw e;de(P_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",k_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=fm.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function k_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class wm extends vm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new b_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b_(e),this._firestoreClient=void 0,await e}}}function sN(n,e){const t=typeof n=="object"?n:Lp(),i=typeof n=="string"?n:od,o=ro(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=s1("firestore");a&&iN(o,...a)}return o}function BE(n){if(n._terminated)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oN(n),n._firestoreClient}function oN(n){const e=n._freezeSettings(),t=(function(o,a,c,h){return new xP(o,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FE(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Zk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Ut.fromBase64String(e))}catch(t){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sc(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Tt("string",Nn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(sc(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:Tt("string",Ar._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sc(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rr(e.vectorValues);throw new ve(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:Tt("string",Rr._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^__.*__$/;class lN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,t,this.fieldTransforms):new oc(e,this.data,t,this.fieldTransforms)}}function WE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:n})}}class Tm{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WE(this.Ac)&&aN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||jd(e)}Cc(e,t,i,o=!1){return new Tm({Ac:e,methodName:t,Dc:i,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uN(n){const e=n._freezeSettings(),t=jd(n._databaseId);return new cN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dN(n,e,t,i,o,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);KE("Data must be an object, but it was:",c,i);const h=qE(i,c);let p,m;if(a.merge)p=new Qn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const S=hN(e,E,t);if(!c.contains(S))throw new ve(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);pN(_,S)||_.push(S)}p=new Qn(_),m=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,m=c.fieldTransforms;return new lN(new kn(h),p,m)}function HE(n,e){if(GE(n=Ft(n)))return KE("Unsupported field value:",e,n),qE(n,e);if(n instanceof $E)return(function(i,o){if(!WE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const a=[];let c=0;for(const h of i){let p=HE(h,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=Ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=rt.fromDate(i);return{timestampValue:hd(o.serializer,a)}}if(i instanceof rt){const a=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hd(o.serializer,a)}}if(i instanceof Ar)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nn)return{bytesValue:dE(o.serializer,i._byteString)};if(i instanceof Nt){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:im(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Rr)return(function(c,h){return{mapValue:{fields:{[U0]:{stringValue:z0},[ad]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return tm(h.serializer,m)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Kp(i)}`)})(n,e)}function qE(n,e){const t={};return O0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(n,((i,o)=>{const a=HE(o,e.mc(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function GE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof Ar||n instanceof Nn||n instanceof Nt||n instanceof $E||n instanceof Rr)}function KE(n,e,t){if(!GE(t)||!N0(t)){const i=Kp(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function hN(n,e,t){if((e=Ft(e))instanceof Em)return e._internalPath;if(typeof e=="string")return QE(n,e);throw gd("Field path arguments must be of type string or ",n,!1,void 0,t)}const fN=new RegExp("[~\\*/\\[\\]]");function QE(n,e,t){if(e.search(fN)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Em(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gd(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ve(ne.INVALID_ARGUMENT,h+n+p)}function pN(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mN extends YE{data(){return super.data()}}function XE(n,e){return typeof e=="string"?QE(n,e):e instanceof Em?e._internalPath:e._delegate._internalPath}class gN{convertValue(e,t="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return so(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){const t=e.fields?.[ad].arrayValue?.values?.map((i=>gt(i.doubleValue)));return new Rr(t)}convertGeoPoint(e){return new Ar(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const t=os(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=at.fromString(e);Ke(yE(i),9688,{name:e});const o=new ql(i.get(1),i.get(3)),a=new Se(i.popFirst(5));return o.isEqual(t)||li(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends YE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ws._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Tt("string",Ws._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class Gu extends Ws{data(e={}){return super.data(e)}}class Fl{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Gu(this._firestore,this._userDataWriter,i.key,i,new kl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const p=new Gu(o._firestore,o._userDataWriter,h.doc.key,h.doc,new kl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const p=new Gu(o._firestore,o._userDataWriter,h.doc.key,h.doc,new kl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:vN(h.type),doc:p,oldIndex:m,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(n){n=$l(n,Nt);const e=$l(n.firestore,wm);return rN(BE(e),n._key).then((t=>SN(e,n,t)))}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:Tt("string",Fl._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class wN extends gN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function EN(n,e,t){n=$l(n,Nt);const i=$l(n.firestore,wm),o=yN(n.converter,e);return TN(i,[dN(uN(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,si.none())])}function TN(n,e){return(function(i,o){const a=new rs;return i.asyncQueue.enqueueAndForget((async()=>$k(await tN(i),o,a))),a.promise})(BE(n),e)}function SN(n,e,t){const i=t.docs.get(e._key),o=new wN(n);return new Ws(n,o,e._key,i,new kl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ta=o})(wa),br(new Yn("firestore",((i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new wm(new sP(i.getProvider("auth-internal")),new lP(c,i.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(m.options.projectId,_)})(c,o),c);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Dn(jv,Fv,e),Dn(jv,Fv,"esm2020")})();const JE="@firebase/installations",Sm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=1e4,eT=`w:${Sm}`,tT="FIS_v2",IN="https://firebaseinstallations.googleapis.com/v1",xN=3600*1e3,CN="installations",AN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new no(CN,AN,RN);function nT(n){return n instanceof er&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT({projectId:n}){return`${IN}/projects/${n}/installations`}function iT(n){return{token:n.token,requestStatus:2,expiresIn:bN(n.expiresIn),creationTime:Date.now()}}async function sT(n,e){const i=(await e.json()).error;return Ys.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function oT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function PN(n,{refreshToken:e}){const t=oT(n);return t.append("Authorization",kN(e)),t}async function aT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function bN(n){return Number(n.replace("s","000"))}function kN(n){return`${tT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=rT(n),o=oT(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={fid:t,authVersion:tT,appId:n.appId,sdkVersion:eT},h={method:"POST",headers:o,body:JSON.stringify(c)},p=await aT(()=>fetch(i,h));if(p.ok){const m=await p.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:iT(m.authToken)}}else throw await sT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^[cdef][\w-]{21}$/,Sp="";function VN(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=MN(n);return ON.test(t)?t:Sp}catch{return Sp}}function MN(n){return DN(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;function uT(n,e){const t=zd(n);dT(t,e),LN(t,e)}function dT(n,e){const t=cT.get(n);if(t)for(const i of t)i(e)}function LN(n,e){const t=jN();t&&t.postMessage({key:n,fid:e}),FN()}let $s=null;function jN(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=n=>{dT(n.data.key,n.data.fid)}),$s}function FN(){cT.size===0&&$s&&($s.close(),$s=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="firebase-installations-database",zN=1,Xs="firebase-installations-store";let Ff=null;function Im(){return Ff||(Ff=Uw(UN,zN,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Xs)}}})),Ff}async function yd(n,e){const t=zd(n),o=(await Im()).transaction(Xs,"readwrite"),a=o.objectStore(Xs),c=await a.get(t);return await a.put(e,t),await o.done,(!c||c.fid!==e.fid)&&uT(n,e.fid),e}async function hT(n){const e=zd(n),i=(await Im()).transaction(Xs,"readwrite");await i.objectStore(Xs).delete(e),await i.done}async function Bd(n,e){const t=zd(n),o=(await Im()).transaction(Xs,"readwrite"),a=o.objectStore(Xs),c=await a.get(t),h=e(c);return h===void 0?await a.delete(t):await a.put(h,t),await o.done,h&&(!c||c.fid!==h.fid)&&uT(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(n){let e;const t=await Bd(n.appConfig,i=>{const o=BN(i),a=$N(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Sp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function BN(n){const e=n||{fid:VN(),registrationStatus:0};return fT(e)}function $N(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ys.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=WN(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HN(n)}:{installationEntry:e}}async function WN(n,e){try{const t=await NN(n,e);return yd(n.appConfig,t)}catch(t){throw nT(t)&&t.customData.serverCode===409?await hT(n.appConfig):await yd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function HN(n){let e=await N_(n.appConfig);for(;e.registrationStatus===1;)await lT(100),e=await N_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await xm(n);return i||t}return e}function N_(n){return Bd(n,e=>{if(!e)throw Ys.create("installation-not-found");return fT(e)})}function fT(n){return qN(n)?{fid:n.fid,registrationStatus:0}:n}function qN(n){return n.registrationStatus===1&&n.registrationTime+ZE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN({appConfig:n,heartbeatServiceProvider:e},t){const i=KN(n,t),o=PN(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={installation:{sdkVersion:eT,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(c)},p=await aT(()=>fetch(i,h));if(p.ok){const m=await p.json();return iT(m)}else throw await sT("Generate Auth Token",p)}function KN(n,{fid:e}){return`${rT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(n,e=!1){let t;const i=await Bd(n.appConfig,a=>{if(!pT(a))throw Ys.create("not-registered");const c=a.authToken;if(!e&&XN(c))return a;if(c.requestStatus===1)return t=QN(n,e),a;{if(!navigator.onLine)throw Ys.create("app-offline");const h=ZN(a);return t=YN(n,h),h}});return t?await t:i.authToken}async function QN(n,e){let t=await D_(n.appConfig);for(;t.authToken.requestStatus===1;)await lT(100),t=await D_(n.appConfig);const i=t.authToken;return i.requestStatus===0?Cm(n,e):i}function D_(n){return Bd(n,e=>{if(!pT(e))throw Ys.create("not-registered");const t=e.authToken;return e2(t)?{...e,authToken:{requestStatus:0}}:e})}async function YN(n,e){try{const t=await GN(n,e),i={...e,authToken:t};return await yd(n.appConfig,i),t}catch(t){if(nT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await hT(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await yd(n.appConfig,i)}throw t}}function pT(n){return n!==void 0&&n.registrationStatus===2}function XN(n){return n.requestStatus===2&&!JN(n)}function JN(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+xN}function ZN(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function e2(n){return n.requestStatus===1&&n.requestTime+ZE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(n){const e=n,{installationEntry:t,registrationPromise:i}=await xm(e);return i?i.catch(console.error):Cm(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(n,e=!1){const t=n;return await r2(t),(await Cm(t,e)).token}async function r2(n){const{registrationPromise:e}=await xm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){if(!n||!n.options)throw Uf("App Configuration");if(!n.name)throw Uf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Uf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Uf(n){return Ys.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="installations",s2="installations-internal",o2=n=>{const e=n.getProvider("app").getImmediate(),t=i2(e),i=ro(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},a2=n=>{const e=n.getProvider("app").getImmediate(),t=ro(e,mT).getImmediate();return{getId:()=>t2(t),getToken:o=>n2(t,o)}};function l2(){br(new Yn(mT,o2,"PUBLIC")),br(new Yn(s2,a2,"PRIVATE"))}l2();Dn(JE,Sm);Dn(JE,Sm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="analytics",c2="firebase_id",u2="origin",d2=60*1e3,h2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Am="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new xd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new no("analytics","Analytics",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n){if(!n.startsWith(Am)){const e=wn.create("invalid-gtag-resource",{gtagURL:n});return ln.warn(e.message),""}return n}function gT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function m2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function g2(n,e){const t=m2("firebase-js-sdk-policy",{createScriptURL:p2}),i=document.createElement("script"),o=`${Am}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function y2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function v2(n,e,t,i,o,a){const c=i[o];try{if(c)await e[c];else{const p=(await gT(t)).find(m=>m.measurementId===o);p&&await e[p.appId]}}catch(h){ln.error(h)}n("config",o,a)}async function _2(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const h=await gT(t);for(const p of c){const m=h.find(E=>E.measurementId===p),_=m&&e[m.appId];if(_)a.push(_);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){ln.error(a)}}function w2(n,e,t,i){async function o(a,...c){try{if(a==="event"){const[h,p]=c;await _2(n,e,t,h,p)}else if(a==="config"){const[h,p]=c;await v2(n,e,t,i,h,p)}else if(a==="consent"){const[h,p]=c;n("consent",h,p)}else if(a==="get"){const[h,p,m]=c;n("get",h,p,m)}else if(a==="set"){const[h]=c;n("set",h)}else n(a,...c)}catch(h){ln.error(h)}}return o}function E2(n,e,t,i,o){let a=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=w2(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function T2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Am)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=30,I2=1e3;class x2{constructor(e={},t=I2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yT=new x2;function C2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function A2(n){const{appId:e,apiKey:t}=n,i={method:"GET",headers:C2(t)},o=h2.replace("{app-id}",e),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let c="";try{const h=await a.json();h.error?.message&&(c=h.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function R2(n,e=yT,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw wn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw wn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new k2;return setTimeout(async()=>{h.abort()},d2),vT({appId:i,apiKey:o,measurementId:a},c,h,e)}async function vT(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=yT){const{appId:a,measurementId:c}=n;try{await P2(i,e)}catch(h){if(c)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:c};throw h}try{const h=await A2(n);return o.deleteThrottleMetadata(a),h}catch(h){const p=h;if(!b2(p)){if(o.deleteThrottleMetadata(a),c)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:a,measurementId:c};throw h}const m=Number(p?.customData?.httpStatus)===503?cv(t,o.intervalMillis,S2):cv(t,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return o.setThrottleMetadata(a,_),ln.debug(`Calling attemptFetch again in ${m} millis`),vT(n,_,i,o)}}function P2(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function b2(n){if(!(n instanceof er)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class k2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function N2(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,c={...i,send_to:a};n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(){if(Mw())try{await Lw()}catch(n){return ln.warn(wn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return ln.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function O2(n,e,t,i,o,a,c){const h=R2(n);h.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>ln.error(S)),e.push(h);const p=D2().then(S=>{if(S)return i.getId()}),[m,_]=await Promise.all([h,p]);T2(a)||g2(a,m.measurementId),o("js",new Date);const E=c?.config??{};return E[u2]="firebase",E.update=!0,_!=null&&(E[c2]=_),o("config",m.measurementId,E),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},O_=[];const V_={};let zf="dataLayer",M2="gtag",M_,_T,L_=!1;function L2(){const n=[];if(Vw()&&n.push("This is a browser extension environment."),g1()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=wn.create("invalid-analytics-context",{errorInfo:e});ln.warn(t.message)}}function j2(n,e,t){L2();const i=n.options.appId;if(!i)throw wn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Ul[i]!=null)throw wn.create("already-exists",{id:i});if(!L_){y2(zf);const{wrappedGtag:a,gtagCore:c}=E2(Ul,O_,V_,zf,M2);_T=a,M_=c,L_=!0}return Ul[i]=O2(n,O_,V_,e,M_,zf,t),new V2(n)}function F2(n=Lp()){n=Ft(n);const e=ro(n,vd);return e.isInitialized()?e.getImmediate():U2(n)}function U2(n,e={}){const t=ro(n,vd);if(t.isInitialized()){const o=t.getImmediate();if(is(e,t.getOptions()))return o;throw wn.create("already-initialized")}return t.initialize({options:e})}function z2(n,e,t,i){n=Ft(n),N2(_T,Ul[n.app.options.appId],e,t,i).catch(o=>ln.error(o))}const j_="@firebase/analytics",F_="0.10.18";function B2(){br(new Yn(vd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return j2(i,o,t)},"PUBLIC")),br(new Yn("analytics-internal",n,"PRIVATE")),Dn(j_,F_),Dn(j_,F_,"esm2020");function n(e){try{const t=e.getProvider(vd).getImmediate();return{logEvent:(i,o,a)=>z2(t,i,o,a)}}catch(t){throw wn.create("interop-component-reg-failed",{reason:t})}}}B2();const $2={apiKey:"AIzaSyBXQ_4m20pfx0ASdbQ1llCFkC51AF0ZB6A",authDomain:"spark-d.firebaseapp.com",projectId:"spark-d",storageBucket:"spark-d.firebasestorage.app",messagingSenderId:"577293031414",appId:"1:577293031414:web:053c2bf775489b1c84d9d7",measurementId:"G-QCEYJP63ZS"},Rm=zw($2),$d=ZR(Rm),wT=sN(Rm);typeof window<"u"&&F2(Rm);const W2=async(n,e,t)=>{try{if(!n.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");const i=await OA($d,n,e),o=i.user;await jA(o,{displayName:`${t.firstName} ${t.lastName}`}),await MA(o);const a={uid:o.uid,email:o.email,...t,createdAt:new Date,updatedAt:new Date,isVerified:!1};return await EN(zE(wT,"users",o.uid),a),i}catch(i){throw console.error("Sign up error:",i),new Error(ET(i.code))}},H2=async(n,e)=>{try{return await VA($d,n,e)}catch(t){throw console.error("Sign in error:",t),new Error(ET(t.code))}},q2=async()=>{try{await BA($d)}catch(n){throw console.error("Sign out error:",n),new Error("Failed to sign out")}},G2=async n=>{try{const e=await _N(zE(wT,"users",n));return e.exists()?e.data():null}catch(e){throw console.error("Get user profile error:",e),new Error("Failed to get user profile")}},ET=n=>{switch(n){case"auth/email-already-in-use":return"An account with this email already exists";case"auth/invalid-email":return"Invalid email address";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many failed attempts. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";default:return"An error occurred. Please try again"}},TT=D.createContext({user:null,userProfile:null,loading:!0}),K2=()=>{const n=D.useContext(TT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Q2=({children:n})=>{const[e,t]=D.useState(null),[i,o]=D.useState(null),[a,c]=D.useState(!0);return D.useEffect(()=>{const h=zA($d,async p=>{if(t(p),p)try{const m=await G2(p.uid);o(m)}catch(m){console.error("Error fetching user profile:",m),o(null)}else o(null);c(!1)});return()=>h()},[]),w.jsx(TT.Provider,{value:{user:e,userProfile:i,loading:a},children:n})};function U_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ST(...n){return e=>{let t=!1;const i=n.map(o=>{const a=U_(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():U_(n[o],null)}}}}function zt(...n){return D.useCallback(ST(...n),n)}function Xl(n){const e=X2(n),t=D.forwardRef((i,o)=>{const{children:a,...c}=i,h=D.Children.toArray(a),p=h.find(Z2);if(p){const m=p.props.children,_=h.map(E=>E===p?D.Children.count(m)>1?D.Children.only(null):D.isValidElement(m)?m.props.children:null:E);return w.jsx(e,{...c,ref:o,children:D.isValidElement(m)?D.cloneElement(m,void 0,_):null})}return w.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var Y2=Xl("Slot");function X2(n){const e=D.forwardRef((t,i)=>{const{children:o,...a}=t;if(D.isValidElement(o)){const c=tD(o),h=eD(a,o.props);return o.type!==D.Fragment&&(h.ref=i?ST(i,c):c),D.cloneElement(o,h)}return D.Children.count(o)>1?D.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var J2=Symbol("radix.slottable");function Z2(n){return D.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===J2}function eD(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const p=a(...h);return o(...h),p}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function tD(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function IT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=IT(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function xT(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=IT(n))&&(i&&(i+=" "),i+=e);return i}const z_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,B_=xT,CT=(n,e)=>t=>{var i;if(e?.variants==null)return B_(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(m=>{const _=t?.[m],E=a?.[m];if(_===null)return null;const S=z_(_)||z_(E);return o[m][S]}),h=t&&Object.entries(t).reduce((m,_)=>{let[E,S]=_;return S===void 0||(m[E]=S),m},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,_)=>{let{class:E,className:S,...b}=_;return Object.entries(b).every(V=>{let[x,k]=V;return Array.isArray(k)?k.includes({...a,...h}[x]):{...a,...h}[x]===k})?[...m,E,S]:m},[]);return B_(n,c,p,t?.class,t?.className)},Pm="-",nD=n=>{const e=iD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const h=c.split(Pm);return h[0]===""&&h.length!==1&&h.shift(),AT(h,e)||rD(c)},getConflictingClassGroupIds:(c,h)=>{const p=t[c]||[];return h&&i[c]?[...p,...i[c]]:p}}},AT=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?AT(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(Pm);return e.validators.find(({validator:c})=>c(a))?.classGroupId},$_=/^\[(.+)\]$/,rD=n=>{if($_.test(n)){const e=$_.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},iD=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return oD(Object.entries(n.classGroups),t).forEach(([a,c])=>{Ip(c,i,a,e)}),i},Ip=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:W_(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(sD(o)){Ip(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,c])=>{Ip(c,W_(e,a),t,i)})})},W_=(n,e)=>{let t=n;return e.split(Pm).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},sD=n=>n.isThemeGetter,oD=(n,e)=>e?n.map(([t,i])=>{const o=i.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,h])=>[e+c,h])):a);return[t,o]}):n,aD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=i.get(a))!==void 0)return o(a,c),c},set(a,c){t.has(a)?t.set(a,c):o(a,c)}}},RT="!",lD=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,o=e[0],a=e.length,c=h=>{const p=[];let m=0,_=0,E;for(let k=0;k<h.length;k++){let B=h[k];if(m===0){if(B===o&&(i||h.slice(k,k+a)===e)){p.push(h.slice(_,k)),_=k+a;continue}if(B==="/"){E=k;continue}}B==="["?m++:B==="]"&&m--}const S=p.length===0?h:h.substring(_),b=S.startsWith(RT),V=b?S.substring(1):S,x=E&&E>_?E-_:void 0;return{modifiers:p,hasImportantModifier:b,baseClassName:V,maybePostfixModifierPosition:x}};return t?h=>t({className:h,parseClassName:c}):c},cD=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},uD=n=>({cache:aD(n.cacheSize),parseClassName:lD(n),...nD(n)}),dD=/\s+/,hD=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o}=e,a=[],c=n.trim().split(dD);let h="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{modifiers:_,hasImportantModifier:E,baseClassName:S,maybePostfixModifierPosition:b}=t(m);let V=!!b,x=i(V?S.substring(0,b):S);if(!x){if(!V){h=m+(h.length>0?" "+h:h);continue}if(x=i(S),!x){h=m+(h.length>0?" "+h:h);continue}V=!1}const k=cD(_).join(":"),B=E?k+RT:k,z=B+x;if(a.includes(z))continue;a.push(z);const q=o(x,V);for(let Y=0;Y<q.length;++Y){const Z=q[Y];a.push(B+Z)}h=m+(h.length>0?" "+h:h)}return h};function fD(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=PT(e))&&(i&&(i+=" "),i+=t);return i}const PT=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=PT(n[i]))&&(t&&(t+=" "),t+=e);return t};function pD(n,...e){let t,i,o,a=c;function c(p){const m=e.reduce((_,E)=>E(_),n());return t=uD(m),i=t.cache.get,o=t.cache.set,a=h,h(p)}function h(p){const m=i(p);if(m)return m;const _=hD(p,t);return o(p,_),_}return function(){return a(fD.apply(null,arguments))}}const nt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},bT=/^\[(?:([a-z-]+):)?(.+)\]$/i,mD=/^\d+\/\d+$/,gD=new Set(["px","full","screen"]),yD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_D=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ED=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=n=>la(n)||gD.has(n)||mD.test(n),Wi=n=>Ca(n,"length",PD),la=n=>!!n&&!Number.isNaN(Number(n)),Bf=n=>Ca(n,"number",la),Il=n=>!!n&&Number.isInteger(Number(n)),TD=n=>n.endsWith("%")&&la(n.slice(0,-1)),Le=n=>bT.test(n),Hi=n=>yD.test(n),SD=new Set(["length","size","percentage"]),ID=n=>Ca(n,SD,kT),xD=n=>Ca(n,"position",kT),CD=new Set(["image","url"]),AD=n=>Ca(n,CD,kD),RD=n=>Ca(n,"",bD),xl=()=>!0,Ca=(n,e,t)=>{const i=bT.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},PD=n=>vD.test(n)&&!_D.test(n),kT=()=>!1,bD=n=>wD.test(n),kD=n=>ED.test(n),ND=()=>{const n=nt("colors"),e=nt("spacing"),t=nt("blur"),i=nt("brightness"),o=nt("borderColor"),a=nt("borderRadius"),c=nt("borderSpacing"),h=nt("borderWidth"),p=nt("contrast"),m=nt("grayscale"),_=nt("hueRotate"),E=nt("invert"),S=nt("gap"),b=nt("gradientColorStops"),V=nt("gradientColorStopPositions"),x=nt("inset"),k=nt("margin"),B=nt("opacity"),z=nt("padding"),q=nt("saturate"),Y=nt("scale"),Z=nt("sepia"),ae=nt("skew"),A=nt("space"),C=nt("translate"),P=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Le,e],L=()=>[Le,e],R=()=>["",ti,Wi],pe=()=>["auto",la,Le],Pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",Le],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[la,Le];return{cacheSize:500,separator:":",theme:{colors:[xl],spacing:[ti,Wi],blur:["none","",Hi,Le],brightness:U(),borderColor:[n],borderRadius:["none","","full",Hi,Le],borderSpacing:L(),borderWidth:R(),contrast:U(),grayscale:se(),hueRotate:U(),invert:se(),gap:L(),gradientColorStops:[n],gradientColorStopPositions:[TD,Wi],inset:O(),margin:O(),opacity:U(),padding:L(),saturate:U(),scale:U(),sepia:se(),skew:U(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Hi]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Pe(),Le]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Il,Le]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",Il,Le]}],"grid-cols":[{"grid-cols":[xl]}],"col-start-end":[{col:["auto",{span:["full",Il,Le]},Le]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[xl]}],"row-start-end":[{row:["auto",{span:[Il,Le]},Le]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[Hi]},Hi]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hi,Wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bf]}],"font-family":[{font:[xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",la,Bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[B]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[B]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Wi]}],"underline-offset":[{"underline-offset":["auto",ti,Le]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[B]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Pe(),xD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ID]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AD]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[V]}],"gradient-via-pos":[{via:[V]}],"gradient-to-pos":[{to:[V]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[B]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[B]}],"divide-style":[{divide:_e()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[ti,Le]}],"outline-w":[{outline:[ti,Wi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[B]}],"ring-offset-w":[{"ring-offset":[ti,Wi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Hi,RD]}],"shadow-color":[{shadow:[xl]}],opacity:[{opacity:[B]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Hi,Le]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[E]}],saturate:[{saturate:[q]}],sepia:[{sepia:[Z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[E]}],"backdrop-opacity":[{"backdrop-opacity":[B]}],"backdrop-saturate":[{"backdrop-saturate":[q]}],"backdrop-sepia":[{"backdrop-sepia":[Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Y]}],"scale-x":[{"scale-x":[Y]}],"scale-y":[{"scale-y":[Y]}],rotate:[{rotate:[Il,Le]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[ae]}],"skew-y":[{"skew-y":[ae]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ti,Wi,Bf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DD=pD(ND);function On(...n){return DD(xT(n))}const OD=CT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Hs({className:n,variant:e,size:t,asChild:i=!1,...o}){const a=i?Y2:"button";return w.jsx(a,{"data-slot":"button",className:On(OD({variant:e,size:t,className:n})),...o})}function Ki({className:n,type:e,...t}){return w.jsx("input",{type:e,"data-slot":"input",className:On("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var uc=Ew();const VD=ww(uc);var MD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=MD.reduce((n,e)=>{const t=Xl(`Primitive.${e}`),i=D.forwardRef((o,a)=>{const{asChild:c,...h}=o,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(p,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function LD(n,e){n&&uc.flushSync(()=>n.dispatchEvent(e))}var jD="Label",NT=D.forwardRef((n,e)=>w.jsx(dt.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));NT.displayName=jD;var FD=NT;function qn({className:n,...e}){return w.jsx(FD,{"data-slot":"label",className:On("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const UD=CT("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function DT({className:n,variant:e,...t}){return w.jsx("div",{"data-slot":"alert",role:"alert",className:On(UD({variant:e}),n),...t})}function OT({className:n,...e}){return w.jsx("div",{"data-slot":"alert-description",className:On("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function zD({onToggleMode:n}){const[e,t]=D.useState({email:"",password:""}),[i,o]=D.useState(!1),[a,c]=D.useState(""),h=(m,_)=>{t(E=>({...E,[m]:_}))},p=async m=>{m.preventDefault(),c(""),o(!0);try{if(!e.email||!e.password)throw new Error("Please fill in all fields");if(!e.email.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");await H2(e.email,e.password)}catch(_){c(_.message||"An error occurred during sign in")}finally{o(!1)}};return w.jsxs("div",{className:"w-full max-w-md mx-auto",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-white text-2xl mb-2",children:"Welcome Back!"}),w.jsx("p",{className:"text-gray-400",children:"Sign in to your Spark'd account"})]}),w.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a&&w.jsx(DT,{className:"bg-red-900/20 border-red-700/30",children:w.jsx(OT,{className:"text-red-200",children:a})}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"email",className:"text-white",children:"ASU Email"}),w.jsx(Ki,{id:"email",type:"email",value:e.email,onChange:m=>h("email",m.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"yourname@asu.edu",required:!0})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"password",className:"text-white",children:"Password"}),w.jsx(Ki,{id:"password",type:"password",value:e.password,onChange:m=>h("password",m.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter your password",required:!0})]}),w.jsx(Hs,{type:"submit",className:"w-full bg-yellow-600 hover:bg-yellow-700 text-black",disabled:i,children:i?"Signing In...":"Sign In"}),w.jsx("div",{className:"text-center",children:w.jsxs("p",{className:"text-gray-500 text-sm",children:["Don't have an account?"," ",w.jsx(Hs,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:n,children:"Sign Up"})]})})]})]})}function H_(n,[e,t]){return Math.min(t,Math.max(e,n))}function Et(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function bm(n,e=[]){let t=[];function i(a,c){const h=D.createContext(c),p=t.length;t=[...t,c];const m=E=>{const{scope:S,children:b,...V}=E,x=S?.[n]?.[p]||h,k=D.useMemo(()=>V,Object.values(V));return w.jsx(x.Provider,{value:k,children:b})};m.displayName=a+"Provider";function _(E,S){const b=S?.[n]?.[p]||h,V=D.useContext(b);if(V)return V;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${a}\``)}return[m,_]}const o=()=>{const a=t.map(c=>D.createContext(c));return function(h){const p=h?.[n]||a;return D.useMemo(()=>({[`__scope${n}`]:{...h,[n]:p}}),[h,p])}};return o.scopeName=n,[i,BD(o,...e)]}function BD(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:p,scopeName:m})=>{const E=p(a)[`__scope${m}`];return{...h,...E}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function $D(n){const e=n+"CollectionProvider",[t,i]=bm(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=x=>{const{scope:k,children:B}=x,z=qi.useRef(null),q=qi.useRef(new Map).current;return w.jsx(o,{scope:k,itemMap:q,collectionRef:z,children:B})};c.displayName=e;const h=n+"CollectionSlot",p=Xl(h),m=qi.forwardRef((x,k)=>{const{scope:B,children:z}=x,q=a(h,B),Y=zt(k,q.collectionRef);return w.jsx(p,{ref:Y,children:z})});m.displayName=h;const _=n+"CollectionItemSlot",E="data-radix-collection-item",S=Xl(_),b=qi.forwardRef((x,k)=>{const{scope:B,children:z,...q}=x,Y=qi.useRef(null),Z=zt(k,Y),ae=a(_,B);return qi.useEffect(()=>(ae.itemMap.set(Y,{ref:Y,...q}),()=>void ae.itemMap.delete(Y))),w.jsx(S,{[E]:"",ref:Z,children:z})});b.displayName=_;function V(x){const k=a(n+"CollectionConsumer",x);return qi.useCallback(()=>{const z=k.collectionRef.current;if(!z)return[];const q=Array.from(z.querySelectorAll(`[${E}]`));return Array.from(k.itemMap.values()).sort((ae,A)=>q.indexOf(ae.ref.current)-q.indexOf(A.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:c,Slot:m,ItemSlot:b},V,i]}var WD=D.createContext(void 0);function HD(n){const e=D.useContext(WD);return n||e||"ltr"}function Js(n){const e=D.useRef(n);return D.useEffect(()=>{e.current=n}),D.useMemo(()=>(...t)=>e.current?.(...t),[])}function qD(n,e=globalThis?.document){const t=Js(n);D.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var GD="DismissableLayer",xp="dismissableLayer.update",KD="dismissableLayer.pointerDownOutside",QD="dismissableLayer.focusOutside",q_,VT=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),MT=D.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...p}=n,m=D.useContext(VT),[_,E]=D.useState(null),S=_?.ownerDocument??globalThis?.document,[,b]=D.useState({}),V=zt(e,A=>E(A)),x=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),B=x.indexOf(k),z=_?x.indexOf(_):-1,q=m.layersWithOutsidePointerEventsDisabled.size>0,Y=z>=B,Z=JD(A=>{const C=A.target,P=[...m.branches].some(M=>M.contains(C));!Y||P||(o?.(A),c?.(A),A.defaultPrevented||h?.())},S),ae=ZD(A=>{const C=A.target;[...m.branches].some(M=>M.contains(C))||(a?.(A),c?.(A),A.defaultPrevented||h?.())},S);return qD(A=>{z===m.layers.size-1&&(i?.(A),!A.defaultPrevented&&h&&(A.preventDefault(),h()))},S),D.useEffect(()=>{if(_)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(q_=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(_)),m.layers.add(_),G_(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=q_)}},[_,S,t,m]),D.useEffect(()=>()=>{_&&(m.layers.delete(_),m.layersWithOutsidePointerEventsDisabled.delete(_),G_())},[_,m]),D.useEffect(()=>{const A=()=>b({});return document.addEventListener(xp,A),()=>document.removeEventListener(xp,A)},[]),w.jsx(dt.div,{...p,ref:V,style:{pointerEvents:q?Y?"auto":"none":void 0,...n.style},onFocusCapture:Et(n.onFocusCapture,ae.onFocusCapture),onBlurCapture:Et(n.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:Et(n.onPointerDownCapture,Z.onPointerDownCapture)})});MT.displayName=GD;var YD="DismissableLayerBranch",XD=D.forwardRef((n,e)=>{const t=D.useContext(VT),i=D.useRef(null),o=zt(e,i);return D.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),w.jsx(dt.div,{...n,ref:o})});XD.displayName=YD;function JD(n,e=globalThis?.document){const t=Js(n),i=D.useRef(!1),o=D.useRef(()=>{});return D.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let p=function(){LT(KD,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function ZD(n,e=globalThis?.document){const t=Js(n),i=D.useRef(!1);return D.useEffect(()=>{const o=a=>{a.target&&!i.current&&LT(QD,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function G_(){const n=new CustomEvent(xp);document.dispatchEvent(n)}function LT(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?LD(o,a):o.dispatchEvent(a)}var $f=0;function eO(){D.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??K_()),document.body.insertAdjacentElement("beforeend",n[1]??K_()),$f++,()=>{$f===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$f--}},[])}function K_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Wf="focusScope.autoFocusOnMount",Hf="focusScope.autoFocusOnUnmount",Q_={bubbles:!1,cancelable:!0},tO="FocusScope",jT=D.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,p]=D.useState(null),m=Js(o),_=Js(a),E=D.useRef(null),S=zt(e,x=>p(x)),b=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(i){let x=function(q){if(b.paused||!h)return;const Y=q.target;h.contains(Y)?E.current=Y:Gi(E.current,{select:!0})},k=function(q){if(b.paused||!h)return;const Y=q.relatedTarget;Y!==null&&(h.contains(Y)||Gi(E.current,{select:!0}))},B=function(q){if(document.activeElement===document.body)for(const Z of q)Z.removedNodes.length>0&&Gi(h)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const z=new MutationObserver(B);return h&&z.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),z.disconnect()}}},[i,h,b.paused]),D.useEffect(()=>{if(h){X_.add(b);const x=document.activeElement;if(!h.contains(x)){const B=new CustomEvent(Wf,Q_);h.addEventListener(Wf,m),h.dispatchEvent(B),B.defaultPrevented||(nO(aO(FT(h)),{select:!0}),document.activeElement===x&&Gi(h))}return()=>{h.removeEventListener(Wf,m),setTimeout(()=>{const B=new CustomEvent(Hf,Q_);h.addEventListener(Hf,_),h.dispatchEvent(B),B.defaultPrevented||Gi(x??document.body,{select:!0}),h.removeEventListener(Hf,_),X_.remove(b)},0)}}},[h,m,_,b]);const V=D.useCallback(x=>{if(!t&&!i||b.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,B=document.activeElement;if(k&&B){const z=x.currentTarget,[q,Y]=rO(z);q&&Y?!x.shiftKey&&B===Y?(x.preventDefault(),t&&Gi(q,{select:!0})):x.shiftKey&&B===q&&(x.preventDefault(),t&&Gi(Y,{select:!0})):B===z&&x.preventDefault()}},[t,i,b.paused]);return w.jsx(dt.div,{tabIndex:-1,...c,ref:S,onKeyDown:V})});jT.displayName=tO;function nO(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Gi(i,{select:e}),document.activeElement!==t)return}function rO(n){const e=FT(n),t=Y_(e,n),i=Y_(e.reverse(),n);return[t,i]}function FT(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Y_(n,e){for(const t of n)if(!iO(t,{upTo:e}))return t}function iO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function sO(n){return n instanceof HTMLInputElement&&"select"in n}function Gi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&sO(n)&&e&&n.select()}}var X_=oO();function oO(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=J_(n,e),n.unshift(e)},remove(e){n=J_(n,e),n[0]?.resume()}}}function J_(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function aO(n){return n.filter(e=>e.tagName!=="A")}var cn=globalThis?.document?D.useLayoutEffect:()=>{},lO=Tw[" useId ".trim().toString()]||(()=>{}),cO=0;function km(n){const[e,t]=D.useState(lO());return cn(()=>{t(i=>i??String(cO++))},[n]),n||(e?`radix-${e}`:"")}const uO=["top","right","bottom","left"],ds=Math.min,_n=Math.max,_d=Math.round,Du=Math.floor,Pr=n=>({x:n,y:n}),dO={left:"right",right:"left",bottom:"top",top:"bottom"},hO={start:"end",end:"start"};function Cp(n,e,t){return _n(n,ds(e,t))}function ui(n,e){return typeof n=="function"?n(e):n}function di(n){return n.split("-")[0]}function Aa(n){return n.split("-")[1]}function Nm(n){return n==="x"?"y":"x"}function Dm(n){return n==="y"?"height":"width"}const fO=new Set(["top","bottom"]);function Tr(n){return fO.has(di(n))?"y":"x"}function Om(n){return Nm(Tr(n))}function pO(n,e,t){t===void 0&&(t=!1);const i=Aa(n),o=Om(n),a=Dm(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=wd(c)),[c,wd(c)]}function mO(n){const e=wd(n);return[Ap(n),e,Ap(e)]}function Ap(n){return n.replace(/start|end/g,e=>hO[e])}const Z_=["left","right"],ew=["right","left"],gO=["top","bottom"],yO=["bottom","top"];function vO(n,e,t){switch(n){case"top":case"bottom":return t?e?ew:Z_:e?Z_:ew;case"left":case"right":return e?gO:yO;default:return[]}}function _O(n,e,t,i){const o=Aa(n);let a=vO(di(n),t==="start",i);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Ap)))),a}function wd(n){return n.replace(/left|right|bottom|top/g,e=>dO[e])}function wO(n){return{top:0,right:0,bottom:0,left:0,...n}}function UT(n){return typeof n!="number"?wO(n):{top:n,right:n,bottom:n,left:n}}function Ed(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function tw(n,e,t){let{reference:i,floating:o}=n;const a=Tr(e),c=Om(e),h=Dm(c),p=di(e),m=a==="y",_=i.x+i.width/2-o.width/2,E=i.y+i.height/2-o.height/2,S=i[h]/2-o[h]/2;let b;switch(p){case"top":b={x:_,y:i.y-o.height};break;case"bottom":b={x:_,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:E};break;case"left":b={x:i.x-o.width,y:E};break;default:b={x:i.x,y:i.y}}switch(Aa(e)){case"start":b[c]-=S*(t&&m?-1:1);break;case"end":b[c]+=S*(t&&m?-1:1);break}return b}const EO=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:_,y:E}=tw(m,i,p),S=i,b={},V=0;for(let x=0;x<h.length;x++){const{name:k,fn:B}=h[x],{x:z,y:q,data:Y,reset:Z}=await B({x:_,y:E,initialPlacement:i,placement:S,strategy:o,middlewareData:b,rects:m,platform:c,elements:{reference:n,floating:e}});_=z??_,E=q??E,b={...b,[k]:{...b[k],...Y}},Z&&V<=50&&(V++,typeof Z=="object"&&(Z.placement&&(S=Z.placement),Z.rects&&(m=Z.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):Z.rects),{x:_,y:E}=tw(m,S,p)),x=-1)}return{x:_,y:E,placement:S,strategy:o,middlewareData:b}};async function Jl(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:c,elements:h,strategy:p}=n,{boundary:m="clippingAncestors",rootBoundary:_="viewport",elementContext:E="floating",altBoundary:S=!1,padding:b=0}=ui(e,n),V=UT(b),k=h[S?E==="floating"?"reference":"floating":E],B=Ed(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(k)))==null||t?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:_,strategy:p})),z=E==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),Y=await(a.isElement==null?void 0:a.isElement(q))?await(a.getScale==null?void 0:a.getScale(q))||{x:1,y:1}:{x:1,y:1},Z=Ed(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:z,offsetParent:q,strategy:p}):z);return{top:(B.top-Z.top+V.top)/Y.y,bottom:(Z.bottom-B.bottom+V.bottom)/Y.y,left:(B.left-Z.left+V.left)/Y.x,right:(Z.right-B.right+V.right)/Y.x}}const TO=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:a,platform:c,elements:h,middlewareData:p}=e,{element:m,padding:_=0}=ui(n,e)||{};if(m==null)return{};const E=UT(_),S={x:t,y:i},b=Om(o),V=Dm(b),x=await c.getDimensions(m),k=b==="y",B=k?"top":"left",z=k?"bottom":"right",q=k?"clientHeight":"clientWidth",Y=a.reference[V]+a.reference[b]-S[b]-a.floating[V],Z=S[b]-a.reference[b],ae=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let A=ae?ae[q]:0;(!A||!await(c.isElement==null?void 0:c.isElement(ae)))&&(A=h.floating[q]||a.floating[V]);const C=Y/2-Z/2,P=A/2-x[V]/2-1,M=ds(E[B],P),O=ds(E[z],P),L=M,R=A-x[V]-O,pe=A/2-x[V]/2+C,Pe=Cp(L,pe,R),_e=!p.arrow&&Aa(o)!=null&&pe!==Pe&&a.reference[V]/2-(pe<L?M:O)-x[V]/2<0,ye=_e?pe<L?pe-L:pe-R:0;return{[b]:S[b]+ye,data:{[b]:Pe,centerOffset:pe-Pe-ye,..._e&&{alignmentOffset:ye}},reset:_e}}}),SO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:p,elements:m}=e,{mainAxis:_=!0,crossAxis:E=!0,fallbackPlacements:S,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:V="none",flipAlignment:x=!0,...k}=ui(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const B=di(o),z=Tr(h),q=di(h)===h,Y=await(p.isRTL==null?void 0:p.isRTL(m.floating)),Z=S||(q||!x?[wd(h)]:mO(h)),ae=V!=="none";!S&&ae&&Z.push(..._O(h,x,V,Y));const A=[h,...Z],C=await Jl(e,k),P=[];let M=((i=a.flip)==null?void 0:i.overflows)||[];if(_&&P.push(C[B]),E){const pe=pO(o,c,Y);P.push(C[pe[0]],C[pe[1]])}if(M=[...M,{placement:o,overflows:P}],!P.every(pe=>pe<=0)){var O,L;const pe=(((O=a.flip)==null?void 0:O.index)||0)+1,Pe=A[pe];if(Pe&&(!(E==="alignment"?z!==Tr(Pe):!1)||M.every(Q=>Tr(Q.placement)===z?Q.overflows[0]>0:!0)))return{data:{index:pe,overflows:M},reset:{placement:Pe}};let _e=(L=M.filter(ye=>ye.overflows[0]<=0).sort((ye,Q)=>ye.overflows[1]-Q.overflows[1])[0])==null?void 0:L.placement;if(!_e)switch(b){case"bestFit":{var R;const ye=(R=M.filter(Q=>{if(ae){const se=Tr(Q.placement);return se===z||se==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(se=>se>0).reduce((se,oe)=>se+oe,0)]).sort((Q,se)=>Q[1]-se[1])[0])==null?void 0:R[0];ye&&(_e=ye);break}case"initialPlacement":_e=h;break}if(o!==_e)return{reset:{placement:_e}}}return{}}}};function nw(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function rw(n){return uO.some(e=>n[e]>=0)}const IO=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...o}=ui(n,e);switch(i){case"referenceHidden":{const a=await Jl(e,{...o,elementContext:"reference"}),c=nw(a,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:rw(c)}}}case"escaped":{const a=await Jl(e,{...o,altBoundary:!0}),c=nw(a,t.floating);return{data:{escapedOffsets:c,escaped:rw(c)}}}default:return{}}}}},zT=new Set(["left","top"]);async function xO(n,e){const{placement:t,platform:i,elements:o}=n,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=di(t),h=Aa(t),p=Tr(t)==="y",m=zT.has(c)?-1:1,_=a&&p?-1:1,E=ui(e,n);let{mainAxis:S,crossAxis:b,alignmentAxis:V}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return h&&typeof V=="number"&&(b=h==="end"?V*-1:V),p?{x:b*_,y:S*m}:{x:S*m,y:b*_}}const CO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:a,placement:c,middlewareData:h}=e,p=await xO(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+p.x,y:a+p.y,data:{...p,placement:c}}}}},AO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:h={fn:k=>{let{x:B,y:z}=k;return{x:B,y:z}}},...p}=ui(n,e),m={x:t,y:i},_=await Jl(e,p),E=Tr(di(o)),S=Nm(E);let b=m[S],V=m[E];if(a){const k=S==="y"?"top":"left",B=S==="y"?"bottom":"right",z=b+_[k],q=b-_[B];b=Cp(z,b,q)}if(c){const k=E==="y"?"top":"left",B=E==="y"?"bottom":"right",z=V+_[k],q=V-_[B];V=Cp(z,V,q)}const x=h.fn({...e,[S]:b,[E]:V});return{...x,data:{x:x.x-t,y:x.y-i,enabled:{[S]:a,[E]:c}}}}}},RO=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:p=!0,crossAxis:m=!0}=ui(n,e),_={x:t,y:i},E=Tr(o),S=Nm(E);let b=_[S],V=_[E];const x=ui(h,e),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(p){const q=S==="y"?"height":"width",Y=a.reference[S]-a.floating[q]+k.mainAxis,Z=a.reference[S]+a.reference[q]-k.mainAxis;b<Y?b=Y:b>Z&&(b=Z)}if(m){var B,z;const q=S==="y"?"width":"height",Y=zT.has(di(o)),Z=a.reference[E]-a.floating[q]+(Y&&((B=c.offset)==null?void 0:B[E])||0)+(Y?0:k.crossAxis),ae=a.reference[E]+a.reference[q]+(Y?0:((z=c.offset)==null?void 0:z[E])||0)-(Y?k.crossAxis:0);V<Z?V=Z:V>ae&&(V=ae)}return{[S]:b,[E]:V}}}},PO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:p=()=>{},...m}=ui(n,e),_=await Jl(e,m),E=di(o),S=Aa(o),b=Tr(o)==="y",{width:V,height:x}=a.floating;let k,B;E==="top"||E==="bottom"?(k=E,B=S===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(B=E,k=S==="end"?"top":"bottom");const z=x-_.top-_.bottom,q=V-_.left-_.right,Y=ds(x-_[k],z),Z=ds(V-_[B],q),ae=!e.middlewareData.shift;let A=Y,C=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=q),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(A=z),ae&&!S){const M=_n(_.left,0),O=_n(_.right,0),L=_n(_.top,0),R=_n(_.bottom,0);b?C=V-2*(M!==0||O!==0?M+O:_n(_.left,_.right)):A=x-2*(L!==0||R!==0?L+R:_n(_.top,_.bottom))}await p({...e,availableWidth:C,availableHeight:A});const P=await c.getDimensions(h.floating);return V!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function Wd(){return typeof window<"u"}function Ra(n){return BT(n)?(n.nodeName||"").toLowerCase():"#document"}function En(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Vr(n){var e;return(e=(BT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function BT(n){return Wd()?n instanceof Node||n instanceof En(n).Node:!1}function Jn(n){return Wd()?n instanceof Element||n instanceof En(n).Element:!1}function Dr(n){return Wd()?n instanceof HTMLElement||n instanceof En(n).HTMLElement:!1}function iw(n){return!Wd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof En(n).ShadowRoot}const bO=new Set(["inline","contents"]);function dc(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=Zn(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!bO.has(o)}const kO=new Set(["table","td","th"]);function NO(n){return kO.has(Ra(n))}const DO=[":popover-open",":modal"];function Hd(n){return DO.some(e=>{try{return n.matches(e)}catch{return!1}})}const OO=["transform","translate","scale","rotate","perspective"],VO=["transform","translate","scale","rotate","perspective","filter"],MO=["paint","layout","strict","content"];function Vm(n){const e=Mm(),t=Jn(n)?Zn(n):n;return OO.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||VO.some(i=>(t.willChange||"").includes(i))||MO.some(i=>(t.contain||"").includes(i))}function LO(n){let e=hs(n);for(;Dr(e)&&!va(e);){if(Vm(e))return e;if(Hd(e))return null;e=hs(e)}return null}function Mm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jO=new Set(["html","body","#document"]);function va(n){return jO.has(Ra(n))}function Zn(n){return En(n).getComputedStyle(n)}function qd(n){return Jn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function hs(n){if(Ra(n)==="html")return n;const e=n.assignedSlot||n.parentNode||iw(n)&&n.host||Vr(n);return iw(e)?e.host:e}function $T(n){const e=hs(n);return va(e)?n.ownerDocument?n.ownerDocument.body:n.body:Dr(e)&&dc(e)?e:$T(e)}function Zl(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=$T(n),a=o===((i=n.ownerDocument)==null?void 0:i.body),c=En(o);if(a){const h=Rp(c);return e.concat(c,c.visualViewport||[],dc(o)?o:[],h&&t?Zl(h):[])}return e.concat(o,Zl(o,[],t))}function Rp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function WT(n){const e=Zn(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=Dr(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:i,h=_d(t)!==a||_d(i)!==c;return h&&(t=a,i=c),{width:t,height:i,$:h}}function Lm(n){return Jn(n)?n:n.contextElement}function ca(n){const e=Lm(n);if(!Dr(e))return Pr(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:a}=WT(e);let c=(a?_d(t.width):t.width)/i,h=(a?_d(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const FO=Pr(0);function HT(n){const e=En(n);return!Mm()||!e.visualViewport?FO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UO(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==En(n)?!1:e}function Zs(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=Lm(n);let c=Pr(1);e&&(i?Jn(i)&&(c=ca(i)):c=ca(n));const h=UO(a,t,i)?HT(a):Pr(0);let p=(o.left+h.x)/c.x,m=(o.top+h.y)/c.y,_=o.width/c.x,E=o.height/c.y;if(a){const S=En(a),b=i&&Jn(i)?En(i):i;let V=S,x=Rp(V);for(;x&&i&&b!==V;){const k=ca(x),B=x.getBoundingClientRect(),z=Zn(x),q=B.left+(x.clientLeft+parseFloat(z.paddingLeft))*k.x,Y=B.top+(x.clientTop+parseFloat(z.paddingTop))*k.y;p*=k.x,m*=k.y,_*=k.x,E*=k.y,p+=q,m+=Y,V=En(x),x=Rp(V)}}return Ed({width:_,height:E,x:p,y:m})}function Gd(n,e){const t=qd(n).scrollLeft;return e?e.left+t:Zs(Vr(n)).left+t}function qT(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-Gd(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function zO(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const a=o==="fixed",c=Vr(i),h=e?Hd(e.floating):!1;if(i===c||h&&a)return t;let p={scrollLeft:0,scrollTop:0},m=Pr(1);const _=Pr(0),E=Dr(i);if((E||!E&&!a)&&((Ra(i)!=="body"||dc(c))&&(p=qd(i)),Dr(i))){const b=Zs(i);m=ca(i),_.x=b.x+i.clientLeft,_.y=b.y+i.clientTop}const S=c&&!E&&!a?qT(c,p):Pr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+_.x+S.x,y:t.y*m.y-p.scrollTop*m.y+_.y+S.y}}function BO(n){return Array.from(n.getClientRects())}function $O(n){const e=Vr(n),t=qd(n),i=n.ownerDocument.body,o=_n(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=_n(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Gd(n);const h=-t.scrollTop;return Zn(i).direction==="rtl"&&(c+=_n(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:c,y:h}}const sw=25;function WO(n,e){const t=En(n),i=Vr(n),o=t.visualViewport;let a=i.clientWidth,c=i.clientHeight,h=0,p=0;if(o){a=o.width,c=o.height;const _=Mm();(!_||_&&e==="fixed")&&(h=o.offsetLeft,p=o.offsetTop)}const m=Gd(i);if(m<=0){const _=i.ownerDocument,E=_.body,S=getComputedStyle(E),b=_.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,V=Math.abs(i.clientWidth-E.clientWidth-b);V<=sw&&(a-=V)}else m<=sw&&(a+=m);return{width:a,height:c,x:h,y:p}}const HO=new Set(["absolute","fixed"]);function qO(n,e){const t=Zs(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,a=Dr(n)?ca(n):Pr(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,p=o*a.x,m=i*a.y;return{width:c,height:h,x:p,y:m}}function ow(n,e,t){let i;if(e==="viewport")i=WO(n,t);else if(e==="document")i=$O(Vr(n));else if(Jn(e))i=qO(e,t);else{const o=HT(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Ed(i)}function GT(n,e){const t=hs(n);return t===e||!Jn(t)||va(t)?!1:Zn(t).position==="fixed"||GT(t,e)}function GO(n,e){const t=e.get(n);if(t)return t;let i=Zl(n,[],!1).filter(h=>Jn(h)&&Ra(h)!=="body"),o=null;const a=Zn(n).position==="fixed";let c=a?hs(n):n;for(;Jn(c)&&!va(c);){const h=Zn(c),p=Vm(c);!p&&h.position==="fixed"&&(o=null),(a?!p&&!o:!p&&h.position==="static"&&!!o&&HO.has(o.position)||dc(c)&&!p&&GT(n,c))?i=i.filter(_=>_!==c):o=h,c=hs(c)}return e.set(n,i),i}function KO(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?Hd(e)?[]:GO(e,this._c):[].concat(t),i],h=c[0],p=c.reduce((m,_)=>{const E=ow(e,_,o);return m.top=_n(E.top,m.top),m.right=ds(E.right,m.right),m.bottom=ds(E.bottom,m.bottom),m.left=_n(E.left,m.left),m},ow(e,h,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function QO(n){const{width:e,height:t}=WT(n);return{width:e,height:t}}function YO(n,e,t){const i=Dr(e),o=Vr(e),a=t==="fixed",c=Zs(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const p=Pr(0);function m(){p.x=Gd(o)}if(i||!i&&!a)if((Ra(e)!=="body"||dc(o))&&(h=qd(e)),i){const b=Zs(e,!0,a,e);p.x=b.x+e.clientLeft,p.y=b.y+e.clientTop}else o&&m();a&&!i&&o&&m();const _=o&&!i&&!a?qT(o,h):Pr(0),E=c.left+h.scrollLeft-p.x-_.x,S=c.top+h.scrollTop-p.y-_.y;return{x:E,y:S,width:c.width,height:c.height}}function qf(n){return Zn(n).position==="static"}function aw(n,e){if(!Dr(n)||Zn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Vr(n)===t&&(t=t.ownerDocument.body),t}function KT(n,e){const t=En(n);if(Hd(n))return t;if(!Dr(n)){let o=hs(n);for(;o&&!va(o);){if(Jn(o)&&!qf(o))return o;o=hs(o)}return t}let i=aw(n,e);for(;i&&NO(i)&&qf(i);)i=aw(i,e);return i&&va(i)&&qf(i)&&!Vm(i)?t:i||LO(n)||t}const XO=async function(n){const e=this.getOffsetParent||KT,t=this.getDimensions,i=await t(n.floating);return{reference:YO(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function JO(n){return Zn(n).direction==="rtl"}const ZO={convertOffsetParentRelativeRectToViewportRelativeRect:zO,getDocumentElement:Vr,getClippingRect:KO,getOffsetParent:KT,getElementRects:XO,getClientRects:BO,getDimensions:QO,getScale:ca,isElement:Jn,isRTL:JO};function QT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function eV(n,e){let t=null,i;const o=Vr(n);function a(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),a();const m=n.getBoundingClientRect(),{left:_,top:E,width:S,height:b}=m;if(h||e(),!S||!b)return;const V=Du(E),x=Du(o.clientWidth-(_+S)),k=Du(o.clientHeight-(E+b)),B=Du(_),q={rootMargin:-V+"px "+-x+"px "+-k+"px "+-B+"px",threshold:_n(0,ds(1,p))||1};let Y=!0;function Z(ae){const A=ae[0].intersectionRatio;if(A!==p){if(!Y)return c();A?c(!1,A):i=setTimeout(()=>{c(!1,1e-7)},1e3)}A===1&&!QT(m,n.getBoundingClientRect())&&c(),Y=!1}try{t=new IntersectionObserver(Z,{...q,root:o.ownerDocument})}catch{t=new IntersectionObserver(Z,q)}t.observe(n)}return c(!0),a}function tV(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,m=Lm(n),_=o||a?[...m?Zl(m):[],...Zl(e)]:[];_.forEach(B=>{o&&B.addEventListener("scroll",t,{passive:!0}),a&&B.addEventListener("resize",t)});const E=m&&h?eV(m,t):null;let S=-1,b=null;c&&(b=new ResizeObserver(B=>{let[z]=B;z&&z.target===m&&b&&(b.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var q;(q=b)==null||q.observe(e)})),t()}),m&&!p&&b.observe(m),b.observe(e));let V,x=p?Zs(n):null;p&&k();function k(){const B=Zs(n);x&&!QT(x,B)&&t(),x=B,V=requestAnimationFrame(k)}return t(),()=>{var B;_.forEach(z=>{o&&z.removeEventListener("scroll",t),a&&z.removeEventListener("resize",t)}),E?.(),(B=b)==null||B.disconnect(),b=null,p&&cancelAnimationFrame(V)}}const nV=CO,rV=AO,iV=SO,sV=PO,oV=IO,lw=TO,aV=RO,lV=(n,e,t)=>{const i=new Map,o={platform:ZO,...t},a={...o.platform,_c:i};return EO(n,e,{...o,platform:a})};var cV=typeof document<"u",uV=function(){},Ku=cV?D.useLayoutEffect:uV;function Td(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Td(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const a=o[i];if(!(a==="_owner"&&n.$$typeof)&&!Td(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function YT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function cw(n,e){const t=YT(n);return Math.round(e*t)/t}function Gf(n){const e=D.useRef(n);return Ku(()=>{e.current=n}),e}function dV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:p,open:m}=n,[_,E]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[S,b]=D.useState(i);Td(S,i)||b(i);const[V,x]=D.useState(null),[k,B]=D.useState(null),z=D.useCallback(Q=>{Q!==ae.current&&(ae.current=Q,x(Q))},[]),q=D.useCallback(Q=>{Q!==A.current&&(A.current=Q,B(Q))},[]),Y=a||V,Z=c||k,ae=D.useRef(null),A=D.useRef(null),C=D.useRef(_),P=p!=null,M=Gf(p),O=Gf(o),L=Gf(m),R=D.useCallback(()=>{if(!ae.current||!A.current)return;const Q={placement:e,strategy:t,middleware:S};O.current&&(Q.platform=O.current),lV(ae.current,A.current,Q).then(se=>{const oe={...se,isPositioned:L.current!==!1};pe.current&&!Td(C.current,oe)&&(C.current=oe,uc.flushSync(()=>{E(oe)}))})},[S,e,t,O,L]);Ku(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,E(Q=>({...Q,isPositioned:!1})))},[m]);const pe=D.useRef(!1);Ku(()=>(pe.current=!0,()=>{pe.current=!1}),[]),Ku(()=>{if(Y&&(ae.current=Y),Z&&(A.current=Z),Y&&Z){if(M.current)return M.current(Y,Z,R);R()}},[Y,Z,R,M,P]);const Pe=D.useMemo(()=>({reference:ae,floating:A,setReference:z,setFloating:q}),[z,q]),_e=D.useMemo(()=>({reference:Y,floating:Z}),[Y,Z]),ye=D.useMemo(()=>{const Q={position:t,left:0,top:0};if(!_e.floating)return Q;const se=cw(_e.floating,_.x),oe=cw(_e.floating,_.y);return h?{...Q,transform:"translate("+se+"px, "+oe+"px)",...YT(_e.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:se,top:oe}},[t,h,_e.floating,_.x,_.y]);return D.useMemo(()=>({..._,update:R,refs:Pe,elements:_e,floatingStyles:ye}),[_,R,Pe,_e,ye])}const hV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?lw({element:i.current,padding:o}).fn(t):{}:i?lw({element:i,padding:o}).fn(t):{}}}},fV=(n,e)=>({...nV(n),options:[n,e]}),pV=(n,e)=>({...rV(n),options:[n,e]}),mV=(n,e)=>({...aV(n),options:[n,e]}),gV=(n,e)=>({...iV(n),options:[n,e]}),yV=(n,e)=>({...sV(n),options:[n,e]}),vV=(n,e)=>({...oV(n),options:[n,e]}),_V=(n,e)=>({...hV(n),options:[n,e]});var wV="Arrow",XT=D.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...a}=n;return w.jsx(dt.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});XT.displayName=wV;var EV=XT;function TV(n){const[e,t]=D.useState(void 0);return cn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const p=a.borderBoxSize,m=Array.isArray(p)?p[0]:p;c=m.inlineSize,h=m.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var jm="Popper",[JT,ZT]=bm(jm),[SV,eS]=JT(jm),tS=n=>{const{__scopePopper:e,children:t}=n,[i,o]=D.useState(null);return w.jsx(SV,{scope:e,anchor:i,onAnchorChange:o,children:t})};tS.displayName=jm;var nS="PopperAnchor",rS=D.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,a=eS(nS,t),c=D.useRef(null),h=zt(e,c),p=D.useRef(null);return D.useEffect(()=>{const m=p.current;p.current=i?.current||c.current,m!==p.current&&a.onAnchorChange(p.current)}),i?null:w.jsx(dt.div,{...o,ref:h})});rS.displayName=nS;var Fm="PopperContent",[IV,xV]=JT(Fm),iS=D.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:_=0,sticky:E="partial",hideWhenDetached:S=!1,updatePositionStrategy:b="optimized",onPlaced:V,...x}=n,k=eS(Fm,t),[B,z]=D.useState(null),q=zt(e,ce=>z(ce)),[Y,Z]=D.useState(null),ae=TV(Y),A=ae?.width??0,C=ae?.height??0,P=i+(a!=="center"?"-"+a:""),M=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},O=Array.isArray(m)?m:[m],L=O.length>0,R={padding:M,boundary:O.filter(AV),altBoundary:L},{refs:pe,floatingStyles:Pe,placement:_e,isPositioned:ye,middlewareData:Q}=dV({strategy:"fixed",placement:P,whileElementsMounted:(...ce)=>tV(...ce,{animationFrame:b==="always"}),elements:{reference:k.anchor},middleware:[fV({mainAxis:o+C,alignmentAxis:c}),p&&pV({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?mV():void 0,...R}),p&&gV({...R}),yV({...R,apply:({elements:ce,rects:we,availableWidth:Ve,availableHeight:Me})=>{const{width:qe,height:Xe}=we.reference,ht=ce.floating.style;ht.setProperty("--radix-popper-available-width",`${Ve}px`),ht.setProperty("--radix-popper-available-height",`${Me}px`),ht.setProperty("--radix-popper-anchor-width",`${qe}px`),ht.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),Y&&_V({element:Y,padding:h}),RV({arrowWidth:A,arrowHeight:C}),S&&vV({strategy:"referenceHidden",...R})]}),[se,oe]=aS(_e),U=Js(V);cn(()=>{ye&&U?.()},[ye,U]);const J=Q.arrow?.x,Ae=Q.arrow?.y,Ie=Q.arrow?.centerOffset!==0,[Oe,ke]=D.useState();return cn(()=>{B&&ke(window.getComputedStyle(B).zIndex)},[B]),w.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Pe,transform:ye?Pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:w.jsx(IV,{scope:t,placedSide:se,onArrowChange:Z,arrowX:J,arrowY:Ae,shouldHideArrow:Ie,children:w.jsx(dt.div,{"data-side":se,"data-align":oe,...x,ref:q,style:{...x.style,animation:ye?void 0:"none"}})})})});iS.displayName=Fm;var sS="PopperArrow",CV={top:"bottom",right:"left",bottom:"top",left:"right"},oS=D.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,a=xV(sS,i),c=CV[a.placedSide];return w.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:w.jsx(EV,{...o,ref:t,style:{...o.style,display:"block"}})})});oS.displayName=sS;function AV(n){return n!==null}var RV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,h=c?0:n.arrowWidth,p=c?0:n.arrowHeight,[m,_]=aS(t),E={start:"0%",center:"50%",end:"100%"}[_],S=(o.arrow?.x??0)+h/2,b=(o.arrow?.y??0)+p/2;let V="",x="";return m==="bottom"?(V=c?E:`${S}px`,x=`${-p}px`):m==="top"?(V=c?E:`${S}px`,x=`${i.floating.height+p}px`):m==="right"?(V=`${-p}px`,x=c?E:`${b}px`):m==="left"&&(V=`${i.floating.width+p}px`,x=c?E:`${b}px`),{data:{x:V,y:x}}}});function aS(n){const[e,t="center"]=n.split("-");return[e,t]}var PV=tS,bV=rS,kV=iS,NV=oS,DV="Portal",lS=D.forwardRef((n,e)=>{const{container:t,...i}=n,[o,a]=D.useState(!1);cn(()=>a(!0),[]);const c=t||o&&globalThis?.document?.body;return c?VD.createPortal(w.jsx(dt.div,{...i,ref:e}),c):null});lS.displayName=DV;var OV=Tw[" useInsertionEffect ".trim().toString()]||cn;function uw({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,c]=VV({defaultProp:e,onChange:t}),h=n!==void 0,p=h?n:o;{const _=D.useRef(n!==void 0);D.useEffect(()=>{const E=_.current;E!==h&&console.warn(`${i} is changing from ${E?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=h},[h,i])}const m=D.useCallback(_=>{if(h){const E=MV(_)?_(n):_;E!==n&&c.current?.(E)}else a(_)},[h,n,a,c]);return[p,m]}function VV({defaultProp:n,onChange:e}){const[t,i]=D.useState(n),o=D.useRef(t),a=D.useRef(e);return OV(()=>{a.current=e},[e]),D.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,i,a]}function MV(n){return typeof n=="function"}function LV(n){const e=D.useRef({value:n,previous:n});return D.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var cS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jV="VisuallyHidden",FV=D.forwardRef((n,e)=>w.jsx(dt.span,{...n,ref:e,style:{...cS,...n.style}}));FV.displayName=jV;var UV=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Qo=new WeakMap,Ou=new WeakMap,Vu={},Kf=0,uS=function(n){return n&&(n.host||uS(n.parentNode))},zV=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=uS(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},BV=function(n,e,t,i){var o=zV(e,Array.isArray(n)?n:[n]);Vu[t]||(Vu[t]=new WeakMap);var a=Vu[t],c=[],h=new Set,p=new Set(o),m=function(E){!E||h.has(E)||(h.add(E),m(E.parentNode))};o.forEach(m);var _=function(E){!E||p.has(E)||Array.prototype.forEach.call(E.children,function(S){if(h.has(S))_(S);else try{var b=S.getAttribute(i),V=b!==null&&b!=="false",x=(Qo.get(S)||0)+1,k=(a.get(S)||0)+1;Qo.set(S,x),a.set(S,k),c.push(S),x===1&&V&&Ou.set(S,!0),k===1&&S.setAttribute(t,"true"),V||S.setAttribute(i,"true")}catch(B){console.error("aria-hidden: cannot operate on ",S,B)}})};return _(e),h.clear(),Kf++,function(){c.forEach(function(E){var S=Qo.get(E)-1,b=a.get(E)-1;Qo.set(E,S),a.set(E,b),S||(Ou.has(E)||E.removeAttribute(i),Ou.delete(E)),b||E.removeAttribute(t)}),Kf--,Kf||(Qo=new WeakMap,Qo=new WeakMap,Ou=new WeakMap,Vu={})}},$V=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=UV(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),BV(i,o,t,"aria-hidden")):function(){return null}},Er=function(){return Er=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Er.apply(this,arguments)};function dS(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function WV(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var Qu="right-scroll-bar-position",Yu="width-before-scroll-bar",HV="with-scroll-bars-hidden",qV="--removed-body-scroll-bar-size";function Qf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function GV(n,e){var t=D.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var KV=typeof window<"u"?D.useLayoutEffect:D.useEffect,dw=new WeakMap;function QV(n,e){var t=GV(null,function(i){return n.forEach(function(o){return Qf(o,i)})});return KV(function(){var i=dw.get(t);if(i){var o=new Set(i),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||Qf(h,null)}),a.forEach(function(h){o.has(h)||Qf(h,c)})}dw.set(t,n)},[n]),t}function YV(n){return n}function XV(n,e){e===void 0&&(e=YV);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,i);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(i=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var p=function(){var _=c;c=[],_.forEach(a)},m=function(){return Promise.resolve().then(p)};m(),t={push:function(_){c.push(_),m()},filter:function(_){return c=c.filter(_),t}}}};return o}function JV(n){n===void 0&&(n={});var e=XV(null);return e.options=Er({async:!0,ssr:!1},n),e}var hS=function(n){var e=n.sideCar,t=dS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return D.createElement(i,Er({},t))};hS.isSideCarExport=!0;function ZV(n,e){return n.useMedium(e),hS}var fS=JV(),Yf=function(){},Kd=D.forwardRef(function(n,e){var t=D.useRef(null),i=D.useState({onScrollCapture:Yf,onWheelCapture:Yf,onTouchMoveCapture:Yf}),o=i[0],a=i[1],c=n.forwardProps,h=n.children,p=n.className,m=n.removeScrollBar,_=n.enabled,E=n.shards,S=n.sideCar,b=n.noRelative,V=n.noIsolation,x=n.inert,k=n.allowPinchZoom,B=n.as,z=B===void 0?"div":B,q=n.gapMode,Y=dS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Z=S,ae=QV([t,e]),A=Er(Er({},Y),o);return D.createElement(D.Fragment,null,_&&D.createElement(Z,{sideCar:fS,removeScrollBar:m,shards:E,noRelative:b,noIsolation:V,inert:x,setCallbacks:a,allowPinchZoom:!!k,lockRef:t,gapMode:q}),c?D.cloneElement(D.Children.only(h),Er(Er({},A),{ref:ae})):D.createElement(z,Er({},A,{className:p,ref:ae}),h))});Kd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kd.classNames={fullWidth:Yu,zeroRight:Qu};var eM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tM(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=eM();return e&&n.setAttribute("nonce",e),n}function nM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function rM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var iM=function(){var n=0,e=null;return{add:function(t){n==0&&(e=tM())&&(nM(e,t),rM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sM=function(){var n=iM();return function(e,t){D.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},pS=function(){var n=sM(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},oM={left:0,top:0,right:0,gap:0},Xf=function(n){return parseInt(n||"",10)||0},aM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Xf(t),Xf(i),Xf(o)]},lM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return oM;var e=aM(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},cM=pS(),ua="data-scroll-locked",uM=function(n,e,t,i){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(HV,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ua,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qu,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Yu,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Qu," .").concat(Qu,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Yu," .").concat(Yu,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ua,`] {
    `).concat(qV,": ").concat(h,`px;
  }
`)},hw=function(){var n=parseInt(document.body.getAttribute(ua)||"0",10);return isFinite(n)?n:0},dM=function(){D.useEffect(function(){return document.body.setAttribute(ua,(hw()+1).toString()),function(){var n=hw()-1;n<=0?document.body.removeAttribute(ua):document.body.setAttribute(ua,n.toString())}},[])},hM=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;dM();var a=D.useMemo(function(){return lM(o)},[o]);return D.createElement(cM,{styles:uM(a,!e,o,t?"":"!important")})},Pp=!1;if(typeof window<"u")try{var Mu=Object.defineProperty({},"passive",{get:function(){return Pp=!0,!0}});window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{Pp=!1}var Yo=Pp?{passive:!1}:!1,fM=function(n){return n.tagName==="TEXTAREA"},mS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!fM(n)&&t[e]==="visible")},pM=function(n){return mS(n,"overflowY")},mM=function(n){return mS(n,"overflowX")},fw=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=gS(n,i);if(o){var a=yS(n,i),c=a[1],h=a[2];if(c>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},gM=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},yM=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},gS=function(n,e){return n==="v"?pM(e):mM(e)},yS=function(n,e){return n==="v"?gM(e):yM(e)},vM=function(n,e){return n==="h"&&e==="rtl"?-1:1},_M=function(n,e,t,i,o){var a=vM(n,window.getComputedStyle(e).direction),c=a*i,h=t.target,p=e.contains(h),m=!1,_=c>0,E=0,S=0;do{if(!h)break;var b=yS(n,h),V=b[0],x=b[1],k=b[2],B=x-k-a*V;(V||B)&&gS(n,h)&&(E+=B,S+=V);var z=h.parentNode;h=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(_&&Math.abs(E)<1||!_&&Math.abs(S)<1)&&(m=!0),m},Lu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},pw=function(n){return[n.deltaX,n.deltaY]},mw=function(n){return n&&"current"in n?n.current:n},wM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},EM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},TM=0,Xo=[];function SM(n){var e=D.useRef([]),t=D.useRef([0,0]),i=D.useRef(),o=D.useState(TM++)[0],a=D.useState(pS)[0],c=D.useRef(n);D.useEffect(function(){c.current=n},[n]),D.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var x=WV([n.lockRef.current],(n.shards||[]).map(mw),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=D.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!c.current.allowPinchZoom;var B=Lu(x),z=t.current,q="deltaX"in x?x.deltaX:z[0]-B[0],Y="deltaY"in x?x.deltaY:z[1]-B[1],Z,ae=x.target,A=Math.abs(q)>Math.abs(Y)?"h":"v";if("touches"in x&&A==="h"&&ae.type==="range")return!1;var C=fw(A,ae);if(!C)return!0;if(C?Z=A:(Z=A==="v"?"h":"v",C=fw(A,ae)),!C)return!1;if(!i.current&&"changedTouches"in x&&(q||Y)&&(i.current=Z),!Z)return!0;var P=i.current||Z;return _M(P,k,x,P==="h"?q:Y)},[]),p=D.useCallback(function(x){var k=x;if(!(!Xo.length||Xo[Xo.length-1]!==a)){var B="deltaY"in k?pw(k):Lu(k),z=e.current.filter(function(Z){return Z.name===k.type&&(Z.target===k.target||k.target===Z.shadowParent)&&wM(Z.delta,B)})[0];if(z&&z.should){k.cancelable&&k.preventDefault();return}if(!z){var q=(c.current.shards||[]).map(mw).filter(Boolean).filter(function(Z){return Z.contains(k.target)}),Y=q.length>0?h(k,q[0]):!c.current.noIsolation;Y&&k.cancelable&&k.preventDefault()}}},[]),m=D.useCallback(function(x,k,B,z){var q={name:x,delta:k,target:B,should:z,shadowParent:IM(B)};e.current.push(q),setTimeout(function(){e.current=e.current.filter(function(Y){return Y!==q})},1)},[]),_=D.useCallback(function(x){t.current=Lu(x),i.current=void 0},[]),E=D.useCallback(function(x){m(x.type,pw(x),x.target,h(x,n.lockRef.current))},[]),S=D.useCallback(function(x){m(x.type,Lu(x),x.target,h(x,n.lockRef.current))},[]);D.useEffect(function(){return Xo.push(a),n.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Yo),document.addEventListener("touchmove",p,Yo),document.addEventListener("touchstart",_,Yo),function(){Xo=Xo.filter(function(x){return x!==a}),document.removeEventListener("wheel",p,Yo),document.removeEventListener("touchmove",p,Yo),document.removeEventListener("touchstart",_,Yo)}},[]);var b=n.removeScrollBar,V=n.inert;return D.createElement(D.Fragment,null,V?D.createElement(a,{styles:EM(o)}):null,b?D.createElement(hM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function IM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const xM=ZV(fS,SM);var vS=D.forwardRef(function(n,e){return D.createElement(Kd,Er({},n,{ref:e,sideCar:xM}))});vS.classNames=Kd.classNames;var CM=[" ","Enter","ArrowUp","ArrowDown"],AM=[" ","Enter"],eo="Select",[Qd,Yd,RM]=$D(eo),[Pa]=bm(eo,[RM,ZT]),Xd=ZT(),[PM,fs]=Pa(eo),[bM,kM]=Pa(eo),_S=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:p,dir:m,name:_,autoComplete:E,disabled:S,required:b,form:V}=n,x=Xd(e),[k,B]=D.useState(null),[z,q]=D.useState(null),[Y,Z]=D.useState(!1),ae=HD(m),[A,C]=uw({prop:i,defaultProp:o??!1,onChange:a,caller:eo}),[P,M]=uw({prop:c,defaultProp:h,onChange:p,caller:eo}),O=D.useRef(null),L=k?V||!!k.closest("form"):!0,[R,pe]=D.useState(new Set),Pe=Array.from(R).map(_e=>_e.props.value).join(";");return w.jsx(PV,{...x,children:w.jsxs(PM,{required:b,scope:e,trigger:k,onTriggerChange:B,valueNode:z,onValueNodeChange:q,valueNodeHasChildren:Y,onValueNodeHasChildrenChange:Z,contentId:km(),value:P,onValueChange:M,open:A,onOpenChange:C,dir:ae,triggerPointerDownPosRef:O,disabled:S,children:[w.jsx(Qd.Provider,{scope:e,children:w.jsx(bM,{scope:n.__scopeSelect,onNativeOptionAdd:D.useCallback(_e=>{pe(ye=>new Set(ye).add(_e))},[]),onNativeOptionRemove:D.useCallback(_e=>{pe(ye=>{const Q=new Set(ye);return Q.delete(_e),Q})},[]),children:t})}),L?w.jsxs(zS,{"aria-hidden":!0,required:b,tabIndex:-1,name:_,autoComplete:E,value:P,onChange:_e=>M(_e.target.value),disabled:S,form:V,children:[P===void 0?w.jsx("option",{value:""}):null,Array.from(R)]},Pe):null]})})};_S.displayName=eo;var wS="SelectTrigger",ES=D.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,a=Xd(t),c=fs(wS,t),h=c.disabled||i,p=zt(e,c.onTriggerChange),m=Yd(t),_=D.useRef("touch"),[E,S,b]=$S(x=>{const k=m().filter(q=>!q.disabled),B=k.find(q=>q.value===c.value),z=WS(k,x,B);z!==void 0&&c.onValueChange(z.value)}),V=x=>{h||(c.onOpenChange(!0),b()),x&&(c.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return w.jsx(bV,{asChild:!0,...a,children:w.jsx(dt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":BS(c.value)?"":void 0,...o,ref:p,onClick:Et(o.onClick,x=>{x.currentTarget.focus(),_.current!=="mouse"&&V(x)}),onPointerDown:Et(o.onPointerDown,x=>{_.current=x.pointerType;const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(V(x),x.preventDefault())}),onKeyDown:Et(o.onKeyDown,x=>{const k=E.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&S(x.key),!(k&&x.key===" ")&&CM.includes(x.key)&&(V(),x.preventDefault())})})})});ES.displayName=wS;var TS="SelectValue",SS=D.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:a,placeholder:c="",...h}=n,p=fs(TS,t),{onValueNodeHasChildrenChange:m}=p,_=a!==void 0,E=zt(e,p.onValueNodeChange);return cn(()=>{m(_)},[m,_]),w.jsx(dt.span,{...h,ref:E,style:{pointerEvents:"none"},children:BS(p.value)?w.jsx(w.Fragment,{children:c}):a})});SS.displayName=TS;var NM="SelectIcon",IS=D.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return w.jsx(dt.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});IS.displayName=NM;var DM="SelectPortal",xS=n=>w.jsx(lS,{asChild:!0,...n});xS.displayName=DM;var to="SelectContent",CS=D.forwardRef((n,e)=>{const t=fs(to,n.__scopeSelect),[i,o]=D.useState();if(cn(()=>{o(new DocumentFragment)},[]),!t.open){const a=i;return a?uc.createPortal(w.jsx(AS,{scope:n.__scopeSelect,children:w.jsx(Qd.Slot,{scope:n.__scopeSelect,children:w.jsx("div",{children:n.children})})}),a):null}return w.jsx(RS,{...n,ref:e})});CS.displayName=to;var Gn=10,[AS,ps]=Pa(to),OM="SelectContentImpl",VM=Xl("SelectContent.RemoveScroll"),RS=D.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:p,align:m,alignOffset:_,arrowPadding:E,collisionBoundary:S,collisionPadding:b,sticky:V,hideWhenDetached:x,avoidCollisions:k,...B}=n,z=fs(to,t),[q,Y]=D.useState(null),[Z,ae]=D.useState(null),A=zt(e,ce=>Y(ce)),[C,P]=D.useState(null),[M,O]=D.useState(null),L=Yd(t),[R,pe]=D.useState(!1),Pe=D.useRef(!1);D.useEffect(()=>{if(q)return $V(q)},[q]),eO();const _e=D.useCallback(ce=>{const[we,...Ve]=L().map(Xe=>Xe.ref.current),[Me]=Ve.slice(-1),qe=document.activeElement;for(const Xe of ce)if(Xe===qe||(Xe?.scrollIntoView({block:"nearest"}),Xe===we&&Z&&(Z.scrollTop=0),Xe===Me&&Z&&(Z.scrollTop=Z.scrollHeight),Xe?.focus(),document.activeElement!==qe))return},[L,Z]),ye=D.useCallback(()=>_e([C,q]),[_e,C,q]);D.useEffect(()=>{R&&ye()},[R,ye]);const{onOpenChange:Q,triggerPointerDownPosRef:se}=z;D.useEffect(()=>{if(q){let ce={x:0,y:0};const we=Me=>{ce={x:Math.abs(Math.round(Me.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(Me.pageY)-(se.current?.y??0))}},Ve=Me=>{ce.x<=10&&ce.y<=10?Me.preventDefault():q.contains(Me.target)||Q(!1),document.removeEventListener("pointermove",we),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[q,Q,se]),D.useEffect(()=>{const ce=()=>Q(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[Q]);const[oe,U]=$S(ce=>{const we=L().filter(qe=>!qe.disabled),Ve=we.find(qe=>qe.ref.current===document.activeElement),Me=WS(we,ce,Ve);Me&&setTimeout(()=>Me.ref.current.focus())}),J=D.useCallback((ce,we,Ve)=>{const Me=!Pe.current&&!Ve;(z.value!==void 0&&z.value===we||Me)&&(P(ce),Me&&(Pe.current=!0))},[z.value]),Ae=D.useCallback(()=>q?.focus(),[q]),Ie=D.useCallback((ce,we,Ve)=>{const Me=!Pe.current&&!Ve;(z.value!==void 0&&z.value===we||Me)&&O(ce)},[z.value]),Oe=i==="popper"?bp:PS,ke=Oe===bp?{side:h,sideOffset:p,align:m,alignOffset:_,arrowPadding:E,collisionBoundary:S,collisionPadding:b,sticky:V,hideWhenDetached:x,avoidCollisions:k}:{};return w.jsx(AS,{scope:t,content:q,viewport:Z,onViewportChange:ae,itemRefCallback:J,selectedItem:C,onItemLeave:Ae,itemTextRefCallback:Ie,focusSelectedItem:ye,selectedItemText:M,position:i,isPositioned:R,searchRef:oe,children:w.jsx(vS,{as:VM,allowPinchZoom:!0,children:w.jsx(jT,{asChild:!0,trapped:z.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Et(o,ce=>{z.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:w.jsx(MT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>z.onOpenChange(!1),children:w.jsx(Oe,{role:"listbox",id:z.contentId,"data-state":z.open?"open":"closed",dir:z.dir,onContextMenu:ce=>ce.preventDefault(),...B,...ke,onPlaced:()=>pe(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...B.style},onKeyDown:Et(B.onKeyDown,ce=>{const we=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!we&&ce.key.length===1&&U(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Me=L().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const qe=ce.target,Xe=Me.indexOf(qe);Me=Me.slice(Xe+1)}setTimeout(()=>_e(Me)),ce.preventDefault()}})})})})})})});RS.displayName=OM;var MM="SelectItemAlignedPosition",PS=D.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,a=fs(to,t),c=ps(to,t),[h,p]=D.useState(null),[m,_]=D.useState(null),E=zt(e,A=>_(A)),S=Yd(t),b=D.useRef(!1),V=D.useRef(!0),{viewport:x,selectedItem:k,selectedItemText:B,focusSelectedItem:z}=c,q=D.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&m&&x&&k&&B){const A=a.trigger.getBoundingClientRect(),C=m.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),M=B.getBoundingClientRect();if(a.dir!=="rtl"){const qe=M.left-C.left,Xe=P.left-qe,ht=A.left-Xe,Zt=A.width+ht,fi=Math.max(Zt,C.width),tr=window.innerWidth-Gn,Vn=H_(Xe,[Gn,Math.max(Gn,tr-fi)]);h.style.minWidth=Zt+"px",h.style.left=Vn+"px"}else{const qe=C.right-M.right,Xe=window.innerWidth-P.right-qe,ht=window.innerWidth-A.right-Xe,Zt=A.width+ht,fi=Math.max(Zt,C.width),tr=window.innerWidth-Gn,Vn=H_(Xe,[Gn,Math.max(Gn,tr-fi)]);h.style.minWidth=Zt+"px",h.style.right=Vn+"px"}const O=S(),L=window.innerHeight-Gn*2,R=x.scrollHeight,pe=window.getComputedStyle(m),Pe=parseInt(pe.borderTopWidth,10),_e=parseInt(pe.paddingTop,10),ye=parseInt(pe.borderBottomWidth,10),Q=parseInt(pe.paddingBottom,10),se=Pe+_e+R+Q+ye,oe=Math.min(k.offsetHeight*5,se),U=window.getComputedStyle(x),J=parseInt(U.paddingTop,10),Ae=parseInt(U.paddingBottom,10),Ie=A.top+A.height/2-Gn,Oe=L-Ie,ke=k.offsetHeight/2,ce=k.offsetTop+ke,we=Pe+_e+ce,Ve=se-we;if(we<=Ie){const qe=O.length>0&&k===O[O.length-1].ref.current;h.style.bottom="0px";const Xe=m.clientHeight-x.offsetTop-x.offsetHeight,ht=Math.max(Oe,ke+(qe?Ae:0)+Xe+ye),Zt=we+ht;h.style.height=Zt+"px"}else{const qe=O.length>0&&k===O[0].ref.current;h.style.top="0px";const ht=Math.max(Ie,Pe+x.offsetTop+(qe?J:0)+ke)+Ve;h.style.height=ht+"px",x.scrollTop=we-Ie+x.offsetTop}h.style.margin=`${Gn}px 0`,h.style.minHeight=oe+"px",h.style.maxHeight=L+"px",i?.(),requestAnimationFrame(()=>b.current=!0)}},[S,a.trigger,a.valueNode,h,m,x,k,B,a.dir,i]);cn(()=>q(),[q]);const[Y,Z]=D.useState();cn(()=>{m&&Z(window.getComputedStyle(m).zIndex)},[m]);const ae=D.useCallback(A=>{A&&V.current===!0&&(q(),z?.(),V.current=!1)},[q,z]);return w.jsx(jM,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:b,onScrollButtonChange:ae,children:w.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Y},children:w.jsx(dt.div,{...o,ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});PS.displayName=MM;var LM="SelectPopperPosition",bp=D.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Gn,...a}=n,c=Xd(t);return w.jsx(kV,{...c,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bp.displayName=LM;var[jM,Um]=Pa(to,{}),kp="SelectViewport",bS=D.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,a=ps(kp,t),c=Um(kp,t),h=zt(e,a.onViewportChange),p=D.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),w.jsx(Qd.Slot,{scope:t,children:w.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Et(o.onScroll,m=>{const _=m.currentTarget,{contentWrapper:E,shouldExpandOnScrollRef:S}=c;if(S?.current&&E){const b=Math.abs(p.current-_.scrollTop);if(b>0){const V=window.innerHeight-Gn*2,x=parseFloat(E.style.minHeight),k=parseFloat(E.style.height),B=Math.max(x,k);if(B<V){const z=B+b,q=Math.min(V,z),Y=z-q;E.style.height=q+"px",E.style.bottom==="0px"&&(_.scrollTop=Y>0?Y:0,E.style.justifyContent="flex-end")}}}p.current=_.scrollTop})})})]})});bS.displayName=kp;var kS="SelectGroup",[FM,UM]=Pa(kS),zM=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=km();return w.jsx(FM,{scope:t,id:o,children:w.jsx(dt.div,{role:"group","aria-labelledby":o,...i,ref:e})})});zM.displayName=kS;var NS="SelectLabel",BM=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=UM(NS,t);return w.jsx(dt.div,{id:o.id,...i,ref:e})});BM.displayName=NS;var Sd="SelectItem",[$M,DS]=Pa(Sd),OS=D.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:a,...c}=n,h=fs(Sd,t),p=ps(Sd,t),m=h.value===i,[_,E]=D.useState(a??""),[S,b]=D.useState(!1),V=zt(e,z=>p.itemRefCallback?.(z,i,o)),x=km(),k=D.useRef("touch"),B=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx($M,{scope:t,value:i,disabled:o,textId:x,isSelected:m,onItemTextChange:D.useCallback(z=>{E(q=>q||(z?.textContent??"").trim())},[]),children:w.jsx(Qd.ItemSlot,{scope:t,value:i,disabled:o,textValue:_,children:w.jsx(dt.div,{role:"option","aria-labelledby":x,"data-highlighted":S?"":void 0,"aria-selected":m&&S,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:V,onFocus:Et(c.onFocus,()=>b(!0)),onBlur:Et(c.onBlur,()=>b(!1)),onClick:Et(c.onClick,()=>{k.current!=="mouse"&&B()}),onPointerUp:Et(c.onPointerUp,()=>{k.current==="mouse"&&B()}),onPointerDown:Et(c.onPointerDown,z=>{k.current=z.pointerType}),onPointerMove:Et(c.onPointerMove,z=>{k.current=z.pointerType,o?p.onItemLeave?.():k.current==="mouse"&&z.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(c.onPointerLeave,z=>{z.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Et(c.onKeyDown,z=>{p.searchRef?.current!==""&&z.key===" "||(AM.includes(z.key)&&B(),z.key===" "&&z.preventDefault())})})})})});OS.displayName=Sd;var Nl="SelectItemText",VS=D.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...a}=n,c=fs(Nl,t),h=ps(Nl,t),p=DS(Nl,t),m=kM(Nl,t),[_,E]=D.useState(null),S=zt(e,B=>E(B),p.onItemTextChange,B=>h.itemTextRefCallback?.(B,p.value,p.disabled)),b=_?.textContent,V=D.useMemo(()=>w.jsx("option",{value:p.value,disabled:p.disabled,children:b},p.value),[p.disabled,p.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:k}=m;return cn(()=>(x(V),()=>k(V)),[x,k,V]),w.jsxs(w.Fragment,{children:[w.jsx(dt.span,{id:p.textId,...a,ref:S}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?uc.createPortal(a.children,c.valueNode):null]})});VS.displayName=Nl;var MS="SelectItemIndicator",LS=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return DS(MS,t).isSelected?w.jsx(dt.span,{"aria-hidden":!0,...i,ref:e}):null});LS.displayName=MS;var Np="SelectScrollUpButton",jS=D.forwardRef((n,e)=>{const t=ps(Np,n.__scopeSelect),i=Um(Np,n.__scopeSelect),[o,a]=D.useState(!1),c=zt(e,i.onScrollButtonChange);return cn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=p.scrollTop>0;a(m)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?w.jsx(US,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});jS.displayName=Np;var Dp="SelectScrollDownButton",FS=D.forwardRef((n,e)=>{const t=ps(Dp,n.__scopeSelect),i=Um(Dp,n.__scopeSelect),[o,a]=D.useState(!1),c=zt(e,i.onScrollButtonChange);return cn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=p.scrollHeight-p.clientHeight,_=Math.ceil(p.scrollTop)<m;a(_)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?w.jsx(US,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});FS.displayName=Dp;var US=D.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,a=ps("SelectScrollButton",t),c=D.useRef(null),h=Yd(t),p=D.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return D.useEffect(()=>()=>p(),[p]),cn(()=>{h().find(_=>_.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),w.jsx(dt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Et(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Et(o.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Et(o.onPointerLeave,()=>{p()})})}),WM="SelectSeparator",HM=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return w.jsx(dt.div,{"aria-hidden":!0,...i,ref:e})});HM.displayName=WM;var Op="SelectArrow",qM=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=Xd(t),a=fs(Op,t),c=ps(Op,t);return a.open&&c.position==="popper"?w.jsx(NV,{...o,...i,ref:e}):null});qM.displayName=Op;var GM="SelectBubbleInput",zS=D.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=D.useRef(null),a=zt(i,o),c=LV(e);return D.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==e&&_){const E=new Event("change",{bubbles:!0});_.call(h,e),h.dispatchEvent(E)}},[c,e]),w.jsx(dt.select,{...t,style:{...cS,...t.style},ref:a,defaultValue:e})});zS.displayName=GM;function BS(n){return n===""||n===void 0}function $S(n){const e=Js(n),t=D.useRef(""),i=D.useRef(0),o=D.useCallback(c=>{const h=t.current+c;e(h),(function p(m){t.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>p(""),1e3))})(h)},[e]),a=D.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return D.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,a]}function WS(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=KM(n,Math.max(a,0));o.length===1&&(c=c.filter(m=>m!==t));const p=c.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function KM(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var QM=_S,YM=ES,XM=SS,JM=IS,ZM=xS,eL=CS,tL=bS,nL=OS,rL=VS,iL=LS,sL=jS,oL=FS;function gw({...n}){return w.jsx(QM,{"data-slot":"select",...n})}function yw({...n}){return w.jsx(XM,{"data-slot":"select-value",...n})}function vw({className:n,size:e="default",children:t,...i}){return w.jsxs(YM,{"data-slot":"select-trigger","data-size":e,className:On("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,w.jsx(JM,{asChild:!0,children:w.jsx(Iw,{className:"size-4 opacity-50"})})]})}function _w({className:n,children:e,position:t="popper",...i}){return w.jsx(ZM,{children:w.jsxs(eL,{"data-slot":"select-content",className:On("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[w.jsx(aL,{}),w.jsx(tL,{className:On("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),w.jsx(lL,{})]})})}function Jo({className:n,children:e,...t}){return w.jsxs(nL,{"data-slot":"select-item",className:On("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[w.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:w.jsx(iL,{children:w.jsx(mx,{className:"size-4"})})}),w.jsx(rL,{children:e})]})}function aL({className:n,...e}){return w.jsx(sL,{"data-slot":"select-scroll-up-button",className:On("flex cursor-default items-center justify-center py-1",n),...e,children:w.jsx(_x,{className:"size-4"})})}function lL({className:n,...e}){return w.jsx(oL,{"data-slot":"select-scroll-down-button",className:On("flex cursor-default items-center justify-center py-1",n),...e,children:w.jsx(Iw,{className:"size-4"})})}function cL({className:n,...e}){return w.jsx("textarea",{"data-slot":"textarea",className:On("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function uL(){const[n,e]=D.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",age:"",major:"",year:"",bio:""}),[t,i]=D.useState(1),[o,a]=D.useState(!1),[c,h]=D.useState(""),[p,m]=D.useState(!1),_=(V,x)=>{e(k=>({...k,[V]:x}))},E=()=>{t<3&&i(t+1)},S=()=>{t>1&&i(t-1)},b=async V=>{V.preventDefault(),h(""),a(!0);try{if(n.password!==n.confirmPassword)throw new Error("Passwords do not match");if(n.password.length<6)throw new Error("Password must be at least 6 characters long");if(!n.firstName||!n.lastName||!n.email||!n.password||!n.age||!n.major||!n.year)throw new Error("Please fill in all required fields");if(!n.email.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");const x=parseInt(n.age);if(x<18||x>100)throw new Error("Please enter a valid age (18-100)");await W2(n.email,n.password,{firstName:n.firstName.trim(),lastName:n.lastName.trim(),age:n.age,major:n.major.trim(),year:n.year,bio:n.bio.trim()}),m(!0)}catch(x){h(x.message||"An error occurred during sign up")}finally{a(!1)}};return p?w.jsx("div",{className:"w-full max-w-md mx-auto text-center",children:w.jsxs("div",{className:"bg-green-900/20 border border-green-700/30 rounded-lg p-6",children:[w.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx("span",{className:"text-2xl",children:""})}),w.jsx("h2",{className:"text-white text-xl mb-2",children:"Account Created Successfully!"}),w.jsxs("p",{className:"text-green-200/80 mb-4",children:["We've sent a verification email to ",w.jsx("strong",{children:n.email}),". Please check your inbox and click the verification link to activate your account."]}),w.jsx("p",{className:"text-green-200/60 text-sm",children:"Once verified, you'll be able to sign in and start connecting with fellow Sun Devils!"})]})}):w.jsxs("div",{className:"w-full max-w-md mx-auto",children:[c&&w.jsx(DT,{className:"mb-6 bg-red-900/20 border-red-700/30",children:w.jsx(OT,{className:"text-red-200",children:c})}),w.jsx("div",{className:"flex justify-center mb-8",children:w.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(V=>w.jsx("div",{className:`w-2 h-2 rounded-full ${V===t||V<t?"bg-green-500":"bg-gray-600"}`},V))})}),w.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t===1&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-white mb-2",children:"Let's get started!"}),w.jsx("p",{className:"text-gray-400",children:"Tell us about yourself"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"firstName",className:"text-white",children:"First Name"}),w.jsx(Ki,{id:"firstName",value:n.firstName,onChange:V=>_("firstName",V.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter first name",required:!0})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"lastName",className:"text-white",children:"Last Name"}),w.jsx(Ki,{id:"lastName",value:n.lastName,onChange:V=>_("lastName",V.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter last name",required:!0})]})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"email",className:"text-white",children:"ASU Email"}),w.jsx(Ki,{id:"email",type:"email",value:n.email,onChange:V=>_("email",V.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"yourname@asu.edu",pattern:".*@asu\\.edu$",required:!0}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must use your ASU email address"})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"password",className:"text-white",children:"Password"}),w.jsx(Ki,{id:"password",type:"password",value:n.password,onChange:V=>_("password",V.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Create a secure password",required:!0})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"confirmPassword",className:"text-white",children:"Confirm Password"}),w.jsx(Ki,{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:V=>_("confirmPassword",V.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Confirm your password",required:!0})]})]}),t===2&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-white mb-2",children:"Academic Info"}),w.jsx("p",{className:"text-gray-400",children:"Help us connect you with fellow Sun Devils"})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"age",className:"text-white",children:"Age"}),w.jsxs(gw,{onValueChange:V=>_("age",V),children:[w.jsx(vw,{className:"bg-gray-800 border-gray-700 text-white",children:w.jsx(yw,{placeholder:"Select your age"})}),w.jsx(_w,{className:"bg-gray-800 border-gray-700",children:Array.from({length:13},(V,x)=>x+18).map(V=>w.jsx(Jo,{value:V.toString(),className:"text-white hover:bg-gray-700",children:V},V))})]})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"major",className:"text-white",children:"Major"}),w.jsx(Ki,{id:"major",value:n.major,onChange:V=>_("major",V.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"e.g., Business Administration",required:!0})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"year",className:"text-white",children:"Year"}),w.jsxs(gw,{onValueChange:V=>_("year",V),children:[w.jsx(vw,{className:"bg-gray-800 border-gray-700 text-white",children:w.jsx(yw,{placeholder:"Select your year"})}),w.jsxs(_w,{className:"bg-gray-800 border-gray-700",children:[w.jsx(Jo,{value:"freshman",className:"text-white hover:bg-gray-700",children:"Freshman"}),w.jsx(Jo,{value:"sophomore",className:"text-white hover:bg-gray-700",children:"Sophomore"}),w.jsx(Jo,{value:"junior",className:"text-white hover:bg-gray-700",children:"Junior"}),w.jsx(Jo,{value:"senior",className:"text-white hover:bg-gray-700",children:"Senior"}),w.jsx(Jo,{value:"graduate",className:"text-white hover:bg-gray-700",children:"Graduate Student"})]})]})]})]}),t===3&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-white mb-2",children:"Tell us about yourself"}),w.jsx("p",{className:"text-gray-400",children:"What makes you unique?"})]}),w.jsxs("div",{children:[w.jsx(qn,{htmlFor:"bio",className:"text-white",children:"Bio"}),w.jsx(cL,{id:"bio",value:n.bio,onChange:V=>_("bio",V.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500 min-h-[120px]",placeholder:"Tell other Sun Devils about yourself! What do you love about ASU? What are you looking for?",maxLength:300}),w.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.bio.length,"/300 characters"]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[w.jsx("h4",{className:"text-white mb-2",children:"Almost done! "}),w.jsx("p",{className:"text-gray-400 text-sm",children:"By creating an account, you agree to our Terms of Service and Privacy Policy. We'll verify your ASU student status before activating your account."})]})]}),w.jsxs("div",{className:"flex justify-between pt-4",children:[t>1&&w.jsx(Hs,{type:"button",onClick:S,variant:"outline",className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Back"}),t<3?w.jsx(Hs,{type:"button",onClick:E,className:"bg-yellow-600 hover:bg-yellow-700 text-black ml-auto",children:"Next"}):w.jsx(Hs,{type:"submit",className:"bg-yellow-600 hover:bg-yellow-700 text-black ml-auto",disabled:o,children:o?"Creating Account...":"Create Account"})]})]})]})}function dL(){const{user:n,userProfile:e,loading:t}=K2(),[i,o]=D.useState("sign-in");return t?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:w.jsxs("div",{className:"text-center",children:[w.jsx(Ux,{className:"w-10 h-10 mx-auto text-primary mb-3"}),w.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading"})]})}):n?w.jsx(Yx,{user:n,userProfile:e,onSignOut:async()=>{await q2()}}):w.jsx("div",{className:"min-h-screen bg-black text-white px-4 py-8",children:w.jsxs("div",{className:"max-w-md mx-auto",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[w.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center shadow-md",children:w.jsx("span",{className:"text-white text-lg",children:""})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Spark'd"}),w.jsx("p",{className:"text-white/70 text-sm",children:"College dating & date planning"})]})]}),i==="sign-in"?w.jsxs(w.Fragment,{children:[w.jsx(zD,{onToggleMode:()=>o("sign-up")}),w.jsx("div",{className:"text-center mt-6",children:w.jsx(Hs,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:()=>o("sign-up"),children:"Create an account"})})]}):w.jsxs(w.Fragment,{children:[w.jsx(uL,{}),w.jsx("div",{className:"text-center mt-6",children:w.jsx(Hs,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:()=>o("sign-in"),children:"Already have an account? Sign in"})})]})]})})}function hL(){return w.jsx(ax,{children:w.jsx(dL,{})})}sx.createRoot(document.getElementById("root")).render(w.jsx(Q2,{children:w.jsx(hL,{})}));
