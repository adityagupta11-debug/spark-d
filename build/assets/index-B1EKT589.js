function eI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function F_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var of={exports:{}},dl={},af={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function tI(){if(Ry)return Ve;Ry=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,S={};function b(U,X,pe){this.props=U,this.context=X,this.refs=S,this.updater=pe||R}b.prototype.isReactComponent={},b.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=b.prototype;function z(U,X,pe){this.props=U,this.context=X,this.refs=S,this.updater=pe||R}var q=z.prototype=new B;q.constructor=z,O(q,b.prototype),q.isPureReactComponent=!0;var Y=Array.isArray,J=Object.prototype.hasOwnProperty,se={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function A(U,X,pe){var Se,Re={},De=null,ue=null;if(X!=null)for(Se in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(De=""+X.key),X)J.call(X,Se)&&!C.hasOwnProperty(Se)&&(Re[Se]=X[Se]);var we=arguments.length-2;if(we===1)Re.children=pe;else if(1<we){for(var Le=Array(we),ke=0;ke<we;ke++)Le[ke]=arguments[ke+2];Re.children=Le}if(U&&U.defaultProps)for(Se in we=U.defaultProps,we)Re[Se]===void 0&&(Re[Se]=we[Se]);return{$$typeof:n,type:U,key:De,ref:ue,props:Re,_owner:se.current}}function k(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return X[pe]})}var M=/\/+/g;function P(U,X){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):X.toString(36)}function ve(U,X,pe,Se,Re){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var ue=!1;if(U===null)ue=!0;else switch(De){case"string":case"number":ue=!0;break;case"object":switch(U.$$typeof){case n:case e:ue=!0}}if(ue)return ue=U,Re=Re(ue),U=Se===""?"."+P(ue,0):Se,Y(Re)?(pe="",U!=null&&(pe=U.replace(M,"$&/")+"/"),ve(Re,X,pe,"",function(ke){return ke})):Re!=null&&(D(Re)&&(Re=k(Re,pe+(!Re.key||ue&&ue.key===Re.key?"":(""+Re.key).replace(M,"$&/")+"/")+U)),X.push(Re)),1;if(ue=0,Se=Se===""?".":Se+":",Y(U))for(var we=0;we<U.length;we++){De=U[we];var Le=Se+P(De,we);ue+=ve(De,X,pe,Le,Re)}else if(Le=I(U),typeof Le=="function")for(U=Le.call(U),we=0;!(De=U.next()).done;)De=De.value,Le=Se+P(De,we++),ue+=ve(De,X,pe,Le,Re);else if(De==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function Oe(U,X,pe){if(U==null)return U;var Se=[],Re=0;return ve(U,Se,"","",function(De){return X.call(pe,De,Re++)}),Se}function _e(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var fe={current:null},Q={transition:null},ae={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Oe,forEach:function(U,X,pe){Oe(U,function(){X.apply(this,arguments)},pe)},count:function(U){var X=0;return Oe(U,function(){X++}),X},toArray:function(U){return Oe(U,function(X){return X})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ve.Component=b,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=z,Ve.StrictMode=i,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ve.act=oe,Ve.cloneElement=function(U,X,pe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Se=O({},U.props),Re=U.key,De=U.ref,ue=U._owner;if(X!=null){if(X.ref!==void 0&&(De=X.ref,ue=se.current),X.key!==void 0&&(Re=""+X.key),U.type&&U.type.defaultProps)var we=U.type.defaultProps;for(Le in X)J.call(X,Le)&&!C.hasOwnProperty(Le)&&(Se[Le]=X[Le]===void 0&&we!==void 0?we[Le]:X[Le])}var Le=arguments.length-2;if(Le===1)Se.children=pe;else if(1<Le){we=Array(Le);for(var ke=0;ke<Le;ke++)we[ke]=arguments[ke+2];Se.children=we}return{$$typeof:n,type:U.type,key:Re,ref:De,props:Se,_owner:ue}},Ve.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ve.createElement=A,Ve.createFactory=function(U){var X=A.bind(null,U);return X.type=U,X},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(U){return{$$typeof:h,render:U}},Ve.isValidElement=D,Ve.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:_e}},Ve.memo=function(U,X){return{$$typeof:y,type:U,compare:X===void 0?null:X}},Ve.startTransition=function(U){var X=Q.transition;Q.transition={};try{U()}finally{Q.transition=X}},Ve.unstable_act=oe,Ve.useCallback=function(U,X){return fe.current.useCallback(U,X)},Ve.useContext=function(U){return fe.current.useContext(U)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(U){return fe.current.useDeferredValue(U)},Ve.useEffect=function(U,X){return fe.current.useEffect(U,X)},Ve.useId=function(){return fe.current.useId()},Ve.useImperativeHandle=function(U,X,pe){return fe.current.useImperativeHandle(U,X,pe)},Ve.useInsertionEffect=function(U,X){return fe.current.useInsertionEffect(U,X)},Ve.useLayoutEffect=function(U,X){return fe.current.useLayoutEffect(U,X)},Ve.useMemo=function(U,X){return fe.current.useMemo(U,X)},Ve.useReducer=function(U,X,pe){return fe.current.useReducer(U,X,pe)},Ve.useRef=function(U){return fe.current.useRef(U)},Ve.useState=function(U){return fe.current.useState(U)},Ve.useSyncExternalStore=function(U,X,pe){return fe.current.useSyncExternalStore(U,X,pe)},Ve.useTransition=function(){return fe.current.useTransition()},Ve.version="18.3.1",Ve}var Py;function gp(){return Py||(Py=1,af.exports=tI()),af.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function nI(){if(ky)return dl;ky=1;var n=gp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,y){var _,T={},I=null,R=null;y!==void 0&&(I=""+y),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(R=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(T[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)T[_]===void 0&&(T[_]=f[_]);return{$$typeof:e,type:h,key:I,ref:R,props:T,_owner:o.current}}return dl.Fragment=t,dl.jsx=c,dl.jsxs=c,dl}var by;function rI(){return by||(by=1,of.exports=nI()),of.exports}var w=rI(),gc={},lf={exports:{}},ln={},uf={exports:{}},cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function iI(){return Ny||(Ny=1,(function(n){function e(Q,ae){var oe=Q.length;Q.push(ae);e:for(;0<oe;){var U=oe-1>>>1,X=Q[U];if(0<o(X,ae))Q[U]=ae,Q[oe]=X,oe=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ae=Q[0],oe=Q.pop();if(oe!==ae){Q[0]=oe;e:for(var U=0,X=Q.length,pe=X>>>1;U<pe;){var Se=2*(U+1)-1,Re=Q[Se],De=Se+1,ue=Q[De];if(0>o(Re,oe))De<X&&0>o(ue,Re)?(Q[U]=ue,Q[De]=oe,U=De):(Q[U]=Re,Q[Se]=oe,U=Se);else if(De<X&&0>o(ue,oe))Q[U]=ue,Q[De]=oe,U=De;else break e}}return ae}function o(Q,ae){var oe=Q.sortIndex-ae.sortIndex;return oe!==0?oe:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],y=[],_=1,T=null,I=3,R=!1,O=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(Q){for(var ae=t(y);ae!==null;){if(ae.callback===null)i(y);else if(ae.startTime<=Q)i(y),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(y)}}function Y(Q){if(S=!1,q(Q),!O)if(t(f)!==null)O=!0,_e(J);else{var ae=t(y);ae!==null&&fe(Y,ae.startTime-Q)}}function J(Q,ae){O=!1,S&&(S=!1,B(A),A=-1),R=!0;var oe=I;try{for(q(ae),T=t(f);T!==null&&(!(T.expirationTime>ae)||Q&&!V());){var U=T.callback;if(typeof U=="function"){T.callback=null,I=T.priorityLevel;var X=U(T.expirationTime<=ae);ae=n.unstable_now(),typeof X=="function"?T.callback=X:T===t(f)&&i(f),q(ae)}else i(f);T=t(f)}if(T!==null)var pe=!0;else{var Se=t(y);Se!==null&&fe(Y,Se.startTime-ae),pe=!1}return pe}finally{T=null,I=oe,R=!1}}var se=!1,C=null,A=-1,k=5,D=-1;function V(){return!(n.unstable_now()-D<k)}function M(){if(C!==null){var Q=n.unstable_now();D=Q;var ae=!0;try{ae=C(!0,Q)}finally{ae?P():(se=!1,C=null)}}else se=!1}var P;if(typeof z=="function")P=function(){z(M)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Oe=ve.port2;ve.port1.onmessage=M,P=function(){Oe.postMessage(null)}}else P=function(){b(M,0)};function _e(Q){C=Q,se||(se=!0,P())}function fe(Q,ae){A=b(function(){Q(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,_e(J))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Q){switch(I){case 1:case 2:case 3:var ae=3;break;default:ae=I}var oe=I;I=ae;try{return Q()}finally{I=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=I;I=Q;try{return ae()}finally{I=oe}},n.unstable_scheduleCallback=function(Q,ae,oe){var U=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?U+oe:U):oe=U,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,Q={id:_++,callback:ae,priorityLevel:Q,startTime:oe,expirationTime:X,sortIndex:-1},oe>U?(Q.sortIndex=oe,e(y,Q),t(f)===null&&Q===t(y)&&(S?(B(A),A=-1):S=!0,fe(Y,oe-U))):(Q.sortIndex=X,e(f,Q),O||R||(O=!0,_e(J))),Q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Q){var ae=I;return function(){var oe=I;I=ae;try{return Q.apply(this,arguments)}finally{I=oe}}}})(cf)),cf}var Oy;function sI(){return Oy||(Oy=1,uf.exports=iI()),uf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function oI(){if(Dy)return ln;Dy=1;var n=gp(),e=sI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function I(r){return f.call(T,r)?!0:f.call(_,r)?!1:y.test(r)?T[r]=!0:(_[r]=!0,!1)}function R(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,l,d){if(s===null||typeof s>"u"||R(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(r,s,l,d,p,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new S(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(B,z);b[s]=new S(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(B,z);b[s]=new S(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(B,z);b[s]=new S(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function q(r,s,l,d){var p=b.hasOwnProperty(s)?b[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,l,p,d)&&(l=null),d||p===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),se=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,U;function X(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var pe=!1;function Se(r,s){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var d=K}Reflect.construct(r,[],s)}else{try{s.call()}catch(K){d=K}r.call(s.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),g=d.stack.split(`
`),E=p.length-1,N=g.length-1;1<=E&&0<=N&&p[E]!==g[N];)N--;for(;1<=E&&0<=N;E--,N--)if(p[E]!==g[N]){if(E!==1||N!==1)do if(E--,N--,0>N||p[E]!==g[N]){var j=`
`+p[E].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=E&&0<=N);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?X(r):""}function Re(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Se(r.type,!1),r;case 11:return r=Se(r.type.render,!1),r;case 1:return r=Se(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case se:return"Portal";case k:return"Profiler";case A:return"StrictMode";case P:return"Suspense";case ve:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Oe:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case _e:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function we(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Le(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ke(r){var s=Le(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ze(r){r._valueTracker||(r._valueTracker=ke(r))}function Qe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Le(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function ct(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Qt(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ir(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=we(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function kr(r,s){s=s.checked,s!=null&&q(r,"checked",s,!1)}function br(r,s){kr(r,s);var l=we(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Gs(r,s.type,l):s.hasOwnProperty("defaultValue")&&Gs(r,s.type,we(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function tu(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Gs(r,s,l){(s!=="number"||ct(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Nr=Array.isArray;function Or(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+we(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function _a(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Qs(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Nr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:we(l)}}function Ys(r,s){var l=we(s.value),d=we(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function wa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Dr,Ea=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ui(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ts=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(r){ts.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),es[s]=es[r]})});function Ta(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||es.hasOwnProperty(r)&&es[r]?(""+s).trim():s+"px"}function xa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ta(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var Ia=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(r,s){if(s){if(Ia[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Aa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function Xs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Js=null,En=null,sr=null;function Zs(r){if(r=Ya(r)){if(typeof Js!="function")throw Error(t(280));var s=r.stateNode;s&&(s=bu(s),Js(r.stateNode,r.type,s))}}function or(r){En?sr?sr.push(r):sr=[r]:En=r}function Ca(){if(En){var r=En,s=sr;if(sr=En=null,Zs(r),s)for(r=0;r<s.length;r++)Zs(s[r])}}function rs(r,s){return r(s)}function Ra(){}var Lr=!1;function Pa(r,s,l){if(Lr)return r(s,l);Lr=!0;try{return rs(r,s,l)}finally{Lr=!1,(En!==null||sr!==null)&&(Ra(),Ca())}}function dt(r,s){var l=r.stateNode;if(l===null)return null;var d=bu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var eo=!1;if(h)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){eo=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{eo=!1}function is(r,s,l,d,p,g,E,N,j){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(ee){this.onError(ee)}}var ss=!1,to=null,Mn=!1,ka=null,Od={onError:function(r){ss=!0,to=r}};function no(r,s,l,d,p,g,E,N,j){ss=!1,to=null,is.apply(Od,arguments)}function nu(r,s,l,d,p,g,E,N,j){if(no.apply(this,arguments),ss){if(ss){var K=to;ss=!1,to=null}else throw Error(t(198));Mn||(Mn=!0,ka=K)}}function Vn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function os(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function jn(r){if(Vn(r)!==r)throw Error(t(188))}function ru(r){var s=r.alternate;if(!s){if(s=Vn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return jn(p),r;if(g===d)return jn(p),s;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=g;else{for(var E=!1,N=p.child;N;){if(N===l){E=!0,l=p,d=g;break}if(N===d){E=!0,d=p,l=g;break}N=N.sibling}if(!E){for(N=g.child;N;){if(N===l){E=!0,l=g,d=p;break}if(N===d){E=!0,d=g,l=p;break}N=N.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ba(r){return r=ru(r),r!==null?ro(r):null}function ro(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ro(r);if(s!==null)return s;r=r.sibling}return null}var io=e.unstable_scheduleCallback,Na=e.unstable_cancelCallback,iu=e.unstable_shouldYield,Dd=e.unstable_requestPaint,Xe=e.unstable_now,su=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,ci=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,Oa=e.unstable_LowPriority,ou=e.unstable_IdlePriority,ls=null,dn=null;function au(r){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ls,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:uu,Da=Math.log,lu=Math.LN2;function uu(r){return r>>>=0,r===0?32:31-(Da(r)/lu|0)|0}var so=64,oo=4194304;function di(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function us(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var N=E&~p;N!==0?d=di(N):(g&=E,g!==0&&(d=di(g)))}else E=l&~p,E!==0?d=di(E):g!==0&&(d=di(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Yt(s),p=1<<l,d|=r[l],s&=~p;return d}function Ld(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Yt(g),N=1<<E,j=p[E];j===-1?((N&l)===0||(N&d)!==0)&&(p[E]=Ld(N,s)):j<=s&&(r.expiredLanes|=N),g&=~N}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function cs(){var r=so;return so<<=1,(so&4194240)===0&&(so=64),r}function hi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function fi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Yt(s),r[s]=l}function Ye(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Yt(l),g=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~g}}function pi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Yt(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Fe=0;function mi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var cu,ao,du,hu,fu,La=!1,ar=[],bt=null,Fn=null,Un=null,gi=new Map,xn=new Map,lr=[],Md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(r,s){switch(r){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":gi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(s.pointerId)}}function en(r,s,l,d,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ya(s),s!==null&&ao(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Vd(r,s,l,d,p){switch(s){case"focusin":return bt=en(bt,r,s,l,d,p),!0;case"dragenter":return Fn=en(Fn,r,s,l,d,p),!0;case"mouseover":return Un=en(Un,r,s,l,d,p),!0;case"pointerover":var g=p.pointerId;return gi.set(g,en(gi.get(g)||null,r,s,l,d,p)),!0;case"gotpointercapture":return g=p.pointerId,xn.set(g,en(xn.get(g)||null,r,s,l,d,p)),!0}return!1}function mu(r){var s=ms(r.target);if(s!==null){var l=Vn(s);if(l!==null){if(s=l.tag,s===13){if(s=os(l),s!==null){r.blockedOn=s,fu(r.priority,function(){du(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=lo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ns=d,l.target.dispatchEvent(d),ns=null}else return s=Ya(l),s!==null&&ao(s),r.blockedOn=l,!1;s.shift()}return!0}function ds(r,s,l){Vr(r)&&l.delete(s)}function gu(){La=!1,bt!==null&&Vr(bt)&&(bt=null),Fn!==null&&Vr(Fn)&&(Fn=null),Un!==null&&Vr(Un)&&(Un=null),gi.forEach(ds),xn.forEach(ds)}function zn(r,s){r.blockedOn===s&&(r.blockedOn=null,La||(La=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gu)))}function Bn(r){function s(p){return zn(p,r)}if(0<ar.length){zn(ar[0],r);for(var l=1;l<ar.length;l++){var d=ar[l];d.blockedOn===r&&(d.blockedOn=null)}}for(bt!==null&&zn(bt,r),Fn!==null&&zn(Fn,r),Un!==null&&zn(Un,r),gi.forEach(s),xn.forEach(s),l=0;l<lr.length;l++)d=lr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<lr.length&&(l=lr[0],l.blockedOn===null);)mu(l),l.blockedOn===null&&lr.shift()}var jr=Y.ReactCurrentBatchConfig,yi=!0;function nt(r,s,l,d){var p=Fe,g=jr.transition;jr.transition=null;try{Fe=1,Ma(r,s,l,d)}finally{Fe=p,jr.transition=g}}function jd(r,s,l,d){var p=Fe,g=jr.transition;jr.transition=null;try{Fe=4,Ma(r,s,l,d)}finally{Fe=p,jr.transition=g}}function Ma(r,s,l,d){if(yi){var p=lo(r,s,l,d);if(p===null)Qd(r,s,d,hs,l),pu(r,d);else if(Vd(p,r,s,l,d))d.stopPropagation();else if(pu(r,d),s&4&&-1<Md.indexOf(r)){for(;p!==null;){var g=Ya(p);if(g!==null&&cu(g),g=lo(r,s,l,d),g===null&&Qd(r,s,d,hs,l),g===p)break;p=g}p!==null&&d.stopPropagation()}else Qd(r,s,d,null,l)}}var hs=null;function lo(r,s,l,d){if(hs=null,r=Xs(d),r=ms(r),r!==null)if(s=Vn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=os(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return hs=r,null}function Va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(su()){case as:return 1;case ci:return 4;case Tn:case Oa:return 16;case ou:return 536870912;default:return 16}default:return 16}}var fn=null,uo=null,tn=null;function ja(){if(tn)return tn;var r,s=uo,l=s.length,d,p="value"in fn?fn.value:fn.textContent,g=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[g-d];d++);return tn=p.slice(r,1<d?1-d:void 0)}function co(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ur(){return!0}function Fa(){return!1}function Nt(r){function s(l,d,p,g,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ur:Fa,this.isPropagationStopped=Fa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),s}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Nt($n),cr=oe({},$n,{view:0,detail:0}),Fd=Nt(cr),fo,Fr,vi,fs=oe({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vi&&(vi&&r.type==="mousemove"?(fo=r.screenX-vi.screenX,Fr=r.screenY-vi.screenY):Fr=fo=0,vi=r),fo)},movementY:function(r){return"movementY"in r?r.movementY:Fr}}),po=Nt(fs),Ua=oe({},fs,{dataTransfer:0}),yu=Nt(Ua),mo=oe({},cr,{relatedTarget:0}),go=Nt(mo),vu=oe({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=Nt(vu),_u=oe({},$n,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wu=Nt(_u),Eu=oe({},$n,{data:0}),za=Nt(Eu),yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Tu[r])?!!s[r]:!1}function dr(){return xu}var u=oe({},cr,{key:function(r){if(r.key){var s=yo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=co(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(r){return r.type==="keypress"?co(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?co(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Nt(u),v=oe({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=Nt(v),$=oe({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),G=Nt($),le=oe({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Nt(le),wt=oe({},fs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Nt(wt),St=[9,13,27,32],pt=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var pn=h&&"TextEvent"in window&&!In,ps=h&&(!pt||In&&8<In&&11>=In),vo=" ",Tm=!1;function xm(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Im(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _o=!1;function XT(r,s){switch(r){case"compositionend":return Im(s);case"keypress":return s.which!==32?null:(Tm=!0,vo);case"textInput":return r=s.data,r===vo&&Tm?null:r;default:return null}}function JT(r,s){if(_o)return r==="compositionend"||!pt&&xm(r,s)?(r=ja(),tn=uo=fn=null,_o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ps&&s.locale!=="ko"?null:s.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ZT[r.type]:s==="textarea"}function Am(r,s,l,d){or(d),s=Ru(s,"onChange"),0<s.length&&(l=new ho("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ba=null,$a=null;function ex(r){Wm(r,0)}function Iu(r){var s=Io(r);if(Qe(s))return r}function tx(r,s){if(r==="change")return s}var Cm=!1;if(h){var Ud;if(h){var zd="oninput"in document;if(!zd){var Rm=document.createElement("div");Rm.setAttribute("oninput","return;"),zd=typeof Rm.oninput=="function"}Ud=zd}else Ud=!1;Cm=Ud&&(!document.documentMode||9<document.documentMode)}function Pm(){Ba&&(Ba.detachEvent("onpropertychange",km),$a=Ba=null)}function km(r){if(r.propertyName==="value"&&Iu($a)){var s=[];Am(s,$a,r,Xs(r)),Pa(ex,s)}}function nx(r,s,l){r==="focusin"?(Pm(),Ba=s,$a=l,Ba.attachEvent("onpropertychange",km)):r==="focusout"&&Pm()}function rx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Iu($a)}function ix(r,s){if(r==="click")return Iu(s)}function sx(r,s){if(r==="input"||r==="change")return Iu(s)}function ox(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Wn=typeof Object.is=="function"?Object.is:ox;function Wa(r,s){if(Wn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Wn(r[p],s[p]))return!1}return!0}function bm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Nm(r,s){var l=bm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bm(l)}}function Om(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Om(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Dm(){for(var r=window,s=ct();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ct(r.document)}return s}function Bd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ax(r){var s=Dm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Om(l.ownerDocument.documentElement,l)){if(d!==null&&Bd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!r.extend&&g>d&&(p=d,d=g,g=p),p=Nm(l,g);var E=Nm(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lx=h&&"documentMode"in document&&11>=document.documentMode,wo=null,$d=null,Ha=null,Wd=!1;function Lm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wd||wo==null||wo!==ct(d)||(d=wo,"selectionStart"in d&&Bd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ha&&Wa(Ha,d)||(Ha=d,d=Ru($d,"onSelect"),0<d.length&&(s=new ho("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=wo)))}function Su(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Eo={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},Hd={},Mm={};h&&(Mm=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Au(r){if(Hd[r])return Hd[r];if(!Eo[r])return r;var s=Eo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Mm)return Hd[r]=s[l];return r}var Vm=Au("animationend"),jm=Au("animationiteration"),Fm=Au("animationstart"),Um=Au("transitionend"),zm=new Map,Bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(r,s){zm.set(r,s),a(s,[r])}for(var qd=0;qd<Bm.length;qd++){var Kd=Bm[qd],ux=Kd.toLowerCase(),cx=Kd[0].toUpperCase()+Kd.slice(1);_i(ux,"on"+cx)}_i(Vm,"onAnimationEnd"),_i(jm,"onAnimationIteration"),_i(Fm,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Um,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dx=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function $m(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,nu(d,s,void 0,r),r.currentTarget=null}function Wm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var E=d.length-1;0<=E;E--){var N=d[E],j=N.instance,K=N.currentTarget;if(N=N.listener,j!==g&&p.isPropagationStopped())break e;$m(p,N,K),g=j}else for(E=0;E<d.length;E++){if(N=d[E],j=N.instance,K=N.currentTarget,N=N.listener,j!==g&&p.isPropagationStopped())break e;$m(p,N,K),g=j}}}if(Mn)throw r=ka,Mn=!1,ka=null,r}function Ze(r,s){var l=s[th];l===void 0&&(l=s[th]=new Set);var d=r+"__bubble";l.has(d)||(Hm(s,r,2,!1),l.add(d))}function Gd(r,s,l){var d=0;s&&(d|=4),Hm(l,r,d,s)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Ka(r){if(!r[Cu]){r[Cu]=!0,i.forEach(function(l){l!=="selectionchange"&&(dx.has(l)||Gd(l,!1,r),Gd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cu]||(s[Cu]=!0,Gd("selectionchange",!1,s))}}function Hm(r,s,l,d){switch(Va(s)){case 1:var p=nt;break;case 4:p=jd;break;default:p=Ma}l=p.bind(null,s,l,r),p=void 0,!eo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Qd(r,s,l,d,p){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var N=d.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;E=E.return}for(;N!==null;){if(E=ms(N),E===null)return;if(j=E.tag,j===5||j===6){d=g=E;continue e}N=N.parentNode}}d=d.return}Pa(function(){var K=g,ee=Xs(l),ne=[];e:{var Z=zm.get(r);if(Z!==void 0){var ce=ho,he=r;switch(r){case"keypress":if(co(l)===0)break e;case"keydown":case"keyup":ce=m;break;case"focusin":he="focus",ce=go;break;case"focusout":he="blur",ce=go;break;case"beforeblur":case"afterblur":ce=go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=G;break;case Vm:case jm:case Fm:ce=Ur;break;case Um:ce=Ke;break;case"scroll":ce=Fd;break;case"wheel":ce=Be;break;case"copy":case"cut":case"paste":ce=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=x}var me=(s&4)!==0,ht=!me&&r==="scroll",W=me?Z!==null?Z+"Capture":null:Z;me=[];for(var F=K,H;F!==null;){H=F;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,W!==null&&(ie=dt(F,W),ie!=null&&me.push(Ga(F,ie,H)))),ht)break;F=F.return}0<me.length&&(Z=new ce(Z,he,null,l,ee),ne.push({event:Z,listeners:me}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",Z&&l!==ns&&(he=l.relatedTarget||l.fromElement)&&(ms(he)||he[zr]))break e;if((ce||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(he=l.relatedTarget||l.toElement,ce=K,he=he?ms(he):null,he!==null&&(ht=Vn(he),he!==ht||he.tag!==5&&he.tag!==6)&&(he=null)):(ce=null,he=K),ce!==he)){if(me=po,ie="onMouseLeave",W="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(me=x,ie="onPointerLeave",W="onPointerEnter",F="pointer"),ht=ce==null?Z:Io(ce),H=he==null?Z:Io(he),Z=new me(ie,F+"leave",ce,l,ee),Z.target=ht,Z.relatedTarget=H,ie=null,ms(ee)===K&&(me=new me(W,F+"enter",he,l,ee),me.target=H,me.relatedTarget=ht,ie=me),ht=ie,ce&&he)t:{for(me=ce,W=he,F=0,H=me;H;H=To(H))F++;for(H=0,ie=W;ie;ie=To(ie))H++;for(;0<F-H;)me=To(me),F--;for(;0<H-F;)W=To(W),H--;for(;F--;){if(me===W||W!==null&&me===W.alternate)break t;me=To(me),W=To(W)}me=null}else me=null;ce!==null&&qm(ne,Z,ce,me,!1),he!==null&&ht!==null&&qm(ne,ht,he,me,!0)}}e:{if(Z=K?Io(K):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ye=tx;else if(Sm(Z))if(Cm)ye=sx;else{ye=rx;var Ee=nx}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=ix);if(ye&&(ye=ye(r,K))){Am(ne,ye,l,ee);break e}Ee&&Ee(r,Z,K),r==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&Gs(Z,"number",Z.value)}switch(Ee=K?Io(K):window,r){case"focusin":(Sm(Ee)||Ee.contentEditable==="true")&&(wo=Ee,$d=K,Ha=null);break;case"focusout":Ha=$d=wo=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Lm(ne,l,ee);break;case"selectionchange":if(lx)break;case"keydown":case"keyup":Lm(ne,l,ee)}var Te;if(pt)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else _o?xm(r,l)&&(Ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(ps&&l.locale!=="ko"&&(_o||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&_o&&(Te=ja()):(fn=ee,uo="value"in fn?fn.value:fn.textContent,_o=!0)),Ee=Ru(K,Ce),0<Ee.length&&(Ce=new za(Ce,r,null,l,ee),ne.push({event:Ce,listeners:Ee}),Te?Ce.data=Te:(Te=Im(l),Te!==null&&(Ce.data=Te)))),(Te=pn?XT(r,l):JT(r,l))&&(K=Ru(K,"onBeforeInput"),0<K.length&&(ee=new za("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ee,listeners:K}),ee.data=Te))}Wm(ne,s)})}function Ga(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Ru(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=dt(r,l),g!=null&&d.unshift(Ga(r,g,p)),g=dt(r,s),g!=null&&d.push(Ga(r,g,p))),r=r.return}return d}function To(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qm(r,s,l,d,p){for(var g=s._reactName,E=[];l!==null&&l!==d;){var N=l,j=N.alternate,K=N.stateNode;if(j!==null&&j===d)break;N.tag===5&&K!==null&&(N=K,p?(j=dt(l,g),j!=null&&E.unshift(Ga(l,j,N))):p||(j=dt(l,g),j!=null&&E.push(Ga(l,j,N)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var hx=/\r\n?/g,fx=/\u0000|\uFFFD/g;function Km(r){return(typeof r=="string"?r:""+r).replace(hx,`
`).replace(fx,"")}function Pu(r,s,l){if(s=Km(s),Km(r)!==s&&l)throw Error(t(425))}function ku(){}var Yd=null,Xd=null;function Jd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zd=typeof setTimeout=="function"?setTimeout:void 0,px=typeof clearTimeout=="function"?clearTimeout:void 0,Gm=typeof Promise=="function"?Promise:void 0,mx=typeof queueMicrotask=="function"?queueMicrotask:typeof Gm<"u"?function(r){return Gm.resolve(null).then(r).catch(gx)}:Zd;function gx(r){setTimeout(function(){throw r})}function eh(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Bn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Bn(s)}function wi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Qm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var xo=Math.random().toString(36).slice(2),hr="__reactFiber$"+xo,Qa="__reactProps$"+xo,zr="__reactContainer$"+xo,th="__reactEvents$"+xo,yx="__reactListeners$"+xo,vx="__reactHandles$"+xo;function ms(r){var s=r[hr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[zr]||l[hr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Qm(r);r!==null;){if(l=r[hr])return l;r=Qm(r)}return s}r=l,l=r.parentNode}return null}function Ya(r){return r=r[hr]||r[zr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Io(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function bu(r){return r[Qa]||null}var nh=[],So=-1;function Ei(r){return{current:r}}function et(r){0>So||(r.current=nh[So],nh[So]=null,So--)}function Je(r,s){So++,nh[So]=r.current,r.current=s}var Ti={},zt=Ei(Ti),nn=Ei(!1),gs=Ti;function Ao(r,s){var l=r.type.contextTypes;if(!l)return Ti;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function rn(r){return r=r.childContextTypes,r!=null}function Nu(){et(nn),et(zt)}function Ym(r,s,l){if(zt.current!==Ti)throw Error(t(168));Je(zt,s),Je(nn,l)}function Xm(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ue(r)||"Unknown",p));return oe({},l,d)}function Ou(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ti,gs=zt.current,Je(zt,r),Je(nn,nn.current),!0}function Jm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Xm(r,s,gs),d.__reactInternalMemoizedMergedChildContext=r,et(nn),et(zt),Je(zt,r)):et(nn),Je(nn,l)}var Br=null,Du=!1,rh=!1;function Zm(r){Br===null?Br=[r]:Br.push(r)}function _x(r){Du=!0,Zm(r)}function xi(){if(!rh&&Br!==null){rh=!0;var r=0,s=Fe;try{var l=Br;for(Fe=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Br=null,Du=!1}catch(p){throw Br!==null&&(Br=Br.slice(r+1)),io(as,xi),p}finally{Fe=s,rh=!1}}return null}var Co=[],Ro=0,Lu=null,Mu=0,Sn=[],An=0,ys=null,$r=1,Wr="";function vs(r,s){Co[Ro++]=Mu,Co[Ro++]=Lu,Lu=r,Mu=s}function eg(r,s,l){Sn[An++]=$r,Sn[An++]=Wr,Sn[An++]=ys,ys=r;var d=$r;r=Wr;var p=32-Yt(d)-1;d&=~(1<<p),l+=1;var g=32-Yt(s)+p;if(30<g){var E=p-p%5;g=(d&(1<<E)-1).toString(32),d>>=E,p-=E,$r=1<<32-Yt(s)+p|l<<p|d,Wr=g+r}else $r=1<<g|l<<p|d,Wr=r}function ih(r){r.return!==null&&(vs(r,1),eg(r,1,0))}function sh(r){for(;r===Lu;)Lu=Co[--Ro],Co[Ro]=null,Mu=Co[--Ro],Co[Ro]=null;for(;r===ys;)ys=Sn[--An],Sn[An]=null,Wr=Sn[--An],Sn[An]=null,$r=Sn[--An],Sn[An]=null}var mn=null,gn=null,rt=!1,Hn=null;function tg(r,s){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function ng(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mn=r,gn=wi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mn=r,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ys!==null?{id:$r,overflow:Wr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,mn=r,gn=null,!0):!1;default:return!1}}function oh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ah(r){if(rt){var s=gn;if(s){var l=s;if(!ng(r,s)){if(oh(r))throw Error(t(418));s=wi(l.nextSibling);var d=mn;s&&ng(r,s)?tg(d,l):(r.flags=r.flags&-4097|2,rt=!1,mn=r)}}else{if(oh(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,mn=r}}}function rg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mn=r}function Vu(r){if(r!==mn)return!1;if(!rt)return rg(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Jd(r.type,r.memoizedProps)),s&&(s=gn)){if(oh(r))throw ig(),Error(t(418));for(;s;)tg(r,s),s=wi(s.nextSibling)}if(rg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){gn=wi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}gn=null}}else gn=mn?wi(r.stateNode.nextSibling):null;return!0}function ig(){for(var r=gn;r;)r=wi(r.nextSibling)}function Po(){gn=mn=null,rt=!1}function lh(r){Hn===null?Hn=[r]:Hn.push(r)}var wx=Y.ReactCurrentBatchConfig;function Xa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var N=p.refs;E===null?delete N[g]:N[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function ju(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function sg(r){var s=r._init;return s(r._payload)}function og(r){function s(W,F){if(r){var H=W.deletions;H===null?(W.deletions=[F],W.flags|=16):H.push(F)}}function l(W,F){if(!r)return null;for(;F!==null;)s(W,F),F=F.sibling;return null}function d(W,F){for(W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function p(W,F){return W=bi(W,F),W.index=0,W.sibling=null,W}function g(W,F,H){return W.index=H,r?(H=W.alternate,H!==null?(H=H.index,H<F?(W.flags|=2,F):H):(W.flags|=2,F)):(W.flags|=1048576,F)}function E(W){return r&&W.alternate===null&&(W.flags|=2),W}function N(W,F,H,ie){return F===null||F.tag!==6?(F=Zh(H,W.mode,ie),F.return=W,F):(F=p(F,H),F.return=W,F)}function j(W,F,H,ie){var ye=H.type;return ye===C?ee(W,F,H.props.children,ie,H.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===_e&&sg(ye)===F.type)?(ie=p(F,H.props),ie.ref=Xa(W,F,H),ie.return=W,ie):(ie=lc(H.type,H.key,H.props,null,W.mode,ie),ie.ref=Xa(W,F,H),ie.return=W,ie)}function K(W,F,H,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=ef(H,W.mode,ie),F.return=W,F):(F=p(F,H.children||[]),F.return=W,F)}function ee(W,F,H,ie,ye){return F===null||F.tag!==7?(F=As(H,W.mode,ie,ye),F.return=W,F):(F=p(F,H),F.return=W,F)}function ne(W,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Zh(""+F,W.mode,H),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case J:return H=lc(F.type,F.key,F.props,null,W.mode,H),H.ref=Xa(W,null,F),H.return=W,H;case se:return F=ef(F,W.mode,H),F.return=W,F;case _e:var ie=F._init;return ne(W,ie(F._payload),H)}if(Nr(F)||ae(F))return F=As(F,W.mode,H,null),F.return=W,F;ju(W,F)}return null}function Z(W,F,H,ie){var ye=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ye!==null?null:N(W,F,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case J:return H.key===ye?j(W,F,H,ie):null;case se:return H.key===ye?K(W,F,H,ie):null;case _e:return ye=H._init,Z(W,F,ye(H._payload),ie)}if(Nr(H)||ae(H))return ye!==null?null:ee(W,F,H,ie,null);ju(W,H)}return null}function ce(W,F,H,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(H)||null,N(F,W,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return W=W.get(ie.key===null?H:ie.key)||null,j(F,W,ie,ye);case se:return W=W.get(ie.key===null?H:ie.key)||null,K(F,W,ie,ye);case _e:var Ee=ie._init;return ce(W,F,H,Ee(ie._payload),ye)}if(Nr(ie)||ae(ie))return W=W.get(H)||null,ee(F,W,ie,ye,null);ju(F,ie)}return null}function he(W,F,H,ie){for(var ye=null,Ee=null,Te=F,Ce=F=0,Rt=null;Te!==null&&Ce<H.length;Ce++){Te.index>Ce?(Rt=Te,Te=null):Rt=Te.sibling;var He=Z(W,Te,H[Ce],ie);if(He===null){Te===null&&(Te=Rt);break}r&&Te&&He.alternate===null&&s(W,Te),F=g(He,F,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He,Te=Rt}if(Ce===H.length)return l(W,Te),rt&&vs(W,Ce),ye;if(Te===null){for(;Ce<H.length;Ce++)Te=ne(W,H[Ce],ie),Te!==null&&(F=g(Te,F,Ce),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return rt&&vs(W,Ce),ye}for(Te=d(W,Te);Ce<H.length;Ce++)Rt=ce(Te,W,Ce,H[Ce],ie),Rt!==null&&(r&&Rt.alternate!==null&&Te.delete(Rt.key===null?Ce:Rt.key),F=g(Rt,F,Ce),Ee===null?ye=Rt:Ee.sibling=Rt,Ee=Rt);return r&&Te.forEach(function(Ni){return s(W,Ni)}),rt&&vs(W,Ce),ye}function me(W,F,H,ie){var ye=ae(H);if(typeof ye!="function")throw Error(t(150));if(H=ye.call(H),H==null)throw Error(t(151));for(var Ee=ye=null,Te=F,Ce=F=0,Rt=null,He=H.next();Te!==null&&!He.done;Ce++,He=H.next()){Te.index>Ce?(Rt=Te,Te=null):Rt=Te.sibling;var Ni=Z(W,Te,He.value,ie);if(Ni===null){Te===null&&(Te=Rt);break}r&&Te&&Ni.alternate===null&&s(W,Te),F=g(Ni,F,Ce),Ee===null?ye=Ni:Ee.sibling=Ni,Ee=Ni,Te=Rt}if(He.done)return l(W,Te),rt&&vs(W,Ce),ye;if(Te===null){for(;!He.done;Ce++,He=H.next())He=ne(W,He.value,ie),He!==null&&(F=g(He,F,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He);return rt&&vs(W,Ce),ye}for(Te=d(W,Te);!He.done;Ce++,He=H.next())He=ce(Te,W,Ce,He.value,ie),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?Ce:He.key),F=g(He,F,Ce),Ee===null?ye=He:Ee.sibling=He,Ee=He);return r&&Te.forEach(function(Zx){return s(W,Zx)}),rt&&vs(W,Ce),ye}function ht(W,F,H,ie){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case J:e:{for(var ye=H.key,Ee=F;Ee!==null;){if(Ee.key===ye){if(ye=H.type,ye===C){if(Ee.tag===7){l(W,Ee.sibling),F=p(Ee,H.props.children),F.return=W,W=F;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===_e&&sg(ye)===Ee.type){l(W,Ee.sibling),F=p(Ee,H.props),F.ref=Xa(W,Ee,H),F.return=W,W=F;break e}l(W,Ee);break}else s(W,Ee);Ee=Ee.sibling}H.type===C?(F=As(H.props.children,W.mode,ie,H.key),F.return=W,W=F):(ie=lc(H.type,H.key,H.props,null,W.mode,ie),ie.ref=Xa(W,F,H),ie.return=W,W=ie)}return E(W);case se:e:{for(Ee=H.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l(W,F.sibling),F=p(F,H.children||[]),F.return=W,W=F;break e}else{l(W,F);break}else s(W,F);F=F.sibling}F=ef(H,W.mode,ie),F.return=W,W=F}return E(W);case _e:return Ee=H._init,ht(W,F,Ee(H._payload),ie)}if(Nr(H))return he(W,F,H,ie);if(ae(H))return me(W,F,H,ie);ju(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l(W,F.sibling),F=p(F,H),F.return=W,W=F):(l(W,F),F=Zh(H,W.mode,ie),F.return=W,W=F),E(W)):l(W,F)}return ht}var ko=og(!0),ag=og(!1),Fu=Ei(null),Uu=null,bo=null,uh=null;function ch(){uh=bo=Uu=null}function dh(r){var s=Fu.current;et(Fu),r._currentValue=s}function hh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function No(r,s){Uu=r,uh=bo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(sn=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(uh!==r)if(r={context:r,memoizedValue:s,next:null},bo===null){if(Uu===null)throw Error(t(308));bo=r,Uu.dependencies={lanes:0,firstContext:r}}else bo=bo.next=r;return s}var _s=null;function fh(r){_s===null?_s=[r]:_s.push(r)}function lg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,fh(s)):(l.next=p.next,p.next=l),s.interleaved=l,Hr(r,d)}function Hr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ii=!1;function ph(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ug(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Si(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Hr(r,l)}return p=d.interleaved,p===null?(s.next=s,fh(d)):(s.next=p.next,p.next=s),d.interleaved=s,Hr(r,l)}function zu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,pi(r,l)}}function cg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Bu(r,s,l,d){var p=r.updateQueue;Ii=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var j=N,K=j.next;j.next=null,E===null?g=K:E.next=K,E=j;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==E&&(N===null?ee.firstBaseUpdate=K:N.next=K,ee.lastBaseUpdate=j))}if(g!==null){var ne=p.baseState;E=0,ee=K=j=null,N=g;do{var Z=N.lane,ce=N.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var he=r,me=N;switch(Z=s,ce=l,me.tag){case 1:if(he=me.payload,typeof he=="function"){ne=he.call(ce,ne,Z);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=me.payload,Z=typeof he=="function"?he.call(ce,ne,Z):he,Z==null)break e;ne=oe({},ne,Z);break e;case 2:Ii=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,Z=p.effects,Z===null?p.effects=[N]:Z.push(N))}else ce={eventTime:ce,lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(K=ee=ce,j=ne):ee=ee.next=ce,E|=Z;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;Z=N,N=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(ee===null&&(j=ne),p.baseState=j,p.firstBaseUpdate=K,p.lastBaseUpdate=ee,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);Ts|=E,r.lanes=E,r.memoizedState=ne}}function dg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Ja={},fr=Ei(Ja),Za=Ei(Ja),el=Ei(Ja);function ws(r){if(r===Ja)throw Error(t(174));return r}function mh(r,s){switch(Je(el,s),Je(Za,r),Je(fr,Ja),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_t(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=_t(s,r)}et(fr),Je(fr,s)}function Oo(){et(fr),et(Za),et(el)}function hg(r){ws(el.current);var s=ws(fr.current),l=_t(s,r.type);s!==l&&(Je(Za,r),Je(fr,l))}function gh(r){Za.current===r&&(et(fr),et(Za))}var it=Ei(0);function $u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yh=[];function vh(){for(var r=0;r<yh.length;r++)yh[r]._workInProgressVersionPrimary=null;yh.length=0}var Wu=Y.ReactCurrentDispatcher,_h=Y.ReactCurrentBatchConfig,Es=0,st=null,Et=null,At=null,Hu=!1,tl=!1,nl=0,Ex=0;function Bt(){throw Error(t(321))}function wh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Wn(r[l],s[l]))return!1;return!0}function Eh(r,s,l,d,p,g){if(Es=g,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wu.current=r===null||r.memoizedState===null?Sx:Ax,r=l(d,p),tl){g=0;do{if(tl=!1,nl=0,25<=g)throw Error(t(301));g+=1,At=Et=null,s.updateQueue=null,Wu.current=Cx,r=l(d,p)}while(tl)}if(Wu.current=Gu,s=Et!==null&&Et.next!==null,Es=0,At=Et=st=null,Hu=!1,s)throw Error(t(300));return r}function Th(){var r=nl!==0;return nl=0,r}function pr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=r:At=At.next=r,At}function Rn(){if(Et===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var s=At===null?st.memoizedState:At.next;if(s!==null)At=s,Et=r;else{if(r===null)throw Error(t(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?st.memoizedState=At=r:At=At.next=r}return At}function rl(r,s){return typeof s=="function"?s(r):s}function xh(r){var s=Rn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Et,p=d.baseQueue,g=l.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}d.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,d=d.baseState;var N=E=null,j=null,K=g;do{var ee=K.lane;if((Es&ee)===ee)j!==null&&(j=j.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var ne={lane:ee,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};j===null?(N=j=ne,E=d):j=j.next=ne,st.lanes|=ee,Ts|=ee}K=K.next}while(K!==null&&K!==g);j===null?E=d:j.next=N,Wn(d,s.memoizedState)||(sn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=j,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do g=p.lane,st.lanes|=g,Ts|=g,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ih(r){var s=Rn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=r(g,E.action),E=E.next;while(E!==p);Wn(g,s.memoizedState)||(sn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function fg(){}function pg(r,s){var l=st,d=Rn(),p=s(),g=!Wn(d.memoizedState,p);if(g&&(d.memoizedState=p,sn=!0),d=d.queue,Sh(yg.bind(null,l,d,r),[r]),d.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,il(9,gg.bind(null,l,d,p,s),void 0,null),Ct===null)throw Error(t(349));(Es&30)!==0||mg(l,s,p)}return p}function mg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function gg(r,s,l,d){s.value=l,s.getSnapshot=d,vg(s)&&_g(r)}function yg(r,s,l){return l(function(){vg(s)&&_g(r)})}function vg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Wn(r,l)}catch{return!0}}function _g(r){var s=Hr(r,1);s!==null&&Qn(s,r,1,-1)}function wg(r){var s=pr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:r},s.queue=r,r=r.dispatch=Ix.bind(null,st,r),[s.memoizedState,r]}function il(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Eg(){return Rn().memoizedState}function qu(r,s,l,d){var p=pr();st.flags|=r,p.memoizedState=il(1|s,l,void 0,d===void 0?null:d)}function Ku(r,s,l,d){var p=Rn();d=d===void 0?null:d;var g=void 0;if(Et!==null){var E=Et.memoizedState;if(g=E.destroy,d!==null&&wh(d,E.deps)){p.memoizedState=il(s,l,g,d);return}}st.flags|=r,p.memoizedState=il(1|s,l,g,d)}function Tg(r,s){return qu(8390656,8,r,s)}function Sh(r,s){return Ku(2048,8,r,s)}function xg(r,s){return Ku(4,2,r,s)}function Ig(r,s){return Ku(4,4,r,s)}function Sg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ag(r,s,l){return l=l!=null?l.concat([r]):null,Ku(4,4,Sg.bind(null,s,r),l)}function Ah(){}function Cg(r,s){var l=Rn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&wh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Rg(r,s){var l=Rn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&wh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Pg(r,s,l){return(Es&21)===0?(r.baseState&&(r.baseState=!1,sn=!0),r.memoizedState=l):(Wn(l,s)||(l=cs(),st.lanes|=l,Ts|=l,r.baseState=!0),s)}function Tx(r,s){var l=Fe;Fe=l!==0&&4>l?l:4,r(!0);var d=_h.transition;_h.transition={};try{r(!1),s()}finally{Fe=l,_h.transition=d}}function kg(){return Rn().memoizedState}function xx(r,s,l){var d=Pi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},bg(r))Ng(s,l);else if(l=lg(r,s,l,d),l!==null){var p=Zt();Qn(l,r,d,p),Og(l,s,d)}}function Ix(r,s,l){var d=Pi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(bg(r))Ng(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,N=g(E,l);if(p.hasEagerState=!0,p.eagerState=N,Wn(N,E)){var j=s.interleaved;j===null?(p.next=p,fh(s)):(p.next=j.next,j.next=p),s.interleaved=p;return}}catch{}finally{}l=lg(r,s,p,d),l!==null&&(p=Zt(),Qn(l,r,d,p),Og(l,s,d))}}function bg(r){var s=r.alternate;return r===st||s!==null&&s===st}function Ng(r,s){tl=Hu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Og(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,pi(r,l)}}var Gu={readContext:Cn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},Sx={readContext:Cn,useCallback:function(r,s){return pr().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:Tg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,qu(4194308,4,Sg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return qu(4194308,4,r,s)},useInsertionEffect:function(r,s){return qu(4,2,r,s)},useMemo:function(r,s){var l=pr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=pr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=xx.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var s=pr();return r={current:r},s.memoizedState=r},useState:wg,useDebugValue:Ah,useDeferredValue:function(r){return pr().memoizedState=r},useTransition:function(){var r=wg(!1),s=r[0];return r=Tx.bind(null,r[1]),pr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=st,p=pr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ct===null)throw Error(t(349));(Es&30)!==0||mg(d,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,Tg(yg.bind(null,d,g,r),[r]),d.flags|=2048,il(9,gg.bind(null,d,g,l,s),void 0,null),l},useId:function(){var r=pr(),s=Ct.identifierPrefix;if(rt){var l=Wr,d=$r;l=(d&~(1<<32-Yt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=nl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Ex++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Ax={readContext:Cn,useCallback:Cg,useContext:Cn,useEffect:Sh,useImperativeHandle:Ag,useInsertionEffect:xg,useLayoutEffect:Ig,useMemo:Rg,useReducer:xh,useRef:Eg,useState:function(){return xh(rl)},useDebugValue:Ah,useDeferredValue:function(r){var s=Rn();return Pg(s,Et.memoizedState,r)},useTransition:function(){var r=xh(rl)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:fg,useSyncExternalStore:pg,useId:kg,unstable_isNewReconciler:!1},Cx={readContext:Cn,useCallback:Cg,useContext:Cn,useEffect:Sh,useImperativeHandle:Ag,useInsertionEffect:xg,useLayoutEffect:Ig,useMemo:Rg,useReducer:Ih,useRef:Eg,useState:function(){return Ih(rl)},useDebugValue:Ah,useDeferredValue:function(r){var s=Rn();return Et===null?s.memoizedState=r:Pg(s,Et.memoizedState,r)},useTransition:function(){var r=Ih(rl)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:fg,useSyncExternalStore:pg,useId:kg,unstable_isNewReconciler:!1};function qn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Ch(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Qu={isMounted:function(r){return(r=r._reactInternals)?Vn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Zt(),p=Pi(r),g=qr(d,p);g.payload=s,l!=null&&(g.callback=l),s=Si(r,g,p),s!==null&&(Qn(s,r,p,d),zu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Zt(),p=Pi(r),g=qr(d,p);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Si(r,g,p),s!==null&&(Qn(s,r,p,d),zu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Zt(),d=Pi(r),p=qr(l,d);p.tag=2,s!=null&&(p.callback=s),s=Si(r,p,d),s!==null&&(Qn(s,r,d,l),zu(s,r,d))}};function Dg(r,s,l,d,p,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,E):s.prototype&&s.prototype.isPureReactComponent?!Wa(l,d)||!Wa(p,g):!0}function Lg(r,s,l){var d=!1,p=Ti,g=s.contextType;return typeof g=="object"&&g!==null?g=Cn(g):(p=rn(s)?gs:zt.current,d=s.contextTypes,g=(d=d!=null)?Ao(r,p):Ti),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Qu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function Mg(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Qu.enqueueReplaceState(s,s.state,null)}function Rh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},ph(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Cn(g):(g=rn(s)?gs:zt.current,p.context=Ao(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Ch(r,s,g,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Qu.enqueueReplaceState(p,p.state,null),Bu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Do(r,s){try{var l="",d=s;do l+=Re(d),d=d.return;while(d);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function Ph(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function kh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Rx=typeof WeakMap=="function"?WeakMap:Map;function Vg(r,s,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){nc||(nc=!0,Hh=d),kh(r,s)},l}function jg(r,s,l){l=qr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){kh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){kh(r,s),typeof d!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Fg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new Rx;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=Bx.bind(null,r,s,l),s.then(r,r))}function Ug(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function zg(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=qr(-1,1),s.tag=2,Si(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Px=Y.ReactCurrentOwner,sn=!1;function Jt(r,s,l,d){s.child=r===null?ag(s,null,l,d):ko(s,r.child,l,d)}function Bg(r,s,l,d,p){l=l.render;var g=s.ref;return No(s,p),d=Eh(r,s,l,d,g,p),l=Th(),r!==null&&!sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Kr(r,s,p)):(rt&&l&&ih(s),s.flags|=1,Jt(r,s,d,p),s.child)}function $g(r,s,l,d,p){if(r===null){var g=l.type;return typeof g=="function"&&!Jh(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Wg(r,s,g,d,p)):(r=lc(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&p)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Wa,l(E,d)&&r.ref===s.ref)return Kr(r,s,p)}return s.flags|=1,r=bi(g,d),r.ref=s.ref,r.return=s,s.child=r}function Wg(r,s,l,d,p){if(r!==null){var g=r.memoizedProps;if(Wa(g,d)&&r.ref===s.ref)if(sn=!1,s.pendingProps=d=g,(r.lanes&p)!==0)(r.flags&131072)!==0&&(sn=!0);else return s.lanes=r.lanes,Kr(r,s,p)}return bh(r,s,l,d,p)}function Hg(r,s,l){var d=s.pendingProps,p=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Mo,yn),yn|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(Mo,yn),yn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,Je(Mo,yn),yn|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,Je(Mo,yn),yn|=d;return Jt(r,s,p,l),s.child}function qg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function bh(r,s,l,d,p){var g=rn(l)?gs:zt.current;return g=Ao(s,g),No(s,p),l=Eh(r,s,l,d,g,p),d=Th(),r!==null&&!sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Kr(r,s,p)):(rt&&d&&ih(s),s.flags|=1,Jt(r,s,l,p),s.child)}function Kg(r,s,l,d,p){if(rn(l)){var g=!0;Ou(s)}else g=!1;if(No(s,p),s.stateNode===null)Xu(r,s),Lg(s,l,d),Rh(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,N=s.memoizedProps;E.props=N;var j=E.context,K=l.contextType;typeof K=="object"&&K!==null?K=Cn(K):(K=rn(l)?gs:zt.current,K=Ao(s,K));var ee=l.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==d||j!==K)&&Mg(s,E,d,K),Ii=!1;var Z=s.memoizedState;E.state=Z,Bu(s,d,E,p),j=s.memoizedState,N!==d||Z!==j||nn.current||Ii?(typeof ee=="function"&&(Ch(s,l,ee,d),j=s.memoizedState),(N=Ii||Dg(s,l,N,d,Z,j,K))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),E.props=d,E.state=j,E.context=K,d=N):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,ug(r,s),N=s.memoizedProps,K=s.type===s.elementType?N:qn(s.type,N),E.props=K,ne=s.pendingProps,Z=E.context,j=l.contextType,typeof j=="object"&&j!==null?j=Cn(j):(j=rn(l)?gs:zt.current,j=Ao(s,j));var ce=l.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==ne||Z!==j)&&Mg(s,E,d,j),Ii=!1,Z=s.memoizedState,E.state=Z,Bu(s,d,E,p);var he=s.memoizedState;N!==ne||Z!==he||nn.current||Ii?(typeof ce=="function"&&(Ch(s,l,ce,d),he=s.memoizedState),(K=Ii||Dg(s,l,K,d,Z,he,j)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,he,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,he,j)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=he),E.props=d,E.state=he,E.context=j,d=K):(typeof E.componentDidUpdate!="function"||N===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),d=!1)}return Nh(r,s,l,d,g,p)}function Nh(r,s,l,d,p,g){qg(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&Jm(s,l,!1),Kr(r,s,g);d=s.stateNode,Px.current=s;var N=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=ko(s,r.child,null,g),s.child=ko(s,null,N,g)):Jt(r,s,N,g),s.memoizedState=d.state,p&&Jm(s,l,!0),s.child}function Gg(r){var s=r.stateNode;s.pendingContext?Ym(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Ym(r,s.context,!1),mh(r,s.containerInfo)}function Qg(r,s,l,d,p){return Po(),lh(p),s.flags|=256,Jt(r,s,l,d),s.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Dh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Yg(r,s,l){var d=s.pendingProps,p=it.current,g=!1,E=(s.flags&128)!==0,N;if((N=E)||(N=r!==null&&r.memoizedState===null?!1:(p&2)!==0),N?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Je(it,p&1),r===null)return ah(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,r=d.fallback,g?(d=s.mode,g=s.child,E={mode:"hidden",children:E},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=uc(E,d,0,null),r=As(r,d,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Dh(l),s.memoizedState=Oh,r):Lh(s,E));if(p=r.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return kx(r,s,E,d,N,p,l);if(g){g=d.fallback,E=s.mode,p=r.child,N=p.sibling;var j={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=bi(p,j),d.subtreeFlags=p.subtreeFlags&14680064),N!==null?g=bi(N,g):(g=As(g,E,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,E=r.child.memoizedState,E=E===null?Dh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=Oh,d}return g=r.child,r=g.sibling,d=bi(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Lh(r,s){return s=uc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Yu(r,s,l,d){return d!==null&&lh(d),ko(s,r.child,null,l),r=Lh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function kx(r,s,l,d,p,g,E){if(l)return s.flags&256?(s.flags&=-257,d=Ph(Error(t(422))),Yu(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,p=s.mode,d=uc({mode:"visible",children:d.children},p,0,null),g=As(g,p,E,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&ko(s,r.child,null,E),s.child.memoizedState=Dh(E),s.memoizedState=Oh,g);if((s.mode&1)===0)return Yu(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var N=d.dgst;return d=N,g=Error(t(419)),d=Ph(g,d,void 0),Yu(r,s,E,d)}if(N=(E&r.childLanes)!==0,sn||N){if(d=Ct,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Hr(r,p),Qn(d,r,p,-1))}return Xh(),d=Ph(Error(t(421))),Yu(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=$x.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,gn=wi(p.nextSibling),mn=s,rt=!0,Hn=null,r!==null&&(Sn[An++]=$r,Sn[An++]=Wr,Sn[An++]=ys,$r=r.id,Wr=r.overflow,ys=s),s=Lh(s,d.children),s.flags|=4096,s)}function Xg(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),hh(r.return,s,l)}function Mh(r,s,l,d,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=p)}function Jg(r,s,l){var d=s.pendingProps,p=d.revealOrder,g=d.tail;if(Jt(r,s,d.children,l),d=it.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Xg(r,l,s);else if(r.tag===19)Xg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Je(it,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&$u(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Mh(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&$u(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Mh(s,!0,l,null,g);break;case"together":Mh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Kr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ts|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=bi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=bi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function bx(r,s,l){switch(s.tag){case 3:Gg(s),Po();break;case 5:hg(s);break;case 1:rn(s.type)&&Ou(s);break;case 4:mh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Je(Fu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Je(it,it.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Yg(r,s,l):(Je(it,it.current&1),r=Kr(r,s,l),r!==null?r.sibling:null);Je(it,it.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Jg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Je(it,it.current),d)break;return null;case 22:case 23:return s.lanes=0,Hg(r,s,l)}return Kr(r,s,l)}var Zg,Vh,ey,ty;Zg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Vh=function(){},ey=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,ws(fr.current);var g=null;switch(l){case"input":p=Qt(r,p),d=Qt(r,d),g=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),g=[];break;case"textarea":p=_a(r,p),d=_a(r,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ku)}Sa(l,d);var E;l=null;for(K in p)if(!d.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var N=p[K];for(E in N)N.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in d){var j=d[K];if(N=p?.[K],d.hasOwnProperty(K)&&j!==N&&(j!=null||N!=null))if(K==="style")if(N){for(E in N)!N.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in j)j.hasOwnProperty(E)&&N[E]!==j[E]&&(l||(l={}),l[E]=j[E])}else l||(g||(g=[]),g.push(K,l)),l=j;else K==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,N=N?N.__html:void 0,j!=null&&N!==j&&(g=g||[]).push(K,j)):K==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(K,""+j):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(j!=null&&K==="onScroll"&&Ze("scroll",r),g||N===j||(g=[])):(g=g||[]).push(K,j))}l&&(g=g||[]).push("style",l);var K=g;(s.updateQueue=K)&&(s.flags|=4)}},ty=function(r,s,l,d){l!==d&&(s.flags|=4)};function sl(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function $t(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function Nx(r,s,l){var d=s.pendingProps;switch(sh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return rn(s.type)&&Nu(),$t(s),null;case 3:return d=s.stateNode,Oo(),et(nn),et(zt),vh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hn!==null&&(Gh(Hn),Hn=null))),Vh(r,s),$t(s),null;case 5:gh(s);var p=ws(el.current);if(l=s.type,r!==null&&s.stateNode!=null)ey(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(r=ws(fr.current),Vu(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[hr]=s,d[Qa]=g,r=(s.mode&1)!==0,l){case"dialog":Ze("cancel",d),Ze("close",d);break;case"iframe":case"object":case"embed":Ze("load",d);break;case"video":case"audio":for(p=0;p<qa.length;p++)Ze(qa[p],d);break;case"source":Ze("error",d);break;case"img":case"image":case"link":Ze("error",d),Ze("load",d);break;case"details":Ze("toggle",d);break;case"input":ir(d,g),Ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Ze("invalid",d);break;case"textarea":Qs(d,g),Ze("invalid",d)}Sa(l,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var N=g[E];E==="children"?typeof N=="string"?d.textContent!==N&&(g.suppressHydrationWarning!==!0&&Pu(d.textContent,N,r),p=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(g.suppressHydrationWarning!==!0&&Pu(d.textContent,N,r),p=["children",""+N]):o.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&Ze("scroll",d)}switch(l){case"input":ze(d),tu(d,g,!0);break;case"textarea":ze(d),wa(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=ku)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[hr]=s,r[Qa]=d,Zg(r,s,!1,!1),s.stateNode=r;e:{switch(E=Aa(l,d),l){case"dialog":Ze("cancel",r),Ze("close",r),p=d;break;case"iframe":case"object":case"embed":Ze("load",r),p=d;break;case"video":case"audio":for(p=0;p<qa.length;p++)Ze(qa[p],r);p=d;break;case"source":Ze("error",r),p=d;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),p=d;break;case"details":Ze("toggle",r),p=d;break;case"input":ir(r,d),p=Qt(r,d),Ze("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),Ze("invalid",r);break;case"textarea":Qs(r,d),p=_a(r,d),Ze("invalid",r);break;default:p=d}Sa(l,p),N=p;for(g in N)if(N.hasOwnProperty(g)){var j=N[g];g==="style"?xa(r,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ea(r,j)):g==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&ui(r,j):typeof j=="number"&&ui(r,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?j!=null&&g==="onScroll"&&Ze("scroll",r):j!=null&&q(r,g,j,E))}switch(l){case"input":ze(r),tu(r,d,!1);break;case"textarea":ze(r),wa(r);break;case"option":d.value!=null&&r.setAttribute("value",""+we(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Or(r,!!d.multiple,g,!1):d.defaultValue!=null&&Or(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ku)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(r&&s.stateNode!=null)ty(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=ws(el.current),ws(fr.current),Vu(s)){if(d=s.stateNode,l=s.memoizedProps,d[hr]=s,(g=d.nodeValue!==l)&&(r=mn,r!==null))switch(r.tag){case 3:Pu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Pu(d.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[hr]=s,s.stateNode=d}return $t(s),null;case 13:if(et(it),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ig(),Po(),s.flags|=98560,g=!1;else if(g=Vu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[hr]=s}else Po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),g=!1}else Hn!==null&&(Gh(Hn),Hn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(it.current&1)!==0?Tt===0&&(Tt=3):Xh())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return Oo(),Vh(r,s),r===null&&Ka(s.stateNode.containerInfo),$t(s),null;case 10:return dh(s.type._context),$t(s),null;case 17:return rn(s.type)&&Nu(),$t(s),null;case 19:if(et(it),g=s.memoizedState,g===null)return $t(s),null;if(d=(s.flags&128)!==0,E=g.rendering,E===null)if(d)sl(g,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=$u(r),E!==null){for(s.flags|=128,sl(g,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,r=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Je(it,it.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>Vo&&(s.flags|=128,d=!0,sl(g,!1),s.lanes=4194304)}else{if(!d)if(r=$u(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),sl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!rt)return $t(s),null}else 2*Xe()-g.renderingStartTime>Vo&&l!==1073741824&&(s.flags|=128,d=!0,sl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,l=it.current,Je(it,d?l&1|2:l&1),s):($t(s),null);case 22:case 23:return Yh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(yn&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Ox(r,s){switch(sh(s),s.tag){case 1:return rn(s.type)&&Nu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Oo(),et(nn),et(zt),vh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return gh(s),null;case 13:if(et(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Po()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return et(it),null;case 4:return Oo(),null;case 10:return dh(s.type._context),null;case 22:case 23:return Yh(),null;case 24:return null;default:return null}}var Ju=!1,Wt=!1,Dx=typeof WeakSet=="function"?WeakSet:Set,de=null;function Lo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){at(r,s,d)}else l.current=null}function jh(r,s,l){try{l()}catch(d){at(r,s,d)}}var ny=!1;function Lx(r,s){if(Yd=yi,r=Dm(),Bd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,N=-1,j=-1,K=0,ee=0,ne=r,Z=null;t:for(;;){for(var ce;ne!==l||p!==0&&ne.nodeType!==3||(N=E+p),ne!==g||d!==0&&ne.nodeType!==3||(j=E+d),ne.nodeType===3&&(E+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)Z=ne,ne=ce;for(;;){if(ne===r)break t;if(Z===l&&++K===p&&(N=E),Z===g&&++ee===d&&(j=E),(ce=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ce}l=N===-1||j===-1?null:{start:N,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xd={focusedElem:r,selectionRange:l},yi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var me=he.memoizedProps,ht=he.memoizedState,W=s.stateNode,F=W.getSnapshotBeforeUpdate(s.elementType===s.type?me:qn(s.type,me),ht);W.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){at(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return he=ny,ny=!1,he}function ol(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&jh(s,l,g)}p=p.next}while(p!==d)}}function Zu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Fh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function ry(r){var s=r.alternate;s!==null&&(r.alternate=null,ry(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[hr],delete s[Qa],delete s[th],delete s[yx],delete s[vx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function iy(r){return r.tag===5||r.tag===3||r.tag===4}function sy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||iy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Uh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ku));else if(d!==4&&(r=r.child,r!==null))for(Uh(r,s,l),r=r.sibling;r!==null;)Uh(r,s,l),r=r.sibling}function zh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(zh(r,s,l),r=r.sibling;r!==null;)zh(r,s,l),r=r.sibling}var Ot=null,Kn=!1;function Ai(r,s,l){for(l=l.child;l!==null;)oy(r,s,l),l=l.sibling}function oy(r,s,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ls,l)}catch{}switch(l.tag){case 5:Wt||Lo(l,s);case 6:var d=Ot,p=Kn;Ot=null,Ai(r,s,l),Ot=d,Kn=p,Ot!==null&&(Kn?(r=Ot,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Kn?(r=Ot,l=l.stateNode,r.nodeType===8?eh(r.parentNode,l):r.nodeType===1&&eh(r,l),Bn(r)):eh(Ot,l.stateNode));break;case 4:d=Ot,p=Kn,Ot=l.stateNode.containerInfo,Kn=!0,Ai(r,s,l),Ot=d,Kn=p;break;case 0:case 11:case 14:case 15:if(!Wt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&jh(l,s,E),p=p.next}while(p!==d)}Ai(r,s,l);break;case 1:if(!Wt&&(Lo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){at(l,s,N)}Ai(r,s,l);break;case 21:Ai(r,s,l);break;case 22:l.mode&1?(Wt=(d=Wt)||l.memoizedState!==null,Ai(r,s,l),Wt=d):Ai(r,s,l);break;default:Ai(r,s,l)}}function ay(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Dx),s.forEach(function(d){var p=Wx.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Gn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var g=r,E=s,N=E;e:for(;N!==null;){switch(N.tag){case 5:Ot=N.stateNode,Kn=!1;break e;case 3:Ot=N.stateNode.containerInfo,Kn=!0;break e;case 4:Ot=N.stateNode.containerInfo,Kn=!0;break e}N=N.return}if(Ot===null)throw Error(t(160));oy(g,E,p),Ot=null,Kn=!1;var j=p.alternate;j!==null&&(j.return=null),p.return=null}catch(K){at(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ly(s,r),s=s.sibling}function ly(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Gn(s,r),mr(r),d&4){try{ol(3,r,r.return),Zu(3,r)}catch(me){at(r,r.return,me)}try{ol(5,r,r.return)}catch(me){at(r,r.return,me)}}break;case 1:Gn(s,r),mr(r),d&512&&l!==null&&Lo(l,l.return);break;case 5:if(Gn(s,r),mr(r),d&512&&l!==null&&Lo(l,l.return),r.flags&32){var p=r.stateNode;try{ui(p,"")}catch(me){at(r,r.return,me)}}if(d&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,N=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{N==="input"&&g.type==="radio"&&g.name!=null&&kr(p,g),Aa(N,E);var K=Aa(N,g);for(E=0;E<j.length;E+=2){var ee=j[E],ne=j[E+1];ee==="style"?xa(p,ne):ee==="dangerouslySetInnerHTML"?Ea(p,ne):ee==="children"?ui(p,ne):q(p,ee,ne,K)}switch(N){case"input":br(p,g);break;case"textarea":Ys(p,g);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?Or(p,!!g.multiple,ce,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Or(p,!!g.multiple,g.defaultValue,!0):Or(p,!!g.multiple,g.multiple?[]:"",!1))}p[Qa]=g}catch(me){at(r,r.return,me)}}break;case 6:if(Gn(s,r),mr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(me){at(r,r.return,me)}}break;case 3:if(Gn(s,r),mr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Bn(s.containerInfo)}catch(me){at(r,r.return,me)}break;case 4:Gn(s,r),mr(r);break;case 13:Gn(s,r),mr(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Wh=Xe())),d&4&&ay(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(Wt=(K=Wt)||ee,Gn(s,r),Wt=K):Gn(s,r),mr(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!ee&&(r.mode&1)!==0)for(de=r,ee=r.child;ee!==null;){for(ne=de=ee;de!==null;){switch(Z=de,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:ol(4,Z,Z.return);break;case 1:Lo(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){d=Z,l=Z.return;try{s=d,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(me){at(d,l,me)}}break;case 5:Lo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){dy(ne);continue}}ce!==null?(ce.return=Z,de=ce):dy(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{p=ne.stateNode,K?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(N=ne.stateNode,j=ne.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,N.style.display=Ta("display",E))}catch(me){at(r,r.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(me){at(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Gn(s,r),mr(r),d&4&&ay(r);break;case 21:break;default:Gn(s,r),mr(r)}}function mr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(iy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(ui(p,""),d.flags&=-33);var g=sy(r);zh(r,g,p);break;case 3:case 4:var E=d.stateNode.containerInfo,N=sy(r);Uh(r,N,E);break;default:throw Error(t(161))}}catch(j){at(r,r.return,j)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Mx(r,s,l){de=r,uy(r)}function uy(r,s,l){for(var d=(r.mode&1)!==0;de!==null;){var p=de,g=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Ju;if(!E){var N=p.alternate,j=N!==null&&N.memoizedState!==null||Wt;N=Ju;var K=Wt;if(Ju=E,(Wt=j)&&!K)for(de=p;de!==null;)E=de,j=E.child,E.tag===22&&E.memoizedState!==null?hy(p):j!==null?(j.return=E,de=j):hy(p);for(;g!==null;)de=g,uy(g),g=g.sibling;de=p,Ju=N,Wt=K}cy(r)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,de=g):cy(r)}}function cy(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Wt||Zu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Wt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:qn(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&dg(s,g,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}dg(s,E,l)}break;case 5:var N=s.stateNode;if(l===null&&s.flags&4){l=N;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ee=K.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Bn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||s.flags&512&&Fh(s)}catch(Z){at(s,s.return,Z)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function dy(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function hy(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Zu(4,s)}catch(j){at(s,l,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(j){at(s,p,j)}}var g=s.return;try{Fh(s)}catch(j){at(s,g,j)}break;case 5:var E=s.return;try{Fh(s)}catch(j){at(s,E,j)}}}catch(j){at(s,s.return,j)}if(s===r){de=null;break}var N=s.sibling;if(N!==null){N.return=s.return,de=N;break}de=s.return}}var Vx=Math.ceil,ec=Y.ReactCurrentDispatcher,Bh=Y.ReactCurrentOwner,Pn=Y.ReactCurrentBatchConfig,We=0,Ct=null,mt=null,Dt=0,yn=0,Mo=Ei(0),Tt=0,al=null,Ts=0,tc=0,$h=0,ll=null,on=null,Wh=0,Vo=1/0,Gr=null,nc=!1,Hh=null,Ci=null,rc=!1,Ri=null,ic=0,ul=0,qh=null,sc=-1,oc=0;function Zt(){return(We&6)!==0?Xe():sc!==-1?sc:sc=Xe()}function Pi(r){return(r.mode&1)===0?1:(We&2)!==0&&Dt!==0?Dt&-Dt:wx.transition!==null?(oc===0&&(oc=cs()),oc):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:Va(r.type)),r)}function Qn(r,s,l,d){if(50<ul)throw ul=0,qh=null,Error(t(185));fi(r,l,d),((We&2)===0||r!==Ct)&&(r===Ct&&((We&2)===0&&(tc|=l),Tt===4&&ki(r,Dt)),an(r,d),l===1&&We===0&&(s.mode&1)===0&&(Vo=Xe()+500,Du&&xi()))}function an(r,s){var l=r.callbackNode;Mr(r,s);var d=us(r,r===Ct?Dt:0);if(d===0)l!==null&&Na(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Na(l),s===1)r.tag===0?_x(py.bind(null,r)):Zm(py.bind(null,r)),mx(function(){(We&6)===0&&xi()}),l=null;else{switch(mi(d)){case 1:l=as;break;case 4:l=ci;break;case 16:l=Tn;break;case 536870912:l=ou;break;default:l=Tn}l=Ty(l,fy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function fy(r,s){if(sc=-1,oc=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(jo()&&r.callbackNode!==l)return null;var d=us(r,r===Ct?Dt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=ac(r,d);else{s=d;var p=We;We|=2;var g=gy();(Ct!==r||Dt!==s)&&(Gr=null,Vo=Xe()+500,Is(r,s));do try{Ux();break}catch(N){my(r,N)}while(!0);ch(),ec.current=g,We=p,mt!==null?s=0:(Ct=null,Dt=0,s=Tt)}if(s!==0){if(s===2&&(p=hn(r),p!==0&&(d=p,s=Kh(r,p))),s===1)throw l=al,Is(r,0),ki(r,d),an(r,Xe()),l;if(s===6)ki(r,d);else{if(p=r.current.alternate,(d&30)===0&&!jx(p)&&(s=ac(r,d),s===2&&(g=hn(r),g!==0&&(d=g,s=Kh(r,g))),s===1))throw l=al,Is(r,0),ki(r,d),an(r,Xe()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Ss(r,on,Gr);break;case 3:if(ki(r,d),(d&130023424)===d&&(s=Wh+500-Xe(),10<s)){if(us(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Zt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Zd(Ss.bind(null,r,on,Gr),s);break}Ss(r,on,Gr);break;case 4:if(ki(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Yt(d);g=1<<E,E=s[E],E>p&&(p=E),d&=~g}if(d=p,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Vx(d/1960))-d,10<d){r.timeoutHandle=Zd(Ss.bind(null,r,on,Gr),d);break}Ss(r,on,Gr);break;case 5:Ss(r,on,Gr);break;default:throw Error(t(329))}}}return an(r,Xe()),r.callbackNode===l?fy.bind(null,r):null}function Kh(r,s){var l=ll;return r.current.memoizedState.isDehydrated&&(Is(r,s).flags|=256),r=ac(r,s),r!==2&&(s=on,on=l,s!==null&&Gh(s)),r}function Gh(r){on===null?on=r:on.push.apply(on,r)}function jx(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],g=p.getSnapshot;p=p.value;try{if(!Wn(g(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(r,s){for(s&=~$h,s&=~tc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Yt(s),d=1<<l;r[l]=-1,s&=~d}}function py(r){if((We&6)!==0)throw Error(t(327));jo();var s=us(r,0);if((s&1)===0)return an(r,Xe()),null;var l=ac(r,s);if(r.tag!==0&&l===2){var d=hn(r);d!==0&&(s=d,l=Kh(r,d))}if(l===1)throw l=al,Is(r,0),ki(r,s),an(r,Xe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ss(r,on,Gr),an(r,Xe()),null}function Qh(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(Vo=Xe()+500,Du&&xi())}}function xs(r){Ri!==null&&Ri.tag===0&&(We&6)===0&&jo();var s=We;We|=1;var l=Pn.transition,d=Fe;try{if(Pn.transition=null,Fe=1,r)return r()}finally{Fe=d,Pn.transition=l,We=s,(We&6)===0&&xi()}}function Yh(){yn=Mo.current,et(Mo)}function Is(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,px(l)),mt!==null)for(l=mt.return;l!==null;){var d=l;switch(sh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Nu();break;case 3:Oo(),et(nn),et(zt),vh();break;case 5:gh(d);break;case 4:Oo();break;case 13:et(it);break;case 19:et(it);break;case 10:dh(d.type._context);break;case 22:case 23:Yh()}l=l.return}if(Ct=r,mt=r=bi(r.current,null),Dt=yn=s,Tt=0,al=null,$h=tc=Ts=0,on=ll=null,_s!==null){for(s=0;s<_s.length;s++)if(l=_s[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=p,d.next=E}l.pending=d}_s=null}return r}function my(r,s){do{var l=mt;try{if(ch(),Wu.current=Gu,Hu){for(var d=st.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Hu=!1}if(Es=0,At=Et=st=null,tl=!1,nl=0,Bh.current=null,l===null||l.return===null){Tt=1,al=s,mt=null;break}e:{var g=r,E=l.return,N=l,j=s;if(s=Dt,N.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=j,ee=N,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=Ug(E);if(ce!==null){ce.flags&=-257,zg(ce,E,N,g,s),ce.mode&1&&Fg(g,K,s),s=ce,j=K;var he=s.updateQueue;if(he===null){var me=new Set;me.add(j),s.updateQueue=me}else he.add(j);break e}else{if((s&1)===0){Fg(g,K,s),Xh();break e}j=Error(t(426))}}else if(rt&&N.mode&1){var ht=Ug(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),zg(ht,E,N,g,s),lh(Do(j,N));break e}}g=j=Do(j,N),Tt!==4&&(Tt=2),ll===null?ll=[g]:ll.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var W=Vg(g,j,s);cg(g,W);break e;case 1:N=j;var F=g.type,H=g.stateNode;if((g.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ci===null||!Ci.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var ie=jg(g,N,s);cg(g,ie);break e}}g=g.return}while(g!==null)}vy(l)}catch(ye){s=ye,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function gy(){var r=ec.current;return ec.current=Gu,r===null?Gu:r}function Xh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ct===null||(Ts&268435455)===0&&(tc&268435455)===0||ki(Ct,Dt)}function ac(r,s){var l=We;We|=2;var d=gy();(Ct!==r||Dt!==s)&&(Gr=null,Is(r,s));do try{Fx();break}catch(p){my(r,p)}while(!0);if(ch(),We=l,ec.current=d,mt!==null)throw Error(t(261));return Ct=null,Dt=0,Tt}function Fx(){for(;mt!==null;)yy(mt)}function Ux(){for(;mt!==null&&!iu();)yy(mt)}function yy(r){var s=Ey(r.alternate,r,yn);r.memoizedProps=r.pendingProps,s===null?vy(r):mt=s,Bh.current=null}function vy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=Nx(l,s,yn),l!==null){mt=l;return}}else{if(l=Ox(l,s),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Tt=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);Tt===0&&(Tt=5)}function Ss(r,s,l){var d=Fe,p=Pn.transition;try{Pn.transition=null,Fe=1,zx(r,s,l,d)}finally{Pn.transition=p,Fe=d}return null}function zx(r,s,l,d){do jo();while(Ri!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Ye(r,g),r===Ct&&(mt=Ct=null,Dt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||rc||(rc=!0,Ty(Tn,function(){return jo(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Pn.transition,Pn.transition=null;var E=Fe;Fe=1;var N=We;We|=4,Bh.current=null,Lx(r,l),ly(l,r),ax(Xd),yi=!!Yd,Xd=Yd=null,r.current=l,Mx(l),Dd(),We=N,Fe=E,Pn.transition=g}else r.current=l;if(rc&&(rc=!1,Ri=r,ic=p),g=r.pendingLanes,g===0&&(Ci=null),au(l.stateNode),an(r,Xe()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(nc)throw nc=!1,r=Hh,Hh=null,r;return(ic&1)!==0&&r.tag!==0&&jo(),g=r.pendingLanes,(g&1)!==0?r===qh?ul++:(ul=0,qh=r):ul=0,xi(),null}function jo(){if(Ri!==null){var r=mi(ic),s=Pn.transition,l=Fe;try{if(Pn.transition=null,Fe=16>r?16:r,Ri===null)var d=!1;else{if(r=Ri,Ri=null,ic=0,(We&6)!==0)throw Error(t(331));var p=We;for(We|=4,de=r.current;de!==null;){var g=de,E=g.child;if((de.flags&16)!==0){var N=g.deletions;if(N!==null){for(var j=0;j<N.length;j++){var K=N[j];for(de=K;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:ol(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,de=ne;else for(;de!==null;){ee=de;var Z=ee.sibling,ce=ee.return;if(ry(ee),ee===K){de=null;break}if(Z!==null){Z.return=ce,de=Z;break}de=ce}}}var he=g.alternate;if(he!==null){var me=he.child;if(me!==null){he.child=null;do{var ht=me.sibling;me.sibling=null,me=ht}while(me!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,de=E;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ol(9,g,g.return)}var W=g.sibling;if(W!==null){W.return=g.return,de=W;break e}de=g.return}}var F=r.current;for(de=F;de!==null;){E=de;var H=E.child;if((E.subtreeFlags&2064)!==0&&H!==null)H.return=E,de=H;else e:for(E=F;de!==null;){if(N=de,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Zu(9,N)}}catch(ye){at(N,N.return,ye)}if(N===E){de=null;break e}var ie=N.sibling;if(ie!==null){ie.return=N.return,de=ie;break e}de=N.return}}if(We=p,xi(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ls,r)}catch{}d=!0}return d}finally{Fe=l,Pn.transition=s}}return!1}function _y(r,s,l){s=Do(l,s),s=Vg(r,s,1),r=Si(r,s,1),s=Zt(),r!==null&&(fi(r,1,s),an(r,s))}function at(r,s,l){if(r.tag===3)_y(r,r,l);else for(;s!==null;){if(s.tag===3){_y(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))){r=Do(l,r),r=jg(s,r,1),s=Si(s,r,1),r=Zt(),s!==null&&(fi(s,1,r),an(s,r));break}}s=s.return}}function Bx(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Zt(),r.pingedLanes|=r.suspendedLanes&l,Ct===r&&(Dt&l)===l&&(Tt===4||Tt===3&&(Dt&130023424)===Dt&&500>Xe()-Wh?Is(r,0):$h|=l),an(r,s)}function wy(r,s){s===0&&((r.mode&1)===0?s=1:(s=oo,oo<<=1,(oo&130023424)===0&&(oo=4194304)));var l=Zt();r=Hr(r,s),r!==null&&(fi(r,s,l),an(r,l))}function $x(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),wy(r,l)}function Wx(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),wy(r,l)}var Ey;Ey=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||nn.current)sn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return sn=!1,bx(r,s,l);sn=(r.flags&131072)!==0}else sn=!1,rt&&(s.flags&1048576)!==0&&eg(s,Mu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Xu(r,s),r=s.pendingProps;var p=Ao(s,zt.current);No(s,l),p=Eh(null,s,d,r,p,l);var g=Th();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(d)?(g=!0,Ou(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ph(s),p.updater=Qu,s.stateNode=p,p._reactInternals=s,Rh(s,d,r,l),s=Nh(null,s,d,!0,g,l)):(s.tag=0,rt&&g&&ih(s),Jt(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Xu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=qx(d),r=qn(d,r),p){case 0:s=bh(null,s,d,r,l);break e;case 1:s=Kg(null,s,d,r,l);break e;case 11:s=Bg(null,s,d,r,l);break e;case 14:s=$g(null,s,d,qn(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:qn(d,p),bh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:qn(d,p),Kg(r,s,d,p,l);case 3:e:{if(Gg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,p=g.element,ug(r,s),Bu(s,d,null,l);var E=s.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=Do(Error(t(423)),s),s=Qg(r,s,d,l,p);break e}else if(d!==p){p=Do(Error(t(424)),s),s=Qg(r,s,d,l,p);break e}else for(gn=wi(s.stateNode.containerInfo.firstChild),mn=s,rt=!0,Hn=null,l=ag(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Po(),d===p){s=Kr(r,s,l);break e}Jt(r,s,d,l)}s=s.child}return s;case 5:return hg(s),r===null&&ah(s),d=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,E=p.children,Jd(d,p)?E=null:g!==null&&Jd(d,g)&&(s.flags|=32),qg(r,s),Jt(r,s,E,l),s.child;case 6:return r===null&&ah(s),null;case 13:return Yg(r,s,l);case 4:return mh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=ko(s,null,d,l):Jt(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:qn(d,p),Bg(r,s,d,p,l);case 7:return Jt(r,s,s.pendingProps,l),s.child;case 8:return Jt(r,s,s.pendingProps.children,l),s.child;case 12:return Jt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,g=s.memoizedProps,E=p.value,Je(Fu,d._currentValue),d._currentValue=E,g!==null)if(Wn(g.value,E)){if(g.children===p.children&&!nn.current){s=Kr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var N=g.dependencies;if(N!==null){E=g.child;for(var j=N.firstContext;j!==null;){if(j.context===d){if(g.tag===1){j=qr(-1,l&-l),j.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var ee=K.pending;ee===null?j.next=j:(j.next=ee.next,ee.next=j),K.pending=j}}g.lanes|=l,j=g.alternate,j!==null&&(j.lanes|=l),hh(g.return,l,s),N.lanes|=l;break}j=j.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,N=E.alternate,N!==null&&(N.lanes|=l),hh(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Jt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,No(s,l),p=Cn(p),d=d(p),s.flags|=1,Jt(r,s,d,l),s.child;case 14:return d=s.type,p=qn(d,s.pendingProps),p=qn(d.type,p),$g(r,s,d,p,l);case 15:return Wg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:qn(d,p),Xu(r,s),s.tag=1,rn(d)?(r=!0,Ou(s)):r=!1,No(s,l),Lg(s,d,p),Rh(s,d,p,l),Nh(null,s,d,!0,r,l);case 19:return Jg(r,s,l);case 22:return Hg(r,s,l)}throw Error(t(156,s.tag))};function Ty(r,s){return io(r,s)}function Hx(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,l,d){return new Hx(r,s,l,d)}function Jh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qx(r){if(typeof r=="function")return Jh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Oe)return 14}return 2}function bi(r,s){var l=r.alternate;return l===null?(l=kn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function lc(r,s,l,d,p,g){var E=2;if(d=r,typeof r=="function")Jh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case C:return As(l.children,p,g,s);case A:E=8,p|=8;break;case k:return r=kn(12,l,s,p|2),r.elementType=k,r.lanes=g,r;case P:return r=kn(13,l,s,p),r.elementType=P,r.lanes=g,r;case ve:return r=kn(19,l,s,p),r.elementType=ve,r.lanes=g,r;case fe:return uc(l,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case V:E=9;break e;case M:E=11;break e;case Oe:E=14;break e;case _e:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=kn(E,l,s,p),s.elementType=r,s.type=d,s.lanes=g,s}function As(r,s,l,d){return r=kn(7,r,d,s),r.lanes=l,r}function uc(r,s,l,d){return r=kn(22,r,d,s),r.elementType=fe,r.lanes=l,r.stateNode={isHidden:!1},r}function Zh(r,s,l){return r=kn(6,r,null,s),r.lanes=l,r}function ef(r,s,l){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Kx(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function tf(r,s,l,d,p,g,E,N,j){return r=new Kx(r,s,l,N,j),s===1?(s=1,g===!0&&(s|=8)):s=0,g=kn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(g),r}function Gx(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function xy(r){if(!r)return Ti;r=r._reactInternals;e:{if(Vn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(rn(l))return Xm(r,l,s)}return s}function Iy(r,s,l,d,p,g,E,N,j){return r=tf(l,d,!0,r,p,g,E,N,j),r.context=xy(null),l=r.current,d=Zt(),p=Pi(l),g=qr(d,p),g.callback=s??null,Si(l,g,p),r.current.lanes=p,fi(r,p,d),an(r,d),r}function cc(r,s,l,d){var p=s.current,g=Zt(),E=Pi(p);return l=xy(l),s.context===null?s.context=l:s.pendingContext=l,s=qr(g,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Si(p,s,E),r!==null&&(Qn(r,p,E,g),zu(r,p,E)),E}function dc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Sy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function nf(r,s){Sy(r,s),(r=r.alternate)&&Sy(r,s)}function Qx(){return null}var Ay=typeof reportError=="function"?reportError:function(r){console.error(r)};function rf(r){this._internalRoot=r}hc.prototype.render=rf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));cc(r,s,null,null)},hc.prototype.unmount=rf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;xs(function(){cc(null,r,null,null)}),s[zr]=null}};function hc(r){this._internalRoot=r}hc.prototype.unstable_scheduleHydration=function(r){if(r){var s=hu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<lr.length&&s!==0&&s<lr[l].priority;l++);lr.splice(l,0,r),l===0&&mu(r)}};function sf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function fc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Cy(){}function Yx(r,s,l,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var K=dc(E);g.call(K)}}var E=Iy(s,d,r,0,null,!1,!1,"",Cy);return r._reactRootContainer=E,r[zr]=E.current,Ka(r.nodeType===8?r.parentNode:r),xs(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var N=d;d=function(){var K=dc(j);N.call(K)}}var j=tf(r,0,!1,null,null,!1,!1,"",Cy);return r._reactRootContainer=j,r[zr]=j.current,Ka(r.nodeType===8?r.parentNode:r),xs(function(){cc(s,j,l,d)}),j}function pc(r,s,l,d,p){var g=l._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var N=p;p=function(){var j=dc(E);N.call(j)}}cc(s,E,r,p)}else E=Yx(l,s,r,p,d);return dc(E)}cu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=di(s.pendingLanes);l!==0&&(pi(s,l|1),an(s,Xe()),(We&6)===0&&(Vo=Xe()+500,xi()))}break;case 13:xs(function(){var d=Hr(r,1);if(d!==null){var p=Zt();Qn(d,r,1,p)}}),nf(r,1)}},ao=function(r){if(r.tag===13){var s=Hr(r,134217728);if(s!==null){var l=Zt();Qn(s,r,134217728,l)}nf(r,134217728)}},du=function(r){if(r.tag===13){var s=Pi(r),l=Hr(r,s);if(l!==null){var d=Zt();Qn(l,r,s,d)}nf(r,s)}},hu=function(){return Fe},fu=function(r,s){var l=Fe;try{return Fe=r,s()}finally{Fe=l}},Js=function(r,s,l){switch(s){case"input":if(br(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=bu(d);if(!p)throw Error(t(90));Qe(d),br(d,p)}}}break;case"textarea":Ys(r,l);break;case"select":s=l.value,s!=null&&Or(r,!!l.multiple,s,!1)}},rs=Qh,Ra=xs;var Xx={usingClientEntryPoint:!1,Events:[Ya,Io,bu,or,Ca,Qh]},cl={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jx={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ba(r),r===null?null:r.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||Qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{ls=mc.inject(Jx),dn=mc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xx,ln.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sf(s))throw Error(t(200));return Gx(r,s,null,l)},ln.createRoot=function(r,s){if(!sf(r))throw Error(t(299));var l=!1,d="",p=Ay;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=tf(r,1,!1,null,null,l,!1,d,p),r[zr]=s.current,Ka(r.nodeType===8?r.parentNode:r),new rf(s)},ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ba(s),r=r===null?null:r.stateNode,r},ln.flushSync=function(r){return xs(r)},ln.hydrate=function(r,s,l){if(!fc(s))throw Error(t(200));return pc(null,r,s,!0,l)},ln.hydrateRoot=function(r,s,l){if(!sf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,g="",E=Ay;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Iy(s,null,r,1,l??null,p,!1,g,E),r[zr]=s.current,Ka(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new hc(s)},ln.render=function(r,s,l){if(!fc(s))throw Error(t(200));return pc(null,r,s,!1,l)},ln.unmountComponentAtNode=function(r){if(!fc(r))throw Error(t(40));return r._reactRootContainer?(xs(function(){pc(null,null,r,!1,function(){r._reactRootContainer=null,r[zr]=null})}),!0):!1},ln.unstable_batchedUpdates=Qh,ln.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!fc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return pc(r,s,l,!1,d)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Ly;function U_(){if(Ly)return lf.exports;Ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lf.exports=oI(),lf.exports}var My;function aI(){if(My)return gc;My=1;var n=U_();return gc.createRoot=n.createRoot,gc.hydrateRoot=n.hydrateRoot,gc}var lI=aI(),L=gp();const Mi=F_(L),z_=eI({__proto__:null,default:Mi},[L]),uI="/assets/24b0ce647cc38b3904beeda35147b930b1688d81-BQqRuCwP.png";function Vy(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function B_(...n){return e=>{let t=!1;const i=n.map(o=>{const a=Vy(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():Vy(n[o],null)}}}}function jt(...n){return L.useCallback(B_(...n),n)}function Cl(n){const e=dI(n),t=L.forwardRef((i,o)=>{const{children:a,...c}=i,h=L.Children.toArray(a),f=h.find(fI);if(f){const y=f.props.children,_=h.map(T=>T===f?L.Children.count(y)>1?L.Children.only(null):L.isValidElement(y)?y.props.children:null:T);return w.jsx(e,{...c,ref:o,children:L.isValidElement(y)?L.cloneElement(y,void 0,_):null})}return w.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var cI=Cl("Slot");function dI(n){const e=L.forwardRef((t,i)=>{const{children:o,...a}=t;if(L.isValidElement(o)){const c=mI(o),h=pI(a,o.props);return o.type!==L.Fragment&&(h.ref=i?B_(i,c):c),L.cloneElement(o,h)}return L.Children.count(o)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var hI=Symbol("radix.slottable");function fI(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===hI}function pI(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function mI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function $_(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=$_(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function W_(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=$_(n))&&(i&&(i+=" "),i+=e);return i}const jy=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Fy=W_,H_=(n,e)=>t=>{var i;if(e?.variants==null)return Fy(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(y=>{const _=t?.[y],T=a?.[y];if(_===null)return null;const I=jy(_)||jy(T);return o[y][I]}),h=t&&Object.entries(t).reduce((y,_)=>{let[T,I]=_;return I===void 0||(y[T]=I),y},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((y,_)=>{let{class:T,className:I,...R}=_;return Object.entries(R).every(O=>{let[S,b]=O;return Array.isArray(b)?b.includes({...a,...h}[S]):{...a,...h}[S]===b})?[...y,T,I]:y},[]);return Fy(n,c,f,t?.class,t?.className)},yp="-",gI=n=>{const e=vI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const h=c.split(yp);return h[0]===""&&h.length!==1&&h.shift(),q_(h,e)||yI(c)},getConflictingClassGroupIds:(c,h)=>{const f=t[c]||[];return h&&i[c]?[...f,...i[c]]:f}}},q_=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?q_(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(yp);return e.validators.find(({validator:c})=>c(a))?.classGroupId},Uy=/^\[(.+)\]$/,yI=n=>{if(Uy.test(n)){const e=Uy.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},vI=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return wI(Object.entries(n.classGroups),t).forEach(([a,c])=>{Lf(c,i,a,e)}),i},Lf=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:zy(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(_I(o)){Lf(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,c])=>{Lf(c,zy(e,a),t,i)})})},zy=(n,e)=>{let t=n;return e.split(yp).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},_I=n=>n.isThemeGetter,wI=(n,e)=>e?n.map(([t,i])=>{const o=i.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,h])=>[e+c,h])):a);return[t,o]}):n,EI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=i.get(a))!==void 0)return o(a,c),c},set(a,c){t.has(a)?t.set(a,c):o(a,c)}}},K_="!",TI=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,o=e[0],a=e.length,c=h=>{const f=[];let y=0,_=0,T;for(let b=0;b<h.length;b++){let B=h[b];if(y===0){if(B===o&&(i||h.slice(b,b+a)===e)){f.push(h.slice(_,b)),_=b+a;continue}if(B==="/"){T=b;continue}}B==="["?y++:B==="]"&&y--}const I=f.length===0?h:h.substring(_),R=I.startsWith(K_),O=R?I.substring(1):I,S=T&&T>_?T-_:void 0;return{modifiers:f,hasImportantModifier:R,baseClassName:O,maybePostfixModifierPosition:S}};return t?h=>t({className:h,parseClassName:c}):c},xI=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},II=n=>({cache:EI(n.cacheSize),parseClassName:TI(n),...gI(n)}),SI=/\s+/,AI=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o}=e,a=[],c=n.trim().split(SI);let h="";for(let f=c.length-1;f>=0;f-=1){const y=c[f],{modifiers:_,hasImportantModifier:T,baseClassName:I,maybePostfixModifierPosition:R}=t(y);let O=!!R,S=i(O?I.substring(0,R):I);if(!S){if(!O){h=y+(h.length>0?" "+h:h);continue}if(S=i(I),!S){h=y+(h.length>0?" "+h:h);continue}O=!1}const b=xI(_).join(":"),B=T?b+K_:b,z=B+S;if(a.includes(z))continue;a.push(z);const q=o(S,O);for(let Y=0;Y<q.length;++Y){const J=q[Y];a.push(B+J)}h=y+(h.length>0?" "+h:h)}return h};function CI(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=G_(e))&&(i&&(i+=" "),i+=t);return i}const G_=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=G_(n[i]))&&(t&&(t+=" "),t+=e);return t};function RI(n,...e){let t,i,o,a=c;function c(f){const y=e.reduce((_,T)=>T(_),n());return t=II(y),i=t.cache.get,o=t.cache.set,a=h,h(f)}function h(f){const y=i(f);if(y)return y;const _=AI(f,t);return o(f,_),_}return function(){return a(CI.apply(null,arguments))}}const tt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Q_=/^\[(?:([a-z-]+):)?(.+)\]$/i,PI=/^\d+\/\d+$/,kI=new Set(["px","full","screen"]),bI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=n=>Ko(n)||kI.has(n)||PI.test(n),Oi=n=>ua(n,"length",$I),Ko=n=>!!n&&!Number.isNaN(Number(n)),df=n=>ua(n,"number",Ko),hl=n=>!!n&&Number.isInteger(Number(n)),MI=n=>n.endsWith("%")&&Ko(n.slice(0,-1)),Me=n=>Q_.test(n),Di=n=>bI.test(n),VI=new Set(["length","size","percentage"]),jI=n=>ua(n,VI,Y_),FI=n=>ua(n,"position",Y_),UI=new Set(["image","url"]),zI=n=>ua(n,UI,HI),BI=n=>ua(n,"",WI),fl=()=>!0,ua=(n,e,t)=>{const i=Q_.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},$I=n=>NI.test(n)&&!OI.test(n),Y_=()=>!1,WI=n=>DI.test(n),HI=n=>LI.test(n),qI=()=>{const n=tt("colors"),e=tt("spacing"),t=tt("blur"),i=tt("brightness"),o=tt("borderColor"),a=tt("borderRadius"),c=tt("borderSpacing"),h=tt("borderWidth"),f=tt("contrast"),y=tt("grayscale"),_=tt("hueRotate"),T=tt("invert"),I=tt("gap"),R=tt("gradientColorStops"),O=tt("gradientColorStopPositions"),S=tt("inset"),b=tt("margin"),B=tt("opacity"),z=tt("padding"),q=tt("saturate"),Y=tt("scale"),J=tt("sepia"),se=tt("skew"),C=tt("space"),A=tt("translate"),k=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Me,e],M=()=>[Me,e],P=()=>["",Qr,Oi],ve=()=>["auto",Ko,Me],Oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Me],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Ko,Me];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[Qr,Oi],blur:["none","",Di,Me],brightness:U(),borderColor:[n],borderRadius:["none","","full",Di,Me],borderSpacing:M(),borderWidth:P(),contrast:U(),grayscale:ae(),hueRotate:U(),invert:ae(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[MI,Oi],inset:V(),margin:V(),opacity:U(),padding:M(),saturate:U(),scale:U(),sepia:ae(),skew:U(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Di]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Oe(),Me]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl,Me]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",hl,Me]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",hl,Me]},Me]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[hl,Me]},Me]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,e]}],"min-w":[{"min-w":[Me,e,"min","max","fit"]}],"max-w":[{"max-w":[Me,e,"none","full","min","max","fit","prose",{screen:[Di]},Di]}],h:[{h:[Me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Di,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",df]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Ko,df]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[B]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[B]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Oi]}],"underline-offset":[{"underline-offset":["auto",Qr,Me]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[B]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Oe(),FI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zI]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[B]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[B]}],"divide-style":[{divide:_e()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[Qr,Me]}],"outline-w":[{outline:[Qr,Oi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[B]}],"ring-offset-w":[{"ring-offset":[Qr,Oi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Di,BI]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[B]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Di,Me]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[T]}],saturate:[{saturate:[q]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[T]}],"backdrop-opacity":[{"backdrop-opacity":[B]}],"backdrop-saturate":[{"backdrop-saturate":[q]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Y]}],"scale-x":[{"scale-x":[Y]}],"scale-y":[{"scale-y":[Y]}],rotate:[{rotate:[hl,Me]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Qr,Oi,df]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KI=RI(qI);function Dn(...n){return KI(W_(n))}const GI=H_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ks({className:n,variant:e,size:t,asChild:i=!1,...o}){const a=i?cI:"button";return w.jsx(a,{"data-slot":"button",className:Dn(GI({variant:e,size:t,className:n})),...o})}function ji({className:n,type:e,...t}){return w.jsx("input",{type:e,"data-slot":"input",className:Dn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var zl=U_();const QI=F_(zl);var YI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ut=YI.reduce((n,e)=>{const t=Cl(`Primitive.${e}`),i=L.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(f,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function XI(n,e){n&&zl.flushSync(()=>n.dispatchEvent(e))}var JI="Label",X_=L.forwardRef((n,e)=>w.jsx(ut.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));X_.displayName=JI;var ZI=X_;function Yn({className:n,...e}){return w.jsx(ZI,{"data-slot":"label",className:Dn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function By(n,[e,t]){return Math.min(t,Math.max(e,n))}function yt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function vp(n,e=[]){let t=[];function i(a,c){const h=L.createContext(c),f=t.length;t=[...t,c];const y=T=>{const{scope:I,children:R,...O}=T,S=I?.[n]?.[f]||h,b=L.useMemo(()=>O,Object.values(O));return w.jsx(S.Provider,{value:b,children:R})};y.displayName=a+"Provider";function _(T,I){const R=I?.[n]?.[f]||h,O=L.useContext(R);if(O)return O;if(c!==void 0)return c;throw new Error(`\`${T}\` must be used within \`${a}\``)}return[y,_]}const o=()=>{const a=t.map(c=>L.createContext(c));return function(h){const f=h?.[n]||a;return L.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[i,eS(o,...e)]}function eS(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:f,scopeName:y})=>{const T=f(a)[`__scope${y}`];return{...h,...T}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function tS(n){const e=n+"CollectionProvider",[t,i]=vp(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:b,children:B}=S,z=Mi.useRef(null),q=Mi.useRef(new Map).current;return w.jsx(o,{scope:b,itemMap:q,collectionRef:z,children:B})};c.displayName=e;const h=n+"CollectionSlot",f=Cl(h),y=Mi.forwardRef((S,b)=>{const{scope:B,children:z}=S,q=a(h,B),Y=jt(b,q.collectionRef);return w.jsx(f,{ref:Y,children:z})});y.displayName=h;const _=n+"CollectionItemSlot",T="data-radix-collection-item",I=Cl(_),R=Mi.forwardRef((S,b)=>{const{scope:B,children:z,...q}=S,Y=Mi.useRef(null),J=jt(b,Y),se=a(_,B);return Mi.useEffect(()=>(se.itemMap.set(Y,{ref:Y,...q}),()=>void se.itemMap.delete(Y))),w.jsx(I,{[T]:"",ref:J,children:z})});R.displayName=_;function O(S){const b=a(n+"CollectionConsumer",S);return Mi.useCallback(()=>{const z=b.collectionRef.current;if(!z)return[];const q=Array.from(z.querySelectorAll(`[${T}]`));return Array.from(b.itemMap.values()).sort((se,C)=>q.indexOf(se.ref.current)-q.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:c,Slot:y,ItemSlot:R},O,i]}var nS=L.createContext(void 0);function rS(n){const e=L.useContext(nS);return n||e||"ltr"}function Ns(n){const e=L.useRef(n);return L.useEffect(()=>{e.current=n}),L.useMemo(()=>(...t)=>e.current?.(...t),[])}function iS(n,e=globalThis?.document){const t=Ns(n);L.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var sS="DismissableLayer",Mf="dismissableLayer.update",oS="dismissableLayer.pointerDownOutside",aS="dismissableLayer.focusOutside",$y,J_=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Z_=L.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=n,y=L.useContext(J_),[_,T]=L.useState(null),I=_?.ownerDocument??globalThis?.document,[,R]=L.useState({}),O=jt(e,C=>T(C)),S=Array.from(y.layers),[b]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),B=S.indexOf(b),z=_?S.indexOf(_):-1,q=y.layersWithOutsidePointerEventsDisabled.size>0,Y=z>=B,J=cS(C=>{const A=C.target,k=[...y.branches].some(D=>D.contains(A));!Y||k||(o?.(C),c?.(C),C.defaultPrevented||h?.())},I),se=dS(C=>{const A=C.target;[...y.branches].some(D=>D.contains(A))||(a?.(C),c?.(C),C.defaultPrevented||h?.())},I);return iS(C=>{z===y.layers.size-1&&(i?.(C),!C.defaultPrevented&&h&&(C.preventDefault(),h()))},I),L.useEffect(()=>{if(_)return t&&(y.layersWithOutsidePointerEventsDisabled.size===0&&($y=I.body.style.pointerEvents,I.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(_)),y.layers.add(_),Wy(),()=>{t&&y.layersWithOutsidePointerEventsDisabled.size===1&&(I.body.style.pointerEvents=$y)}},[_,I,t,y]),L.useEffect(()=>()=>{_&&(y.layers.delete(_),y.layersWithOutsidePointerEventsDisabled.delete(_),Wy())},[_,y]),L.useEffect(()=>{const C=()=>R({});return document.addEventListener(Mf,C),()=>document.removeEventListener(Mf,C)},[]),w.jsx(ut.div,{...f,ref:O,style:{pointerEvents:q?Y?"auto":"none":void 0,...n.style},onFocusCapture:yt(n.onFocusCapture,se.onFocusCapture),onBlurCapture:yt(n.onBlurCapture,se.onBlurCapture),onPointerDownCapture:yt(n.onPointerDownCapture,J.onPointerDownCapture)})});Z_.displayName=sS;var lS="DismissableLayerBranch",uS=L.forwardRef((n,e)=>{const t=L.useContext(J_),i=L.useRef(null),o=jt(e,i);return L.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),w.jsx(ut.div,{...n,ref:o})});uS.displayName=lS;function cS(n,e=globalThis?.document){const t=Ns(n),i=L.useRef(!1),o=L.useRef(()=>{});return L.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let f=function(){ew(oS,t,y,{discrete:!0})};const y={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function dS(n,e=globalThis?.document){const t=Ns(n),i=L.useRef(!1);return L.useEffect(()=>{const o=a=>{a.target&&!i.current&&ew(aS,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Wy(){const n=new CustomEvent(Mf);document.dispatchEvent(n)}function ew(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?XI(o,a):o.dispatchEvent(a)}var hf=0;function hS(){L.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Hy()),document.body.insertAdjacentElement("beforeend",n[1]??Hy()),hf++,()=>{hf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hf--}},[])}function Hy(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ff="focusScope.autoFocusOnMount",pf="focusScope.autoFocusOnUnmount",qy={bubbles:!1,cancelable:!0},fS="FocusScope",tw=L.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,f]=L.useState(null),y=Ns(o),_=Ns(a),T=L.useRef(null),I=jt(e,S=>f(S)),R=L.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;L.useEffect(()=>{if(i){let S=function(q){if(R.paused||!h)return;const Y=q.target;h.contains(Y)?T.current=Y:Vi(T.current,{select:!0})},b=function(q){if(R.paused||!h)return;const Y=q.relatedTarget;Y!==null&&(h.contains(Y)||Vi(T.current,{select:!0}))},B=function(q){if(document.activeElement===document.body)for(const J of q)J.removedNodes.length>0&&Vi(h)};document.addEventListener("focusin",S),document.addEventListener("focusout",b);const z=new MutationObserver(B);return h&&z.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",b),z.disconnect()}}},[i,h,R.paused]),L.useEffect(()=>{if(h){Gy.add(R);const S=document.activeElement;if(!h.contains(S)){const B=new CustomEvent(ff,qy);h.addEventListener(ff,y),h.dispatchEvent(B),B.defaultPrevented||(pS(_S(nw(h)),{select:!0}),document.activeElement===S&&Vi(h))}return()=>{h.removeEventListener(ff,y),setTimeout(()=>{const B=new CustomEvent(pf,qy);h.addEventListener(pf,_),h.dispatchEvent(B),B.defaultPrevented||Vi(S??document.body,{select:!0}),h.removeEventListener(pf,_),Gy.remove(R)},0)}}},[h,y,_,R]);const O=L.useCallback(S=>{if(!t&&!i||R.paused)return;const b=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,B=document.activeElement;if(b&&B){const z=S.currentTarget,[q,Y]=mS(z);q&&Y?!S.shiftKey&&B===Y?(S.preventDefault(),t&&Vi(q,{select:!0})):S.shiftKey&&B===q&&(S.preventDefault(),t&&Vi(Y,{select:!0})):B===z&&S.preventDefault()}},[t,i,R.paused]);return w.jsx(ut.div,{tabIndex:-1,...c,ref:I,onKeyDown:O})});tw.displayName=fS;function pS(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Vi(i,{select:e}),document.activeElement!==t)return}function mS(n){const e=nw(n),t=Ky(e,n),i=Ky(e.reverse(),n);return[t,i]}function nw(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Ky(n,e){for(const t of n)if(!gS(t,{upTo:e}))return t}function gS(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function yS(n){return n instanceof HTMLInputElement&&"select"in n}function Vi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&yS(n)&&e&&n.select()}}var Gy=vS();function vS(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Qy(n,e),n.unshift(e)},remove(e){n=Qy(n,e),n[0]?.resume()}}}function Qy(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function _S(n){return n.filter(e=>e.tagName!=="A")}var cn=globalThis?.document?L.useLayoutEffect:()=>{},wS=z_[" useId ".trim().toString()]||(()=>{}),ES=0;function _p(n){const[e,t]=L.useState(wS());return cn(()=>{t(i=>i??String(ES++))},[n]),n||(e?`radix-${e}`:"")}const TS=["top","right","bottom","left"],Ki=Math.min,vn=Math.max,jc=Math.round,yc=Math.floor,_r=n=>({x:n,y:n}),xS={left:"right",right:"left",bottom:"top",top:"bottom"},IS={start:"end",end:"start"};function Vf(n,e,t){return vn(n,Ki(e,t))}function ni(n,e){return typeof n=="function"?n(e):n}function ri(n){return n.split("-")[0]}function ca(n){return n.split("-")[1]}function wp(n){return n==="x"?"y":"x"}function Ep(n){return n==="y"?"height":"width"}const SS=new Set(["top","bottom"]);function yr(n){return SS.has(ri(n))?"y":"x"}function Tp(n){return wp(yr(n))}function AS(n,e,t){t===void 0&&(t=!1);const i=ca(n),o=Tp(n),a=Ep(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Fc(c)),[c,Fc(c)]}function CS(n){const e=Fc(n);return[jf(n),e,jf(e)]}function jf(n){return n.replace(/start|end/g,e=>IS[e])}const Yy=["left","right"],Xy=["right","left"],RS=["top","bottom"],PS=["bottom","top"];function kS(n,e,t){switch(n){case"top":case"bottom":return t?e?Xy:Yy:e?Yy:Xy;case"left":case"right":return e?RS:PS;default:return[]}}function bS(n,e,t,i){const o=ca(n);let a=kS(ri(n),t==="start",i);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(jf)))),a}function Fc(n){return n.replace(/left|right|bottom|top/g,e=>xS[e])}function NS(n){return{top:0,right:0,bottom:0,left:0,...n}}function rw(n){return typeof n!="number"?NS(n):{top:n,right:n,bottom:n,left:n}}function Uc(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function Jy(n,e,t){let{reference:i,floating:o}=n;const a=yr(e),c=Tp(e),h=Ep(c),f=ri(e),y=a==="y",_=i.x+i.width/2-o.width/2,T=i.y+i.height/2-o.height/2,I=i[h]/2-o[h]/2;let R;switch(f){case"top":R={x:_,y:i.y-o.height};break;case"bottom":R={x:_,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:T};break;case"left":R={x:i.x-o.width,y:T};break;default:R={x:i.x,y:i.y}}switch(ca(e)){case"start":R[c]-=I*(t&&y?-1:1);break;case"end":R[c]+=I*(t&&y?-1:1);break}return R}const OS=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let y=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:_,y:T}=Jy(y,i,f),I=i,R={},O=0;for(let S=0;S<h.length;S++){const{name:b,fn:B}=h[S],{x:z,y:q,data:Y,reset:J}=await B({x:_,y:T,initialPlacement:i,placement:I,strategy:o,middlewareData:R,rects:y,platform:c,elements:{reference:n,floating:e}});_=z??_,T=q??T,R={...R,[b]:{...R[b],...Y}},J&&O<=50&&(O++,typeof J=="object"&&(J.placement&&(I=J.placement),J.rects&&(y=J.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):J.rects),{x:_,y:T}=Jy(y,I,f)),S=-1)}return{x:_,y:T,placement:I,strategy:o,middlewareData:R}};async function Rl(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:c,elements:h,strategy:f}=n,{boundary:y="clippingAncestors",rootBoundary:_="viewport",elementContext:T="floating",altBoundary:I=!1,padding:R=0}=ni(e,n),O=rw(R),b=h[I?T==="floating"?"reference":"floating":T],B=Uc(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:y,rootBoundary:_,strategy:f})),z=T==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),Y=await(a.isElement==null?void 0:a.isElement(q))?await(a.getScale==null?void 0:a.getScale(q))||{x:1,y:1}:{x:1,y:1},J=Uc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:z,offsetParent:q,strategy:f}):z);return{top:(B.top-J.top+O.top)/Y.y,bottom:(J.bottom-B.bottom+O.bottom)/Y.y,left:(B.left-J.left+O.left)/Y.x,right:(J.right-B.right+O.right)/Y.x}}const DS=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:a,platform:c,elements:h,middlewareData:f}=e,{element:y,padding:_=0}=ni(n,e)||{};if(y==null)return{};const T=rw(_),I={x:t,y:i},R=Tp(o),O=Ep(R),S=await c.getDimensions(y),b=R==="y",B=b?"top":"left",z=b?"bottom":"right",q=b?"clientHeight":"clientWidth",Y=a.reference[O]+a.reference[R]-I[R]-a.floating[O],J=I[R]-a.reference[R],se=await(c.getOffsetParent==null?void 0:c.getOffsetParent(y));let C=se?se[q]:0;(!C||!await(c.isElement==null?void 0:c.isElement(se)))&&(C=h.floating[q]||a.floating[O]);const A=Y/2-J/2,k=C/2-S[O]/2-1,D=Ki(T[B],k),V=Ki(T[z],k),M=D,P=C-S[O]-V,ve=C/2-S[O]/2+A,Oe=Vf(M,ve,P),_e=!f.arrow&&ca(o)!=null&&ve!==Oe&&a.reference[O]/2-(ve<M?D:V)-S[O]/2<0,fe=_e?ve<M?ve-M:ve-P:0;return{[R]:I[R]+fe,data:{[R]:Oe,centerOffset:ve-Oe-fe,..._e&&{alignmentOffset:fe}},reset:_e}}}),LS=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:y}=e,{mainAxis:_=!0,crossAxis:T=!0,fallbackPlacements:I,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:S=!0,...b}=ni(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const B=ri(o),z=yr(h),q=ri(h)===h,Y=await(f.isRTL==null?void 0:f.isRTL(y.floating)),J=I||(q||!S?[Fc(h)]:CS(h)),se=O!=="none";!I&&se&&J.push(...bS(h,S,O,Y));const C=[h,...J],A=await Rl(e,b),k=[];let D=((i=a.flip)==null?void 0:i.overflows)||[];if(_&&k.push(A[B]),T){const ve=AS(o,c,Y);k.push(A[ve[0]],A[ve[1]])}if(D=[...D,{placement:o,overflows:k}],!k.every(ve=>ve<=0)){var V,M;const ve=(((V=a.flip)==null?void 0:V.index)||0)+1,Oe=C[ve];if(Oe&&(!(T==="alignment"?z!==yr(Oe):!1)||D.every(Q=>yr(Q.placement)===z?Q.overflows[0]>0:!0)))return{data:{index:ve,overflows:D},reset:{placement:Oe}};let _e=(M=D.filter(fe=>fe.overflows[0]<=0).sort((fe,Q)=>fe.overflows[1]-Q.overflows[1])[0])==null?void 0:M.placement;if(!_e)switch(R){case"bestFit":{var P;const fe=(P=D.filter(Q=>{if(se){const ae=yr(Q.placement);return ae===z||ae==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ae=>ae>0).reduce((ae,oe)=>ae+oe,0)]).sort((Q,ae)=>Q[1]-ae[1])[0])==null?void 0:P[0];fe&&(_e=fe);break}case"initialPlacement":_e=h;break}if(o!==_e)return{reset:{placement:_e}}}return{}}}};function Zy(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function ev(n){return TS.some(e=>n[e]>=0)}const MS=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...o}=ni(n,e);switch(i){case"referenceHidden":{const a=await Rl(e,{...o,elementContext:"reference"}),c=Zy(a,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ev(c)}}}case"escaped":{const a=await Rl(e,{...o,altBoundary:!0}),c=Zy(a,t.floating);return{data:{escapedOffsets:c,escaped:ev(c)}}}default:return{}}}}},iw=new Set(["left","top"]);async function VS(n,e){const{placement:t,platform:i,elements:o}=n,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=ri(t),h=ca(t),f=yr(t)==="y",y=iw.has(c)?-1:1,_=a&&f?-1:1,T=ni(e,n);let{mainAxis:I,crossAxis:R,alignmentAxis:O}=typeof T=="number"?{mainAxis:T,crossAxis:0,alignmentAxis:null}:{mainAxis:T.mainAxis||0,crossAxis:T.crossAxis||0,alignmentAxis:T.alignmentAxis};return h&&typeof O=="number"&&(R=h==="end"?O*-1:O),f?{x:R*_,y:I*y}:{x:I*y,y:R*_}}const jS=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:a,placement:c,middlewareData:h}=e,f=await VS(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},FS=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:h={fn:b=>{let{x:B,y:z}=b;return{x:B,y:z}}},...f}=ni(n,e),y={x:t,y:i},_=await Rl(e,f),T=yr(ri(o)),I=wp(T);let R=y[I],O=y[T];if(a){const b=I==="y"?"top":"left",B=I==="y"?"bottom":"right",z=R+_[b],q=R-_[B];R=Vf(z,R,q)}if(c){const b=T==="y"?"top":"left",B=T==="y"?"bottom":"right",z=O+_[b],q=O-_[B];O=Vf(z,O,q)}const S=h.fn({...e,[I]:R,[T]:O});return{...S,data:{x:S.x-t,y:S.y-i,enabled:{[I]:a,[T]:c}}}}}},US=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:f=!0,crossAxis:y=!0}=ni(n,e),_={x:t,y:i},T=yr(o),I=wp(T);let R=_[I],O=_[T];const S=ni(h,e),b=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const q=I==="y"?"height":"width",Y=a.reference[I]-a.floating[q]+b.mainAxis,J=a.reference[I]+a.reference[q]-b.mainAxis;R<Y?R=Y:R>J&&(R=J)}if(y){var B,z;const q=I==="y"?"width":"height",Y=iw.has(ri(o)),J=a.reference[T]-a.floating[q]+(Y&&((B=c.offset)==null?void 0:B[T])||0)+(Y?0:b.crossAxis),se=a.reference[T]+a.reference[q]+(Y?0:((z=c.offset)==null?void 0:z[T])||0)-(Y?b.crossAxis:0);O<J?O=J:O>se&&(O=se)}return{[I]:R,[T]:O}}}},zS=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:f=()=>{},...y}=ni(n,e),_=await Rl(e,y),T=ri(o),I=ca(o),R=yr(o)==="y",{width:O,height:S}=a.floating;let b,B;T==="top"||T==="bottom"?(b=T,B=I===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(B=T,b=I==="end"?"top":"bottom");const z=S-_.top-_.bottom,q=O-_.left-_.right,Y=Ki(S-_[b],z),J=Ki(O-_[B],q),se=!e.middlewareData.shift;let C=Y,A=J;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=q),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(C=z),se&&!I){const D=vn(_.left,0),V=vn(_.right,0),M=vn(_.top,0),P=vn(_.bottom,0);R?A=O-2*(D!==0||V!==0?D+V:vn(_.left,_.right)):C=S-2*(M!==0||P!==0?M+P:vn(_.top,_.bottom))}await f({...e,availableWidth:A,availableHeight:C});const k=await c.getDimensions(h.floating);return O!==k.width||S!==k.height?{reset:{rects:!0}}:{}}}};function ad(){return typeof window<"u"}function da(n){return sw(n)?(n.nodeName||"").toLowerCase():"#document"}function _n(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(n){var e;return(e=(sw(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function sw(n){return ad()?n instanceof Node||n instanceof _n(n).Node:!1}function Zn(n){return ad()?n instanceof Element||n instanceof _n(n).Element:!1}function Ir(n){return ad()?n instanceof HTMLElement||n instanceof _n(n).HTMLElement:!1}function tv(n){return!ad()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof _n(n).ShadowRoot}const BS=new Set(["inline","contents"]);function Bl(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=er(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!BS.has(o)}const $S=new Set(["table","td","th"]);function WS(n){return $S.has(da(n))}const HS=[":popover-open",":modal"];function ld(n){return HS.some(e=>{try{return n.matches(e)}catch{return!1}})}const qS=["transform","translate","scale","rotate","perspective"],KS=["transform","translate","scale","rotate","perspective","filter"],GS=["paint","layout","strict","content"];function xp(n){const e=Ip(),t=Zn(n)?er(n):n;return qS.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||KS.some(i=>(t.willChange||"").includes(i))||GS.some(i=>(t.contain||"").includes(i))}function QS(n){let e=Gi(n);for(;Ir(e)&&!ea(e);){if(xp(e))return e;if(ld(e))return null;e=Gi(e)}return null}function Ip(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YS=new Set(["html","body","#document"]);function ea(n){return YS.has(da(n))}function er(n){return _n(n).getComputedStyle(n)}function ud(n){return Zn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Gi(n){if(da(n)==="html")return n;const e=n.assignedSlot||n.parentNode||tv(n)&&n.host||Rr(n);return tv(e)?e.host:e}function ow(n){const e=Gi(n);return ea(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ir(e)&&Bl(e)?e:ow(e)}function Pl(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=ow(n),a=o===((i=n.ownerDocument)==null?void 0:i.body),c=_n(o);if(a){const h=Ff(c);return e.concat(c,c.visualViewport||[],Bl(o)?o:[],h&&t?Pl(h):[])}return e.concat(o,Pl(o,[],t))}function Ff(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function aw(n){const e=er(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=Ir(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:i,h=jc(t)!==a||jc(i)!==c;return h&&(t=a,i=c),{width:t,height:i,$:h}}function Sp(n){return Zn(n)?n:n.contextElement}function Go(n){const e=Sp(n);if(!Ir(e))return _r(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:a}=aw(e);let c=(a?jc(t.width):t.width)/i,h=(a?jc(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const XS=_r(0);function lw(n){const e=_n(n);return!Ip()||!e.visualViewport?XS:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JS(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==_n(n)?!1:e}function Os(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=Sp(n);let c=_r(1);e&&(i?Zn(i)&&(c=Go(i)):c=Go(n));const h=JS(a,t,i)?lw(a):_r(0);let f=(o.left+h.x)/c.x,y=(o.top+h.y)/c.y,_=o.width/c.x,T=o.height/c.y;if(a){const I=_n(a),R=i&&Zn(i)?_n(i):i;let O=I,S=Ff(O);for(;S&&i&&R!==O;){const b=Go(S),B=S.getBoundingClientRect(),z=er(S),q=B.left+(S.clientLeft+parseFloat(z.paddingLeft))*b.x,Y=B.top+(S.clientTop+parseFloat(z.paddingTop))*b.y;f*=b.x,y*=b.y,_*=b.x,T*=b.y,f+=q,y+=Y,O=_n(S),S=Ff(O)}}return Uc({width:_,height:T,x:f,y})}function cd(n,e){const t=ud(n).scrollLeft;return e?e.left+t:Os(Rr(n)).left+t}function uw(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-cd(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function ZS(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const a=o==="fixed",c=Rr(i),h=e?ld(e.floating):!1;if(i===c||h&&a)return t;let f={scrollLeft:0,scrollTop:0},y=_r(1);const _=_r(0),T=Ir(i);if((T||!T&&!a)&&((da(i)!=="body"||Bl(c))&&(f=ud(i)),Ir(i))){const R=Os(i);y=Go(i),_.x=R.x+i.clientLeft,_.y=R.y+i.clientTop}const I=c&&!T&&!a?uw(c,f):_r(0);return{width:t.width*y.x,height:t.height*y.y,x:t.x*y.x-f.scrollLeft*y.x+_.x+I.x,y:t.y*y.y-f.scrollTop*y.y+_.y+I.y}}function eA(n){return Array.from(n.getClientRects())}function tA(n){const e=Rr(n),t=ud(n),i=n.ownerDocument.body,o=vn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=vn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+cd(n);const h=-t.scrollTop;return er(i).direction==="rtl"&&(c+=vn(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:c,y:h}}const nv=25;function nA(n,e){const t=_n(n),i=Rr(n),o=t.visualViewport;let a=i.clientWidth,c=i.clientHeight,h=0,f=0;if(o){a=o.width,c=o.height;const _=Ip();(!_||_&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const y=cd(i);if(y<=0){const _=i.ownerDocument,T=_.body,I=getComputedStyle(T),R=_.compatMode==="CSS1Compat"&&parseFloat(I.marginLeft)+parseFloat(I.marginRight)||0,O=Math.abs(i.clientWidth-T.clientWidth-R);O<=nv&&(a-=O)}else y<=nv&&(a+=y);return{width:a,height:c,x:h,y:f}}const rA=new Set(["absolute","fixed"]);function iA(n,e){const t=Os(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,a=Ir(n)?Go(n):_r(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,y=i*a.y;return{width:c,height:h,x:f,y}}function rv(n,e,t){let i;if(e==="viewport")i=nA(n,t);else if(e==="document")i=tA(Rr(n));else if(Zn(e))i=iA(e,t);else{const o=lw(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Uc(i)}function cw(n,e){const t=Gi(n);return t===e||!Zn(t)||ea(t)?!1:er(t).position==="fixed"||cw(t,e)}function sA(n,e){const t=e.get(n);if(t)return t;let i=Pl(n,[],!1).filter(h=>Zn(h)&&da(h)!=="body"),o=null;const a=er(n).position==="fixed";let c=a?Gi(n):n;for(;Zn(c)&&!ea(c);){const h=er(c),f=xp(c);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&rA.has(o.position)||Bl(c)&&!f&&cw(n,c))?i=i.filter(_=>_!==c):o=h,c=Gi(c)}return e.set(n,i),i}function oA(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?ld(e)?[]:sA(e,this._c):[].concat(t),i],h=c[0],f=c.reduce((y,_)=>{const T=rv(e,_,o);return y.top=vn(T.top,y.top),y.right=Ki(T.right,y.right),y.bottom=Ki(T.bottom,y.bottom),y.left=vn(T.left,y.left),y},rv(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function aA(n){const{width:e,height:t}=aw(n);return{width:e,height:t}}function lA(n,e,t){const i=Ir(e),o=Rr(e),a=t==="fixed",c=Os(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=_r(0);function y(){f.x=cd(o)}if(i||!i&&!a)if((da(e)!=="body"||Bl(o))&&(h=ud(e)),i){const R=Os(e,!0,a,e);f.x=R.x+e.clientLeft,f.y=R.y+e.clientTop}else o&&y();a&&!i&&o&&y();const _=o&&!i&&!a?uw(o,h):_r(0),T=c.left+h.scrollLeft-f.x-_.x,I=c.top+h.scrollTop-f.y-_.y;return{x:T,y:I,width:c.width,height:c.height}}function mf(n){return er(n).position==="static"}function iv(n,e){if(!Ir(n)||er(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Rr(n)===t&&(t=t.ownerDocument.body),t}function dw(n,e){const t=_n(n);if(ld(n))return t;if(!Ir(n)){let o=Gi(n);for(;o&&!ea(o);){if(Zn(o)&&!mf(o))return o;o=Gi(o)}return t}let i=iv(n,e);for(;i&&WS(i)&&mf(i);)i=iv(i,e);return i&&ea(i)&&mf(i)&&!xp(i)?t:i||QS(n)||t}const uA=async function(n){const e=this.getOffsetParent||dw,t=this.getDimensions,i=await t(n.floating);return{reference:lA(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function cA(n){return er(n).direction==="rtl"}const dA={convertOffsetParentRelativeRectToViewportRelativeRect:ZS,getDocumentElement:Rr,getClippingRect:oA,getOffsetParent:dw,getElementRects:uA,getClientRects:eA,getDimensions:aA,getScale:Go,isElement:Zn,isRTL:cA};function hw(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function hA(n,e){let t=null,i;const o=Rr(n);function a(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const y=n.getBoundingClientRect(),{left:_,top:T,width:I,height:R}=y;if(h||e(),!I||!R)return;const O=yc(T),S=yc(o.clientWidth-(_+I)),b=yc(o.clientHeight-(T+R)),B=yc(_),q={rootMargin:-O+"px "+-S+"px "+-b+"px "+-B+"px",threshold:vn(0,Ki(1,f))||1};let Y=!0;function J(se){const C=se[0].intersectionRatio;if(C!==f){if(!Y)return c();C?c(!1,C):i=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!hw(y,n.getBoundingClientRect())&&c(),Y=!1}try{t=new IntersectionObserver(J,{...q,root:o.ownerDocument})}catch{t=new IntersectionObserver(J,q)}t.observe(n)}return c(!0),a}function fA(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,y=Sp(n),_=o||a?[...y?Pl(y):[],...Pl(e)]:[];_.forEach(B=>{o&&B.addEventListener("scroll",t,{passive:!0}),a&&B.addEventListener("resize",t)});const T=y&&h?hA(y,t):null;let I=-1,R=null;c&&(R=new ResizeObserver(B=>{let[z]=B;z&&z.target===y&&R&&(R.unobserve(e),cancelAnimationFrame(I),I=requestAnimationFrame(()=>{var q;(q=R)==null||q.observe(e)})),t()}),y&&!f&&R.observe(y),R.observe(e));let O,S=f?Os(n):null;f&&b();function b(){const B=Os(n);S&&!hw(S,B)&&t(),S=B,O=requestAnimationFrame(b)}return t(),()=>{var B;_.forEach(z=>{o&&z.removeEventListener("scroll",t),a&&z.removeEventListener("resize",t)}),T?.(),(B=R)==null||B.disconnect(),R=null,f&&cancelAnimationFrame(O)}}const pA=jS,mA=FS,gA=LS,yA=zS,vA=MS,sv=DS,_A=US,wA=(n,e,t)=>{const i=new Map,o={platform:dA,...t},a={...o.platform,_c:i};return OS(n,e,{...o,platform:a})};var EA=typeof document<"u",TA=function(){},Cc=EA?L.useLayoutEffect:TA;function zc(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!zc(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const a=o[i];if(!(a==="_owner"&&n.$$typeof)&&!zc(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function fw(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ov(n,e){const t=fw(n);return Math.round(e*t)/t}function gf(n){const e=L.useRef(n);return Cc(()=>{e.current=n}),e}function xA(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:y}=n,[_,T]=L.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[I,R]=L.useState(i);zc(I,i)||R(i);const[O,S]=L.useState(null),[b,B]=L.useState(null),z=L.useCallback(Q=>{Q!==se.current&&(se.current=Q,S(Q))},[]),q=L.useCallback(Q=>{Q!==C.current&&(C.current=Q,B(Q))},[]),Y=a||O,J=c||b,se=L.useRef(null),C=L.useRef(null),A=L.useRef(_),k=f!=null,D=gf(f),V=gf(o),M=gf(y),P=L.useCallback(()=>{if(!se.current||!C.current)return;const Q={placement:e,strategy:t,middleware:I};V.current&&(Q.platform=V.current),wA(se.current,C.current,Q).then(ae=>{const oe={...ae,isPositioned:M.current!==!1};ve.current&&!zc(A.current,oe)&&(A.current=oe,zl.flushSync(()=>{T(oe)}))})},[I,e,t,V,M]);Cc(()=>{y===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,T(Q=>({...Q,isPositioned:!1})))},[y]);const ve=L.useRef(!1);Cc(()=>(ve.current=!0,()=>{ve.current=!1}),[]),Cc(()=>{if(Y&&(se.current=Y),J&&(C.current=J),Y&&J){if(D.current)return D.current(Y,J,P);P()}},[Y,J,P,D,k]);const Oe=L.useMemo(()=>({reference:se,floating:C,setReference:z,setFloating:q}),[z,q]),_e=L.useMemo(()=>({reference:Y,floating:J}),[Y,J]),fe=L.useMemo(()=>{const Q={position:t,left:0,top:0};if(!_e.floating)return Q;const ae=ov(_e.floating,_.x),oe=ov(_e.floating,_.y);return h?{...Q,transform:"translate("+ae+"px, "+oe+"px)",...fw(_e.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:oe}},[t,h,_e.floating,_.x,_.y]);return L.useMemo(()=>({..._,update:P,refs:Oe,elements:_e,floatingStyles:fe}),[_,P,Oe,_e,fe])}const IA=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?sv({element:i.current,padding:o}).fn(t):{}:i?sv({element:i,padding:o}).fn(t):{}}}},SA=(n,e)=>({...pA(n),options:[n,e]}),AA=(n,e)=>({...mA(n),options:[n,e]}),CA=(n,e)=>({..._A(n),options:[n,e]}),RA=(n,e)=>({...gA(n),options:[n,e]}),PA=(n,e)=>({...yA(n),options:[n,e]}),kA=(n,e)=>({...vA(n),options:[n,e]}),bA=(n,e)=>({...IA(n),options:[n,e]});var NA="Arrow",pw=L.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...a}=n;return w.jsx(ut.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});pw.displayName=NA;var OA=pw;function DA(n){const[e,t]=L.useState(void 0);return cn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const f=a.borderBoxSize,y=Array.isArray(f)?f[0]:f;c=y.inlineSize,h=y.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Ap="Popper",[mw,gw]=vp(Ap),[LA,yw]=mw(Ap),vw=n=>{const{__scopePopper:e,children:t}=n,[i,o]=L.useState(null);return w.jsx(LA,{scope:e,anchor:i,onAnchorChange:o,children:t})};vw.displayName=Ap;var _w="PopperAnchor",ww=L.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,a=yw(_w,t),c=L.useRef(null),h=jt(e,c),f=L.useRef(null);return L.useEffect(()=>{const y=f.current;f.current=i?.current||c.current,y!==f.current&&a.onAnchorChange(f.current)}),i?null:w.jsx(ut.div,{...o,ref:h})});ww.displayName=_w;var Cp="PopperContent",[MA,VA]=mw(Cp),Ew=L.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:y=[],collisionPadding:_=0,sticky:T="partial",hideWhenDetached:I=!1,updatePositionStrategy:R="optimized",onPlaced:O,...S}=n,b=yw(Cp,t),[B,z]=L.useState(null),q=jt(e,ue=>z(ue)),[Y,J]=L.useState(null),se=DA(Y),C=se?.width??0,A=se?.height??0,k=i+(a!=="center"?"-"+a:""),D=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},V=Array.isArray(y)?y:[y],M=V.length>0,P={padding:D,boundary:V.filter(FA),altBoundary:M},{refs:ve,floatingStyles:Oe,placement:_e,isPositioned:fe,middlewareData:Q}=xA({strategy:"fixed",placement:k,whileElementsMounted:(...ue)=>fA(...ue,{animationFrame:R==="always"}),elements:{reference:b.anchor},middleware:[SA({mainAxis:o+A,alignmentAxis:c}),f&&AA({mainAxis:!0,crossAxis:!1,limiter:T==="partial"?CA():void 0,...P}),f&&RA({...P}),PA({...P,apply:({elements:ue,rects:we,availableWidth:Le,availableHeight:ke})=>{const{width:ze,height:Qe}=we.reference,ct=ue.floating.style;ct.setProperty("--radix-popper-available-width",`${Le}px`),ct.setProperty("--radix-popper-available-height",`${ke}px`),ct.setProperty("--radix-popper-anchor-width",`${ze}px`),ct.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),Y&&bA({element:Y,padding:h}),UA({arrowWidth:C,arrowHeight:A}),I&&kA({strategy:"referenceHidden",...P})]}),[ae,oe]=Iw(_e),U=Ns(O);cn(()=>{fe&&U?.()},[fe,U]);const X=Q.arrow?.x,pe=Q.arrow?.y,Se=Q.arrow?.centerOffset!==0,[Re,De]=L.useState();return cn(()=>{B&&De(window.getComputedStyle(B).zIndex)},[B]),w.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:fe?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:w.jsx(MA,{scope:t,placedSide:ae,onArrowChange:J,arrowX:X,arrowY:pe,shouldHideArrow:Se,children:w.jsx(ut.div,{"data-side":ae,"data-align":oe,...S,ref:q,style:{...S.style,animation:fe?void 0:"none"}})})})});Ew.displayName=Cp;var Tw="PopperArrow",jA={top:"bottom",right:"left",bottom:"top",left:"right"},xw=L.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,a=VA(Tw,i),c=jA[a.placedSide];return w.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:w.jsx(OA,{...o,ref:t,style:{...o.style,display:"block"}})})});xw.displayName=Tw;function FA(n){return n!==null}var UA=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,h=c?0:n.arrowWidth,f=c?0:n.arrowHeight,[y,_]=Iw(t),T={start:"0%",center:"50%",end:"100%"}[_],I=(o.arrow?.x??0)+h/2,R=(o.arrow?.y??0)+f/2;let O="",S="";return y==="bottom"?(O=c?T:`${I}px`,S=`${-f}px`):y==="top"?(O=c?T:`${I}px`,S=`${i.floating.height+f}px`):y==="right"?(O=`${-f}px`,S=c?T:`${R}px`):y==="left"&&(O=`${i.floating.width+f}px`,S=c?T:`${R}px`),{data:{x:O,y:S}}}});function Iw(n){const[e,t="center"]=n.split("-");return[e,t]}var zA=vw,BA=ww,$A=Ew,WA=xw,HA="Portal",Sw=L.forwardRef((n,e)=>{const{container:t,...i}=n,[o,a]=L.useState(!1);cn(()=>a(!0),[]);const c=t||o&&globalThis?.document?.body;return c?QI.createPortal(w.jsx(ut.div,{...i,ref:e}),c):null});Sw.displayName=HA;var qA=z_[" useInsertionEffect ".trim().toString()]||cn;function av({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,c]=KA({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const _=L.useRef(n!==void 0);L.useEffect(()=>{const T=_.current;T!==h&&console.warn(`${i} is changing from ${T?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=h},[h,i])}const y=L.useCallback(_=>{if(h){const T=GA(_)?_(n):_;T!==n&&c.current?.(T)}else a(_)},[h,n,a,c]);return[f,y]}function KA({defaultProp:n,onChange:e}){const[t,i]=L.useState(n),o=L.useRef(t),a=L.useRef(e);return qA(()=>{a.current=e},[e]),L.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,i,a]}function GA(n){return typeof n=="function"}function QA(n){const e=L.useRef({value:n,previous:n});return L.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Aw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YA="VisuallyHidden",XA=L.forwardRef((n,e)=>w.jsx(ut.span,{...n,ref:e,style:{...Aw,...n.style}}));XA.displayName=YA;var JA=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Fo=new WeakMap,vc=new WeakMap,_c={},yf=0,Cw=function(n){return n&&(n.host||Cw(n.parentNode))},ZA=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=Cw(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},eC=function(n,e,t,i){var o=ZA(e,Array.isArray(n)?n:[n]);_c[t]||(_c[t]=new WeakMap);var a=_c[t],c=[],h=new Set,f=new Set(o),y=function(T){!T||h.has(T)||(h.add(T),y(T.parentNode))};o.forEach(y);var _=function(T){!T||f.has(T)||Array.prototype.forEach.call(T.children,function(I){if(h.has(I))_(I);else try{var R=I.getAttribute(i),O=R!==null&&R!=="false",S=(Fo.get(I)||0)+1,b=(a.get(I)||0)+1;Fo.set(I,S),a.set(I,b),c.push(I),S===1&&O&&vc.set(I,!0),b===1&&I.setAttribute(t,"true"),O||I.setAttribute(i,"true")}catch(B){console.error("aria-hidden: cannot operate on ",I,B)}})};return _(e),h.clear(),yf++,function(){c.forEach(function(T){var I=Fo.get(T)-1,R=a.get(T)-1;Fo.set(T,I),a.set(T,R),I||(vc.has(T)||T.removeAttribute(i),vc.delete(T)),R||T.removeAttribute(t)}),yf--,yf||(Fo=new WeakMap,Fo=new WeakMap,vc=new WeakMap,_c={})}},tC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=JA(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),eC(i,o,t,"aria-hidden")):function(){return null}},gr=function(){return gr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},gr.apply(this,arguments)};function $l(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function nC(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var Rc="right-scroll-bar-position",Pc="width-before-scroll-bar",rC="with-scroll-bars-hidden",iC="--removed-body-scroll-bar-size";function vf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function sC(n,e){var t=L.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var oC=typeof window<"u"?L.useLayoutEffect:L.useEffect,lv=new WeakMap;function aC(n,e){var t=sC(null,function(i){return n.forEach(function(o){return vf(o,i)})});return oC(function(){var i=lv.get(t);if(i){var o=new Set(i),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||vf(h,null)}),a.forEach(function(h){o.has(h)||vf(h,c)})}lv.set(t,n)},[n]),t}function lC(n){return n}function uC(n,e){e===void 0&&(e=lC);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,i);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(i=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var f=function(){var _=c;c=[],_.forEach(a)},y=function(){return Promise.resolve().then(f)};y(),t={push:function(_){c.push(_),y()},filter:function(_){return c=c.filter(_),t}}}};return o}function cC(n){n===void 0&&(n={});var e=uC(null);return e.options=gr({async:!0,ssr:!1},n),e}var Rw=function(n){var e=n.sideCar,t=$l(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return L.createElement(i,gr({},t))};Rw.isSideCarExport=!0;function dC(n,e){return n.useMedium(e),Rw}var Pw=cC(),_f=function(){},dd=L.forwardRef(function(n,e){var t=L.useRef(null),i=L.useState({onScrollCapture:_f,onWheelCapture:_f,onTouchMoveCapture:_f}),o=i[0],a=i[1],c=n.forwardProps,h=n.children,f=n.className,y=n.removeScrollBar,_=n.enabled,T=n.shards,I=n.sideCar,R=n.noRelative,O=n.noIsolation,S=n.inert,b=n.allowPinchZoom,B=n.as,z=B===void 0?"div":B,q=n.gapMode,Y=$l(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=I,se=aC([t,e]),C=gr(gr({},Y),o);return L.createElement(L.Fragment,null,_&&L.createElement(J,{sideCar:Pw,removeScrollBar:y,shards:T,noRelative:R,noIsolation:O,inert:S,setCallbacks:a,allowPinchZoom:!!b,lockRef:t,gapMode:q}),c?L.cloneElement(L.Children.only(h),gr(gr({},C),{ref:se})):L.createElement(z,gr({},C,{className:f,ref:se}),h))});dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dd.classNames={fullWidth:Pc,zeroRight:Rc};var hC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fC(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=hC();return e&&n.setAttribute("nonce",e),n}function pC(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function mC(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var gC=function(){var n=0,e=null;return{add:function(t){n==0&&(e=fC())&&(pC(e,t),mC(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yC=function(){var n=gC();return function(e,t){L.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},kw=function(){var n=yC(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},vC={left:0,top:0,right:0,gap:0},wf=function(n){return parseInt(n||"",10)||0},_C=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[wf(t),wf(i),wf(o)]},wC=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return vC;var e=_C(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},EC=kw(),Qo="data-scroll-locked",TC=function(n,e,t,i){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(rC,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rc,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Pc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Rc," .").concat(Rc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(iC,": ").concat(h,`px;
  }
`)},uv=function(){var n=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(n)?n:0},xC=function(){L.useEffect(function(){return document.body.setAttribute(Qo,(uv()+1).toString()),function(){var n=uv()-1;n<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,n.toString())}},[])},IC=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;xC();var a=L.useMemo(function(){return wC(o)},[o]);return L.createElement(EC,{styles:TC(a,!e,o,t?"":"!important")})},Uf=!1;if(typeof window<"u")try{var wc=Object.defineProperty({},"passive",{get:function(){return Uf=!0,!0}});window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{Uf=!1}var Uo=Uf?{passive:!1}:!1,SC=function(n){return n.tagName==="TEXTAREA"},bw=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!SC(n)&&t[e]==="visible")},AC=function(n){return bw(n,"overflowY")},CC=function(n){return bw(n,"overflowX")},cv=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=Nw(n,i);if(o){var a=Ow(n,i),c=a[1],h=a[2];if(c>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},RC=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},PC=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},Nw=function(n,e){return n==="v"?AC(e):CC(e)},Ow=function(n,e){return n==="v"?RC(e):PC(e)},kC=function(n,e){return n==="h"&&e==="rtl"?-1:1},bC=function(n,e,t,i,o){var a=kC(n,window.getComputedStyle(e).direction),c=a*i,h=t.target,f=e.contains(h),y=!1,_=c>0,T=0,I=0;do{if(!h)break;var R=Ow(n,h),O=R[0],S=R[1],b=R[2],B=S-b-a*O;(O||B)&&Nw(n,h)&&(T+=B,I+=O);var z=h.parentNode;h=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(_&&Math.abs(T)<1||!_&&Math.abs(I)<1)&&(y=!0),y},Ec=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},dv=function(n){return[n.deltaX,n.deltaY]},hv=function(n){return n&&"current"in n?n.current:n},NC=function(n,e){return n[0]===e[0]&&n[1]===e[1]},OC=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},DC=0,zo=[];function LC(n){var e=L.useRef([]),t=L.useRef([0,0]),i=L.useRef(),o=L.useState(DC++)[0],a=L.useState(kw)[0],c=L.useRef(n);L.useEffect(function(){c.current=n},[n]),L.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var S=nC([n.lockRef.current],(n.shards||[]).map(hv),!0).filter(Boolean);return S.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=L.useCallback(function(S,b){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var B=Ec(S),z=t.current,q="deltaX"in S?S.deltaX:z[0]-B[0],Y="deltaY"in S?S.deltaY:z[1]-B[1],J,se=S.target,C=Math.abs(q)>Math.abs(Y)?"h":"v";if("touches"in S&&C==="h"&&se.type==="range")return!1;var A=cv(C,se);if(!A)return!0;if(A?J=C:(J=C==="v"?"h":"v",A=cv(C,se)),!A)return!1;if(!i.current&&"changedTouches"in S&&(q||Y)&&(i.current=J),!J)return!0;var k=i.current||J;return bC(k,b,S,k==="h"?q:Y)},[]),f=L.useCallback(function(S){var b=S;if(!(!zo.length||zo[zo.length-1]!==a)){var B="deltaY"in b?dv(b):Ec(b),z=e.current.filter(function(J){return J.name===b.type&&(J.target===b.target||b.target===J.shadowParent)&&NC(J.delta,B)})[0];if(z&&z.should){b.cancelable&&b.preventDefault();return}if(!z){var q=(c.current.shards||[]).map(hv).filter(Boolean).filter(function(J){return J.contains(b.target)}),Y=q.length>0?h(b,q[0]):!c.current.noIsolation;Y&&b.cancelable&&b.preventDefault()}}},[]),y=L.useCallback(function(S,b,B,z){var q={name:S,delta:b,target:B,should:z,shadowParent:MC(B)};e.current.push(q),setTimeout(function(){e.current=e.current.filter(function(Y){return Y!==q})},1)},[]),_=L.useCallback(function(S){t.current=Ec(S),i.current=void 0},[]),T=L.useCallback(function(S){y(S.type,dv(S),S.target,h(S,n.lockRef.current))},[]),I=L.useCallback(function(S){y(S.type,Ec(S),S.target,h(S,n.lockRef.current))},[]);L.useEffect(function(){return zo.push(a),n.setCallbacks({onScrollCapture:T,onWheelCapture:T,onTouchMoveCapture:I}),document.addEventListener("wheel",f,Uo),document.addEventListener("touchmove",f,Uo),document.addEventListener("touchstart",_,Uo),function(){zo=zo.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,Uo),document.removeEventListener("touchmove",f,Uo),document.removeEventListener("touchstart",_,Uo)}},[]);var R=n.removeScrollBar,O=n.inert;return L.createElement(L.Fragment,null,O?L.createElement(a,{styles:OC(o)}):null,R?L.createElement(IC,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function MC(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const VC=dC(Pw,LC);var Dw=L.forwardRef(function(n,e){return L.createElement(dd,gr({},n,{ref:e,sideCar:VC}))});Dw.classNames=dd.classNames;var jC=[" ","Enter","ArrowUp","ArrowDown"],FC=[" ","Enter"],Ds="Select",[hd,fd,UC]=tS(Ds),[ha]=vp(Ds,[UC,gw]),pd=gw(),[zC,Ji]=ha(Ds),[BC,$C]=ha(Ds),Lw=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:f,dir:y,name:_,autoComplete:T,disabled:I,required:R,form:O}=n,S=pd(e),[b,B]=L.useState(null),[z,q]=L.useState(null),[Y,J]=L.useState(!1),se=rS(y),[C,A]=av({prop:i,defaultProp:o??!1,onChange:a,caller:Ds}),[k,D]=av({prop:c,defaultProp:h,onChange:f,caller:Ds}),V=L.useRef(null),M=b?O||!!b.closest("form"):!0,[P,ve]=L.useState(new Set),Oe=Array.from(P).map(_e=>_e.props.value).join(";");return w.jsx(zA,{...S,children:w.jsxs(zC,{required:R,scope:e,trigger:b,onTriggerChange:B,valueNode:z,onValueNodeChange:q,valueNodeHasChildren:Y,onValueNodeHasChildrenChange:J,contentId:_p(),value:k,onValueChange:D,open:C,onOpenChange:A,dir:se,triggerPointerDownPosRef:V,disabled:I,children:[w.jsx(hd.Provider,{scope:e,children:w.jsx(BC,{scope:n.__scopeSelect,onNativeOptionAdd:L.useCallback(_e=>{ve(fe=>new Set(fe).add(_e))},[]),onNativeOptionRemove:L.useCallback(_e=>{ve(fe=>{const Q=new Set(fe);return Q.delete(_e),Q})},[]),children:t})}),M?w.jsxs(r0,{"aria-hidden":!0,required:R,tabIndex:-1,name:_,autoComplete:T,value:k,onChange:_e=>D(_e.target.value),disabled:I,form:O,children:[k===void 0?w.jsx("option",{value:""}):null,Array.from(P)]},Oe):null]})})};Lw.displayName=Ds;var Mw="SelectTrigger",Vw=L.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,a=pd(t),c=Ji(Mw,t),h=c.disabled||i,f=jt(e,c.onTriggerChange),y=fd(t),_=L.useRef("touch"),[T,I,R]=s0(S=>{const b=y().filter(q=>!q.disabled),B=b.find(q=>q.value===c.value),z=o0(b,S,B);z!==void 0&&c.onValueChange(z.value)}),O=S=>{h||(c.onOpenChange(!0),R()),S&&(c.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return w.jsx(BA,{asChild:!0,...a,children:w.jsx(ut.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":i0(c.value)?"":void 0,...o,ref:f,onClick:yt(o.onClick,S=>{S.currentTarget.focus(),_.current!=="mouse"&&O(S)}),onPointerDown:yt(o.onPointerDown,S=>{_.current=S.pointerType;const b=S.target;b.hasPointerCapture(S.pointerId)&&b.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(O(S),S.preventDefault())}),onKeyDown:yt(o.onKeyDown,S=>{const b=T.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&I(S.key),!(b&&S.key===" ")&&jC.includes(S.key)&&(O(),S.preventDefault())})})})});Vw.displayName=Mw;var jw="SelectValue",Fw=L.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:a,placeholder:c="",...h}=n,f=Ji(jw,t),{onValueNodeHasChildrenChange:y}=f,_=a!==void 0,T=jt(e,f.onValueNodeChange);return cn(()=>{y(_)},[y,_]),w.jsx(ut.span,{...h,ref:T,style:{pointerEvents:"none"},children:i0(f.value)?w.jsx(w.Fragment,{children:c}):a})});Fw.displayName=jw;var WC="SelectIcon",Uw=L.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return w.jsx(ut.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});Uw.displayName=WC;var HC="SelectPortal",zw=n=>w.jsx(Sw,{asChild:!0,...n});zw.displayName=HC;var Ls="SelectContent",Bw=L.forwardRef((n,e)=>{const t=Ji(Ls,n.__scopeSelect),[i,o]=L.useState();if(cn(()=>{o(new DocumentFragment)},[]),!t.open){const a=i;return a?zl.createPortal(w.jsx($w,{scope:n.__scopeSelect,children:w.jsx(hd.Slot,{scope:n.__scopeSelect,children:w.jsx("div",{children:n.children})})}),a):null}return w.jsx(Ww,{...n,ref:e})});Bw.displayName=Ls;var Xn=10,[$w,Zi]=ha(Ls),qC="SelectContentImpl",KC=Cl("SelectContent.RemoveScroll"),Ww=L.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:f,align:y,alignOffset:_,arrowPadding:T,collisionBoundary:I,collisionPadding:R,sticky:O,hideWhenDetached:S,avoidCollisions:b,...B}=n,z=Ji(Ls,t),[q,Y]=L.useState(null),[J,se]=L.useState(null),C=jt(e,ue=>Y(ue)),[A,k]=L.useState(null),[D,V]=L.useState(null),M=fd(t),[P,ve]=L.useState(!1),Oe=L.useRef(!1);L.useEffect(()=>{if(q)return tC(q)},[q]),hS();const _e=L.useCallback(ue=>{const[we,...Le]=M().map(Qe=>Qe.ref.current),[ke]=Le.slice(-1),ze=document.activeElement;for(const Qe of ue)if(Qe===ze||(Qe?.scrollIntoView({block:"nearest"}),Qe===we&&J&&(J.scrollTop=0),Qe===ke&&J&&(J.scrollTop=J.scrollHeight),Qe?.focus(),document.activeElement!==ze))return},[M,J]),fe=L.useCallback(()=>_e([A,q]),[_e,A,q]);L.useEffect(()=>{P&&fe()},[P,fe]);const{onOpenChange:Q,triggerPointerDownPosRef:ae}=z;L.useEffect(()=>{if(q){let ue={x:0,y:0};const we=ke=>{ue={x:Math.abs(Math.round(ke.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(ke.pageY)-(ae.current?.y??0))}},Le=ke=>{ue.x<=10&&ue.y<=10?ke.preventDefault():q.contains(ke.target)||Q(!1),document.removeEventListener("pointermove",we),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Le,{capture:!0})}}},[q,Q,ae]),L.useEffect(()=>{const ue=()=>Q(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Q]);const[oe,U]=s0(ue=>{const we=M().filter(ze=>!ze.disabled),Le=we.find(ze=>ze.ref.current===document.activeElement),ke=o0(we,ue,Le);ke&&setTimeout(()=>ke.ref.current.focus())}),X=L.useCallback((ue,we,Le)=>{const ke=!Oe.current&&!Le;(z.value!==void 0&&z.value===we||ke)&&(k(ue),ke&&(Oe.current=!0))},[z.value]),pe=L.useCallback(()=>q?.focus(),[q]),Se=L.useCallback((ue,we,Le)=>{const ke=!Oe.current&&!Le;(z.value!==void 0&&z.value===we||ke)&&V(ue)},[z.value]),Re=i==="popper"?zf:Hw,De=Re===zf?{side:h,sideOffset:f,align:y,alignOffset:_,arrowPadding:T,collisionBoundary:I,collisionPadding:R,sticky:O,hideWhenDetached:S,avoidCollisions:b}:{};return w.jsx($w,{scope:t,content:q,viewport:J,onViewportChange:se,itemRefCallback:X,selectedItem:A,onItemLeave:pe,itemTextRefCallback:Se,focusSelectedItem:fe,selectedItemText:D,position:i,isPositioned:P,searchRef:oe,children:w.jsx(Dw,{as:KC,allowPinchZoom:!0,children:w.jsx(tw,{asChild:!0,trapped:z.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:yt(o,ue=>{z.trigger?.focus({preventScroll:!0}),ue.preventDefault()}),children:w.jsx(Z_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>z.onOpenChange(!1),children:w.jsx(Re,{role:"listbox",id:z.contentId,"data-state":z.open?"open":"closed",dir:z.dir,onContextMenu:ue=>ue.preventDefault(),...B,...De,onPlaced:()=>ve(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...B.style},onKeyDown:yt(B.onKeyDown,ue=>{const we=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!we&&ue.key.length===1&&U(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ke=M().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const ze=ue.target,Qe=ke.indexOf(ze);ke=ke.slice(Qe+1)}setTimeout(()=>_e(ke)),ue.preventDefault()}})})})})})})});Ww.displayName=qC;var GC="SelectItemAlignedPosition",Hw=L.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,a=Ji(Ls,t),c=Zi(Ls,t),[h,f]=L.useState(null),[y,_]=L.useState(null),T=jt(e,C=>_(C)),I=fd(t),R=L.useRef(!1),O=L.useRef(!0),{viewport:S,selectedItem:b,selectedItemText:B,focusSelectedItem:z}=c,q=L.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&y&&S&&b&&B){const C=a.trigger.getBoundingClientRect(),A=y.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),D=B.getBoundingClientRect();if(a.dir!=="rtl"){const ze=D.left-A.left,Qe=k.left-ze,ct=C.left-Qe,Qt=C.width+ct,ir=Math.max(Qt,A.width),kr=window.innerWidth-Xn,br=By(Qe,[Xn,Math.max(Xn,kr-ir)]);h.style.minWidth=Qt+"px",h.style.left=br+"px"}else{const ze=A.right-D.right,Qe=window.innerWidth-k.right-ze,ct=window.innerWidth-C.right-Qe,Qt=C.width+ct,ir=Math.max(Qt,A.width),kr=window.innerWidth-Xn,br=By(Qe,[Xn,Math.max(Xn,kr-ir)]);h.style.minWidth=Qt+"px",h.style.right=br+"px"}const V=I(),M=window.innerHeight-Xn*2,P=S.scrollHeight,ve=window.getComputedStyle(y),Oe=parseInt(ve.borderTopWidth,10),_e=parseInt(ve.paddingTop,10),fe=parseInt(ve.borderBottomWidth,10),Q=parseInt(ve.paddingBottom,10),ae=Oe+_e+P+Q+fe,oe=Math.min(b.offsetHeight*5,ae),U=window.getComputedStyle(S),X=parseInt(U.paddingTop,10),pe=parseInt(U.paddingBottom,10),Se=C.top+C.height/2-Xn,Re=M-Se,De=b.offsetHeight/2,ue=b.offsetTop+De,we=Oe+_e+ue,Le=ae-we;if(we<=Se){const ze=V.length>0&&b===V[V.length-1].ref.current;h.style.bottom="0px";const Qe=y.clientHeight-S.offsetTop-S.offsetHeight,ct=Math.max(Re,De+(ze?pe:0)+Qe+fe),Qt=we+ct;h.style.height=Qt+"px"}else{const ze=V.length>0&&b===V[0].ref.current;h.style.top="0px";const ct=Math.max(Se,Oe+S.offsetTop+(ze?X:0)+De)+Le;h.style.height=ct+"px",S.scrollTop=we-Se+S.offsetTop}h.style.margin=`${Xn}px 0`,h.style.minHeight=oe+"px",h.style.maxHeight=M+"px",i?.(),requestAnimationFrame(()=>R.current=!0)}},[I,a.trigger,a.valueNode,h,y,S,b,B,a.dir,i]);cn(()=>q(),[q]);const[Y,J]=L.useState();cn(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]);const se=L.useCallback(C=>{C&&O.current===!0&&(q(),z?.(),O.current=!1)},[q,z]);return w.jsx(YC,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:R,onScrollButtonChange:se,children:w.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Y},children:w.jsx(ut.div,{...o,ref:T,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Hw.displayName=GC;var QC="SelectPopperPosition",zf=L.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Xn,...a}=n,c=pd(t);return w.jsx($A,{...c,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zf.displayName=QC;var[YC,Rp]=ha(Ls,{}),Bf="SelectViewport",qw=L.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,a=Zi(Bf,t),c=Rp(Bf,t),h=jt(e,a.onViewportChange),f=L.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),w.jsx(hd.Slot,{scope:t,children:w.jsx(ut.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:yt(o.onScroll,y=>{const _=y.currentTarget,{contentWrapper:T,shouldExpandOnScrollRef:I}=c;if(I?.current&&T){const R=Math.abs(f.current-_.scrollTop);if(R>0){const O=window.innerHeight-Xn*2,S=parseFloat(T.style.minHeight),b=parseFloat(T.style.height),B=Math.max(S,b);if(B<O){const z=B+R,q=Math.min(O,z),Y=z-q;T.style.height=q+"px",T.style.bottom==="0px"&&(_.scrollTop=Y>0?Y:0,T.style.justifyContent="flex-end")}}}f.current=_.scrollTop})})})]})});qw.displayName=Bf;var Kw="SelectGroup",[XC,JC]=ha(Kw),ZC=L.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=_p();return w.jsx(XC,{scope:t,id:o,children:w.jsx(ut.div,{role:"group","aria-labelledby":o,...i,ref:e})})});ZC.displayName=Kw;var Gw="SelectLabel",eR=L.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=JC(Gw,t);return w.jsx(ut.div,{id:o.id,...i,ref:e})});eR.displayName=Gw;var Bc="SelectItem",[tR,Qw]=ha(Bc),Yw=L.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:a,...c}=n,h=Ji(Bc,t),f=Zi(Bc,t),y=h.value===i,[_,T]=L.useState(a??""),[I,R]=L.useState(!1),O=jt(e,z=>f.itemRefCallback?.(z,i,o)),S=_p(),b=L.useRef("touch"),B=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx(tR,{scope:t,value:i,disabled:o,textId:S,isSelected:y,onItemTextChange:L.useCallback(z=>{T(q=>q||(z?.textContent??"").trim())},[]),children:w.jsx(hd.ItemSlot,{scope:t,value:i,disabled:o,textValue:_,children:w.jsx(ut.div,{role:"option","aria-labelledby":S,"data-highlighted":I?"":void 0,"aria-selected":y&&I,"data-state":y?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:O,onFocus:yt(c.onFocus,()=>R(!0)),onBlur:yt(c.onBlur,()=>R(!1)),onClick:yt(c.onClick,()=>{b.current!=="mouse"&&B()}),onPointerUp:yt(c.onPointerUp,()=>{b.current==="mouse"&&B()}),onPointerDown:yt(c.onPointerDown,z=>{b.current=z.pointerType}),onPointerMove:yt(c.onPointerMove,z=>{b.current=z.pointerType,o?f.onItemLeave?.():b.current==="mouse"&&z.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(c.onPointerLeave,z=>{z.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:yt(c.onKeyDown,z=>{f.searchRef?.current!==""&&z.key===" "||(FC.includes(z.key)&&B(),z.key===" "&&z.preventDefault())})})})})});Yw.displayName=Bc;var ml="SelectItemText",Xw=L.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...a}=n,c=Ji(ml,t),h=Zi(ml,t),f=Qw(ml,t),y=$C(ml,t),[_,T]=L.useState(null),I=jt(e,B=>T(B),f.onItemTextChange,B=>h.itemTextRefCallback?.(B,f.value,f.disabled)),R=_?.textContent,O=L.useMemo(()=>w.jsx("option",{value:f.value,disabled:f.disabled,children:R},f.value),[f.disabled,f.value,R]),{onNativeOptionAdd:S,onNativeOptionRemove:b}=y;return cn(()=>(S(O),()=>b(O)),[S,b,O]),w.jsxs(w.Fragment,{children:[w.jsx(ut.span,{id:f.textId,...a,ref:I}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?zl.createPortal(a.children,c.valueNode):null]})});Xw.displayName=ml;var Jw="SelectItemIndicator",Zw=L.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return Qw(Jw,t).isSelected?w.jsx(ut.span,{"aria-hidden":!0,...i,ref:e}):null});Zw.displayName=Jw;var $f="SelectScrollUpButton",e0=L.forwardRef((n,e)=>{const t=Zi($f,n.__scopeSelect),i=Rp($f,n.__scopeSelect),[o,a]=L.useState(!1),c=jt(e,i.onScrollButtonChange);return cn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const y=f.scrollTop>0;a(y)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?w.jsx(n0,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});e0.displayName=$f;var Wf="SelectScrollDownButton",t0=L.forwardRef((n,e)=>{const t=Zi(Wf,n.__scopeSelect),i=Rp(Wf,n.__scopeSelect),[o,a]=L.useState(!1),c=jt(e,i.onScrollButtonChange);return cn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const y=f.scrollHeight-f.clientHeight,_=Math.ceil(f.scrollTop)<y;a(_)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?w.jsx(n0,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});t0.displayName=Wf;var n0=L.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,a=Zi("SelectScrollButton",t),c=L.useRef(null),h=fd(t),f=L.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return L.useEffect(()=>()=>f(),[f]),cn(()=>{h().find(_=>_.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),w.jsx(ut.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:yt(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:yt(o.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:yt(o.onPointerLeave,()=>{f()})})}),nR="SelectSeparator",rR=L.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return w.jsx(ut.div,{"aria-hidden":!0,...i,ref:e})});rR.displayName=nR;var Hf="SelectArrow",iR=L.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=pd(t),a=Ji(Hf,t),c=Zi(Hf,t);return a.open&&c.position==="popper"?w.jsx(WA,{...o,...i,ref:e}):null});iR.displayName=Hf;var sR="SelectBubbleInput",r0=L.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=L.useRef(null),a=jt(i,o),c=QA(e);return L.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&_){const T=new Event("change",{bubbles:!0});_.call(h,e),h.dispatchEvent(T)}},[c,e]),w.jsx(ut.select,{...t,style:{...Aw,...t.style},ref:a,defaultValue:e})});r0.displayName=sR;function i0(n){return n===""||n===void 0}function s0(n){const e=Ns(n),t=L.useRef(""),i=L.useRef(0),o=L.useCallback(c=>{const h=t.current+c;e(h),(function f(y){t.current=y,window.clearTimeout(i.current),y!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=L.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return L.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,a]}function o0(n,e,t){const o=e.length>1&&Array.from(e).every(y=>y===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=oR(n,Math.max(a,0));o.length===1&&(c=c.filter(y=>y!==t));const f=c.find(y=>y.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function oR(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var aR=Lw,lR=Vw,uR=Fw,cR=Uw,dR=zw,hR=Bw,fR=qw,pR=Yw,mR=Xw,gR=Zw,yR=e0,vR=t0;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),fv=n=>{const e=wR(n);return e.charAt(0).toUpperCase()+e.slice(1)},a0=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ER={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...h},f)=>L.createElement("svg",{ref:f,...ER,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:a0("lucide",o),...h},[...c.map(([y,_])=>L.createElement(y,_)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(n,e)=>{const t=L.forwardRef(({className:i,...o},a)=>L.createElement(TR,{ref:a,iconNode:e,className:a0(`lucide-${_R(fv(n))}`,`lucide-${n}`,i),...o}));return t.displayName=fv(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],IR=kt("camera",xR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AR=kt("check",SR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],l0=kt("chevron-down",CR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yr=kt("chevron-right",RR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kR=kt("chevron-up",PR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],NR=kt("graduation-cap",bR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],DR=kt("heart",OR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],MR=kt("log-out",LR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],jR=kt("mail",VR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],UR=kt("map-pin",FR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],u0=kt("pen-line",zR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],$R=kt("phone",BR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],HR=kt("search",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KR=kt("settings",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QR=kt("shield",GR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],c0=kt("user",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],JR=kt("users",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],e1=kt("x",ZR);function pv({...n}){return w.jsx(aR,{"data-slot":"select",...n})}function mv({...n}){return w.jsx(uR,{"data-slot":"select-value",...n})}function gv({className:n,size:e="default",children:t,...i}){return w.jsxs(lR,{"data-slot":"select-trigger","data-size":e,className:Dn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,w.jsx(cR,{asChild:!0,children:w.jsx(l0,{className:"size-4 opacity-50"})})]})}function yv({className:n,children:e,position:t="popper",...i}){return w.jsx(dR,{children:w.jsxs(hR,{"data-slot":"select-content",className:Dn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[w.jsx(t1,{}),w.jsx(fR,{className:Dn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),w.jsx(n1,{})]})})}function Bo({className:n,children:e,...t}){return w.jsxs(pR,{"data-slot":"select-item",className:Dn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[w.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:w.jsx(gR,{children:w.jsx(AR,{className:"size-4"})})}),w.jsx(mR,{children:e})]})}function t1({className:n,...e}){return w.jsx(yR,{"data-slot":"select-scroll-up-button",className:Dn("flex cursor-default items-center justify-center py-1",n),...e,children:w.jsx(kR,{className:"size-4"})})}function n1({className:n,...e}){return w.jsx(vR,{"data-slot":"select-scroll-down-button",className:Dn("flex cursor-default items-center justify-center py-1",n),...e,children:w.jsx(l0,{className:"size-4"})})}function r1({className:n,...e}){return w.jsx("textarea",{"data-slot":"textarea",className:Dn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},i1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,y=f?n[o+2]:0,_=a>>2,T=(a&3)<<4|h>>4;let I=(h&15)<<2|y>>6,R=y&63;f||(R=64,c||(I=64)),i.push(t[_],t[T],t[I],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||y==null||T==null)throw new s1;const I=a<<2|h>>4;if(i.push(I),y!==64){const R=h<<4&240|y>>2;if(i.push(R),T!==64){const O=y<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class s1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o1=function(n){const e=d0(n);return h0.encodeByteArray(e,!0)},$c=function(n){return o1(n).replace(/\./g,"")},f0=function(n){try{return h0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>a1().__FIREBASE_DEFAULTS__,u1=()=>{if(typeof process>"u"||typeof vv>"u")return;const n=vv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},c1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&f0(n[1]);return e&&JSON.parse(e)},md=()=>{try{return l1()||u1()||c1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},p0=n=>{var e,t;return(t=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},d1=n=>{const e=p0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},m0=()=>{var n;return(n=md())===null||n===void 0?void 0:n.config},g0=n=>{var e;return(e=md())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$c(JSON.stringify(t)),$c(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function m1(){var n;const e=(n=md())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v0(){try{return typeof indexedDB=="object"}catch{return!1}}function _0(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function w1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="FirebaseError";class rr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=E1,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?T1(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new rr(o,h,i)}}function T1(n,e){return n.replace(x1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const x1=/\{\$([^}]+)}/g;function I1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kl(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(_v(a)&&_v(c)){if(!kl(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function _v(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function yl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function S1(n,e){const t=new A1(n,e);return t.subscribe.bind(t)}class A1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");C1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Ef),o.error===void 0&&(o.error=Ef),o.complete===void 0&&(o.complete=Ef);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ef(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=1e3,P1=2,k1=14400*1e3,b1=.5;function wv(n,e=R1,t=P1){const i=e*Math.pow(t,n),o=Math.round(b1*i*(Math.random()-.5)*2);return Math.min(k1,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n){return n&&n._delegate?n._delegate:n}class tr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new h1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D1(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:O1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O1(n){return n===Cs?void 0:n}function D1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new N1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const M1={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},V1=Ue.INFO,j1={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},F1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=j1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gd{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=F1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const U1=(n,e)=>e.some(t=>n instanceof t);let Ev,Tv;function z1(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,qf=new WeakMap,E0=new WeakMap,Tf=new WeakMap,Pp=new WeakMap;function $1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Wi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&w0.set(t,n)}).catch(()=>{}),Pp.set(e,n),e}function W1(n){if(qf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});qf.set(n,e)}let Kf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||E0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function H1(n){Kf=n(Kf)}function q1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(xf(this),e,...t);return E0.set(i,e.sort?e.sort():[e]),Wi(i)}:B1().includes(n)?function(...e){return n.apply(xf(this),e),Wi(w0.get(this))}:function(...e){return Wi(n.apply(xf(this),e))}}function K1(n){return typeof n=="function"?q1(n):(n instanceof IDBTransaction&&W1(n),U1(n,z1())?new Proxy(n,Kf):n)}function Wi(n){if(n instanceof IDBRequest)return $1(n);if(Tf.has(n))return Tf.get(n);const e=K1(n);return e!==n&&(Tf.set(n,e),Pp.set(e,n)),e}const xf=n=>Pp.get(n);function T0(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Wi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Wi(c.result),f.oldVersion,f.newVersion,Wi(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const G1=["get","getKey","getAll","getAllKeys","count"],Q1=["put","add","delete","clear"],If=new Map;function xv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Q1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||G1.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let y=f.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&f.done]))[0]};return If.set(e,a),a}H1(n=>({...n,get:(e,t,i)=>xv(e,t)||n.get(e,t,i),has:(e,t)=>!!xv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(X1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function X1(n){const e=n.getComponent();return e?.type==="VERSION"}const Gf="@firebase/app",Iv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new gd("@firebase/app"),J1="@firebase/app-compat",Z1="@firebase/analytics-compat",eP="@firebase/analytics",tP="@firebase/app-check-compat",nP="@firebase/app-check",rP="@firebase/auth",iP="@firebase/auth-compat",sP="@firebase/database",oP="@firebase/data-connect",aP="@firebase/database-compat",lP="@firebase/functions",uP="@firebase/functions-compat",cP="@firebase/installations",dP="@firebase/installations-compat",hP="@firebase/messaging",fP="@firebase/messaging-compat",pP="@firebase/performance",mP="@firebase/performance-compat",gP="@firebase/remote-config",yP="@firebase/remote-config-compat",vP="@firebase/storage",_P="@firebase/storage-compat",wP="@firebase/firestore",EP="@firebase/vertexai-preview",TP="@firebase/firestore-compat",xP="firebase",IP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]",SP={[Gf]:"fire-core",[J1]:"fire-core-compat",[eP]:"fire-analytics",[Z1]:"fire-analytics-compat",[nP]:"fire-app-check",[tP]:"fire-app-check-compat",[rP]:"fire-auth",[iP]:"fire-auth-compat",[sP]:"fire-rtdb",[oP]:"fire-data-connect",[aP]:"fire-rtdb-compat",[lP]:"fire-fn",[uP]:"fire-fn-compat",[cP]:"fire-iid",[dP]:"fire-iid-compat",[hP]:"fire-fcm",[fP]:"fire-fcm-compat",[pP]:"fire-perf",[mP]:"fire-perf-compat",[gP]:"fire-rc",[yP]:"fire-rc-compat",[vP]:"fire-gcs",[_P]:"fire-gcs-compat",[wP]:"fire-fst",[TP]:"fire-fst-compat",[EP]:"fire-vertex","fire-js":"fire-js",[xP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,AP=new Map,Yf=new Map;function Sv(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sr(n){const e=n.name;if(Yf.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,n);for(const t of Wc.values())Sv(t,n);for(const t of AP.values())Sv(t,n);return!0}function Ws(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new $s("app","Firebase",CP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=IP;function x0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Qf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(t||(t=m0()),!t)throw Hi.create("no-options");const a=Wc.get(o);if(a){if(kl(t,a.options)&&kl(i,a.config))return a;throw Hi.create("duplicate-app",{appName:o})}const c=new L1(o);for(const f of Yf.values())c.addComponent(f);const h=new RP(t,i,c);return Wc.set(o,h),h}function kp(n=Qf){const e=Wc.get(n);if(!e&&n===Qf&&m0())return x0();if(!e)throw Hi.create("no-app",{appName:n});return e}function Nn(n,e,t){var i;let o=(i=SP[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(h.join(" "));return}Sr(new tr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="firebase-heartbeat-database",kP=1,bl="firebase-heartbeat-store";let Sf=null;function I0(){return Sf||(Sf=T0(PP,kP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hi.create("idb-open",{originalErrorMessage:n.message})})),Sf}async function bP(n){try{const t=(await I0()).transaction(bl),i=await t.objectStore(bl).get(S0(n));return await t.done,i}catch(e){if(e instanceof rr)ii.warn(e.message);else{const t=Hi.create("idb-get",{originalErrorMessage:e?.message});ii.warn(t.message)}}}async function Av(n,e){try{const i=(await I0()).transaction(bl,"readwrite");await i.objectStore(bl).put(e,S0(n)),await i.done}catch(t){if(t instanceof rr)ii.warn(t.message);else{const i=Hi.create("idb-set",{originalErrorMessage:t?.message});ii.warn(i.message)}}}function S0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=1024,OP=720*60*60*1e3;class DP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Cv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=OP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Cv(),{heartbeatsToSend:i,unsentEntries:o}=LP(this._heartbeatsCache.heartbeats),a=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ii.warn(t),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function LP(n,e=NP){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Rv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Rv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class MP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v0()?_0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Av(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Av(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Rv(n){return $c(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n){Sr(new tr("platform-logger",e=>new Y1(e),"PRIVATE")),Sr(new tr("heartbeat",e=>new DP(e),"PRIVATE")),Nn(Gf,Iv,n),Nn(Gf,Iv,"esm2017"),Nn("fire-js","")}VP("");function A0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jP=A0,C0=new $s("auth","Firebase",A0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new gd("@firebase/auth");function FP(n,...e){Hc.logLevel<=Ue.WARN&&Hc.warn(`Auth (${fa}): ${n}`,...e)}function kc(n,...e){Hc.logLevel<=Ue.ERROR&&Hc.error(`Auth (${fa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw bp(n,...e)}function wr(n,...e){return bp(n,...e)}function R0(n,e,t){const i=Object.assign(Object.assign({},jP()),{[e]:t});return new $s("auth","Firebase",i).create(e,{appName:n.name})}function ei(n){return R0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return C0.create(n,...e)}function Ae(n,e,...t){if(!n)throw bp(e,...t)}function Xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kc(e),new Error(e)}function si(n,e){n||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function UP(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UP()||y0()||"connection"in navigator)?navigator.onLine:!0}function BP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=p1()||y1()}get(){return zP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new Hl(3e4,6e4);function li(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Pr(n,e,t,i,o={}){return k0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Wl(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:f},a);return g1()||(y.referrerPolicy="no-referrer"),P0.fetch()(b0(n,n.config.apiHost,t,h),y)})}async function k0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},$P),e);try{const o=new qP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Tc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,y]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Tc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Tc(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw R0(n,_,y);nr(n,_)}}catch(o){if(o instanceof rr)throw o;nr(n,"network-request-failed",{message:String(o)})}}async function ql(n,e,t,i,o={}){const a=await Pr(n,e,t,i,o);return"mfaPendingCredential"in a&&nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function b0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Np(n.config,o):`${n.config.apiScheme}://${o}`}function HP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(wr(this.auth,"network-request-failed")),WP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=wr(n,e,i);return o.customData._tokenResponse=t,o}function kv(n){return n!==void 0&&n.enterprise!==void 0}class KP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function GP(n,e){return Pr(n,"GET","/v2/recaptchaConfig",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,e){return Pr(n,"POST","/v1/accounts:delete",e)}async function N0(n,e){return Pr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YP(n,e=!1){const t=Ft(n),i=await t.getIdToken(e),o=Op(i);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:i,authTime:El(Af(o.auth_time)),issuedAtTime:El(Af(o.iat)),expirationTime:El(Af(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Af(n){return Number(n)*1e3}function Op(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=f0(t);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bv(n){const e=Op(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof rr&&XP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function XP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ta(n,N0(t,{idToken:i}));Ae(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?O0(a.providerUserInfo):[],h=ek(n.providerData,c),f=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!h?.length,_=f?y:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Jf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function ZP(n){const e=Ft(n);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ek(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function O0(n){return n.map(e=>{var{providerId:t}=e,i=$l(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n,e){const t=await k0(n,{},async()=>{const i=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=b0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",P0.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nk(n,e){return Pr(n,"POST","/v2/accounts:revokeToken",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=bv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await tk(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Yo;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ae(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=$l(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Jf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ta(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YP(this,e)}reload(){return ZP(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await ta(this,QP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,f,y,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,S=(h=t.tenantId)!==null&&h!==void 0?h:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,B=(y=t.createdAt)!==null&&y!==void 0?y:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:Y,isAnonymous:J,providerData:se,stsTokenManager:C}=t;Ae(q&&C,e,"internal-error");const A=Yo.fromJSON(this.name,C);Ae(typeof q=="string",e,"internal-error"),Li(T,e.name),Li(I,e.name),Ae(typeof Y=="boolean",e,"internal-error"),Ae(typeof J=="boolean",e,"internal-error"),Li(R,e.name),Li(O,e.name),Li(S,e.name),Li(b,e.name),Li(B,e.name),Li(z,e.name);const k=new Jr({uid:q,auth:e,email:I,emailVerified:Y,displayName:T,isAnonymous:J,photoURL:O,phoneNumber:R,tenantId:S,stsTokenManager:A,createdAt:B,lastLoginAt:z});return se&&Array.isArray(se)&&(k.providerData=se.map(D=>Object.assign({},D))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new Yo;o.updateFromServerResponse(t);const a=new Jr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await qc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?O0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,h=new Yo;h.updateFromIdToken(i);const f=new Jr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;function Zr(n){si(n instanceof Function,"Expected a class definition");let e=Nv.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Nv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}D0.type="NONE";const Ov=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,a),this.fullPersistenceKey=bc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Xo(Zr(Ov),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Zr(Ov);const c=bc(i,e.config.apiKey,e.name);let h=null;for(const y of t)try{const _=await y._get(c);if(_){const T=Jr._fromJSON(e,_);y!==a&&(h=T),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Xo(a,e,i):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Xo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U0(e))return"Blackberry";if(z0(e))return"Webos";if(M0(e))return"Safari";if((e.includes("chrome/")||V0(e))&&!e.includes("edge/"))return"Chrome";if(F0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function L0(n=Gt()){return/firefox\//i.test(n)}function M0(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V0(n=Gt()){return/crios\//i.test(n)}function j0(n=Gt()){return/iemobile/i.test(n)}function F0(n=Gt()){return/android/i.test(n)}function U0(n=Gt()){return/blackberry/i.test(n)}function z0(n=Gt()){return/webos/i.test(n)}function Dp(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rk(n=Gt()){var e;return Dp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ik(){return v1()&&document.documentMode===10}function B0(n=Gt()){return Dp(n)||F0(n)||z0(n)||U0(n)||/windows phone/i.test(n)||j0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n,e=[]){let t;switch(n){case"Browser":t=Dv(Gt());break;case"Worker":t=`${Dv(Gt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(n,e={}){return Pr(n,"GET","/v2/passwordPolicy",li(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=6;class lk{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:ak,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new sk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await N0(this,{idToken:e}),i=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&f?.user&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(ei(this));const t=e?Ft(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ok(this),t=new lk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $s("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await nk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&FP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hs(n){return Ft(n)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=S1(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ck(n){yd=n}function W0(n){return yd.loadJS(n)}function dk(){return yd.recaptchaEnterpriseScript}function hk(){return yd.gapiScript}function fk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const pk="recaptcha-enterprise",mk="NO_RECAPTCHA";class gk{constructor(e){this.type=pk,this.auth=Hs(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{GP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new KP(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(f=>{h(f)})})}function o(a,c,h){const f=window.grecaptcha;kv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(mk)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&kv(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=dk();f.length!==0&&(f+=h),W0(f).then(()=>{o(h,a,c)}).catch(y=>{c(y)})}}).catch(h=>{c(h)})})}}async function Mv(n,e,t,i=!1){const o=new gk(n);let a;try{a=await o.verify(t)}catch{a=await o.verify(t,!0)}const c=Object.assign({},e);return i?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Zf(n,e,t,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Mv(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Mv(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n,e){const t=Ws(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(kl(a,e??{}))return o;nr(o,"already-initialized")}return t.initialize({options:e})}function vk(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Zr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function _k(n,e,t){const i=Hs(n);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=H0(e),{host:c,port:h}=wk(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),Ek()}function H0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wk(n){const e=H0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Vv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Vv(c)}}}function Vv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Ek(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function Tk(n,e){return Pr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(n,e){return ql(n,"POST","/v1/accounts:signInWithPassword",li(n,e))}async function Ik(n,e){return Pr(n,"POST","/v1/accounts:sendOobCode",li(n,e))}async function Sk(n,e){return Ik(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(n,e){return ql(n,"POST","/v1/accounts:signInWithEmailLink",li(n,e))}async function Ck(n,e){return ql(n,"POST","/v1/accounts:signInWithEmailLink",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Lp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Nl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Nl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zf(e,t,"signInWithPassword",xk);case"emailLink":return Ak(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zf(e,i,"signUpPassword",Tk);case"emailLink":return Ck(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,e){return ql(n,"POST","/v1/accounts:signInWithIdp",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="http://localhost";class Ms extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=$l(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ms(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Jo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:Rk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kk(n){const e=gl(yl(n)).link,t=e?gl(yl(e)).deep_link_id:null,i=gl(yl(n)).deep_link_id;return(i?gl(yl(i)).link:null)||i||t||e||n}class Mp{constructor(e){var t,i,o,a,c,h;const f=gl(yl(e)),y=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,T=Pk((o=f.mode)!==null&&o!==void 0?o:null);Ae(y&&_&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=kk(e);try{return new Mp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,t){return Nl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Mp.parseLink(t);return Ae(i,"argument-error"),Nl._fromEmailAndCode(e,i.code,i.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Kl{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ms._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ui.credential(t,i)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Kl{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Kl{constructor(){super("twitter.com")}static credential(e,t){return Ms._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Bi.credential(t,i)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e){return ql(n,"POST","/v1/accounts:signUp",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Jr._fromIdTokenResponse(e,i,o),c=jv(i);return new Vs({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=jv(i);return new Vs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function jv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends rr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Kc(e,t,i,o)}}function K0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(n,a,e,i):a})}async function Nk(n,e,t=!1){const i=await ta(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e,t=!1){const{auth:i}=n;if(vr(i.app))return Promise.reject(ei(i));const o="reauthenticate";try{const a=await ta(n,K0(i,o,e,n),t);Ae(a.idToken,i,"internal-error");const c=Op(a.idToken);Ae(c,i,"internal-error");const{sub:h}=c;return Ae(n.uid===h,i,"user-mismatch"),Vs._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&nr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(n,e,t=!1){if(vr(n.app))return Promise.reject(ei(n));const i="signIn",o=await K0(n,i,e),a=await Vs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function Dk(n,e){return G0(Hs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(n){const e=Hs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lk(n,e,t){if(vr(n.app))return Promise.reject(ei(n));const i=Hs(n),c=await Zf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Q0(n),f}),h=await Vs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function Mk(n,e,t){return vr(n.app)?Promise.reject(ei(n)):Dk(Ft(n),pa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Q0(n),i})}async function Vk(n,e){const t=Ft(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await Sk(t.auth,o);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e){return Pr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Ft(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await ta(i,jk(i.auth,a));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function Uk(n,e,t,i){return Ft(n).onIdTokenChanged(e,t,i)}function zk(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}function Bk(n,e,t,i){return Ft(n).onAuthStateChanged(e,t,i)}function $k(n){return Ft(n).signOut()}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=1e3,Hk=10;class X0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);ik()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Hk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}X0.type="LOCAL";const qk=X0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}J0.type="SESSION";const Z0=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new vd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async y=>y(t.origin,a)),f=await Kk(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const y=Vp("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function Qk(n){Er().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function Yk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xk(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Jk(){return eE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebaseLocalStorageDb",Zk=1,Qc="firebaseLocalStorage",nE="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _d(n,e){return n.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function eb(){const n=indexedDB.deleteDatabase(tE);return new Gl(n).toPromise()}function ep(){const n=indexedDB.open(tE,Zk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Qc,{keyPath:nE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Qc)?e(i):(i.close(),await eb(),e(await ep()))})})}async function Fv(n,e,t){const i=_d(n,!0).put({[nE]:e,value:t});return new Gl(i).toPromise()}async function tb(n,e){const t=_d(n,!1).get(e),i=await new Gl(t).toPromise();return i===void 0?null:i.value}function Uv(n,e){const t=_d(n,!0).delete(e);return new Gl(t).toPromise()}const nb=800,rb=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>rb)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(Jk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Yk(),!this.activeServiceWorker)return;this.sender=new Gk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await Fv(e,Gc,"1"),await Uv(e,Gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Fv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>tb(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=_d(o,!1).getAll();return new Gl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const ib=rE;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n,e){return e?Zr(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ob(n){return G0(n.auth,new jp(n),n.bypassAuthState)}function ab(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),Ok(t,new jp(n),n.bypassAuthState)}async function lb(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),Nk(t,new jp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ob;case"linkViaPopup":case"linkViaRedirect":return lb;case"reauthViaPopup":case"reauthViaRedirect":return ab;default:nr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Hl(2e3,1e4);class qo extends iE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ub.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="pendingRedirect",Nc=new Map;class db extends iE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const i=await hb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hb(n,e){const t=mb(e),i=pb(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function fb(n,e){Nc.set(n._key(),e)}function pb(n){return Zr(n._redirectPersistence)}function mb(n){return bc(cb,n.config.apiKey,n.name)}async function gb(n,e,t=!1){if(vr(n.app))return Promise.reject(ei(n));const i=Hs(n),o=sb(i,e),c=await new db(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=600*1e3;class vb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_b(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!sE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(wr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yb&&this.cachedEventUids.clear(),this.cachedEventUids.has(zv(e))}saveEventToCache(e){this.cachedEventUids.add(zv(e)),this.lastProcessedEventTime=Date.now()}}function zv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _b(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(n,e={}){return Pr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tb=/^https?/;async function xb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wb(n);for(const t of e)try{if(Ib(t))return}catch{}nr(n,"unauthorized-domain")}function Ib(n){const e=Xf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Tb.test(t))return!1;if(Eb.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Hl(3e4,6e4);function Bv(){const n=Er().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ab(n){return new Promise((e,t)=>{var i,o,a;function c(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),t(wr(n,"network-request-failed"))},timeout:Sb.get()})}if(!((o=(i=Er().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Er().gapi)===null||a===void 0)&&a.load)c();else{const h=fk("iframefcb");return Er()[h]=()=>{gapi.load?c():t(wr(n,"network-request-failed"))},W0(`${hk()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function Cb(n){return Oc=Oc||Ab(n),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Hl(5e3,15e3),Pb="__/auth/iframe",kb="emulator/auth/iframe",bb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ob(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Np(e,kb):`https://${n.config.authDomain}/${Pb}`,i={apiKey:e.apiKey,appName:n.name,v:fa},o=Nb.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Wl(i).slice(1)}`}async function Db(n){const e=await Cb(n),t=Er().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:Ob(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bb,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=wr(n,"network-request-failed"),h=Er().setTimeout(()=>{a(c)},Rb.get());function f(){Er().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mb=500,Vb=600,jb="_blank",Fb="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ub(n,e,t,i=Mb,o=Vb){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Lb),{width:i.toString(),height:o.toString(),top:a,left:c}),y=Gt().toLowerCase();t&&(h=V0(y)?jb:t),L0(y)&&(e=e||Fb,f.scrollbars="yes");const _=Object.entries(f).reduce((I,[R,O])=>`${I}${R}=${O},`,"");if(rk(y)&&h!=="_self")return zb(e||"",h),new $v(null);const T=window.open(e||"",h,_);Ae(T,n,"popup-blocked");try{T.focus()}catch{}return new $v(T)}function zb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__/auth/handler",$b="emulator/auth/handler",Wb=encodeURIComponent("fac");async function Wv(n,e,t,i,o,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:fa,eventId:o};if(e instanceof q0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",I1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Kl){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),y=f?`#${Wb}=${encodeURIComponent(f)}`:"";return`${Hb(n)}?${Wl(h).slice(1)}${y}`}function Hb({config:n}){return n.emulator?Np(n,$b):`https://${n.authDomain}/${Bb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="webStorageSupport";class qb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=gb,this._overrideRedirectResult=fb}async _openPopup(e,t,i,o){var a;si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Wv(e,t,i,Xf(),o);return Ub(e,c,Vp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Wv(e,t,i,Xf(),o);return Qk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(si(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Db(e),i=new vb(e);return t.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cf,{type:Cf},o=>{var a;const c=(a=o?.[0])===null||a===void 0?void 0:a[Cf];c!==void 0&&t(!!c),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B0()||M0()||Dp()}}const Kb=qb;var Hv="@firebase/auth",qv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yb(n){Sr(new tr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(n)},y=new uk(i,o,a,f);return vk(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Sr(new tr("auth-internal",e=>{const t=Hs(e.getProvider("auth").getImmediate());return(i=>new Gb(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(Hv,qv,Qb(n)),Nn(Hv,qv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=300,Jb=g0("authIdTokenMaxAge")||Xb;let Kv=null;const Zb=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Jb)return;const o=t?.token;Kv!==o&&(Kv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eN(n=kp()){const e=Ws(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yk(n,{popupRedirectResolver:Kb,persistence:[ib,qk,Z0]}),i=g0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Zb(a.toString());zk(t,c,()=>c(t.currentUser)),Uk(t,h=>c(h))}}const o=p0("auth");return o&&_k(t,`http://${o}`),t}function tN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ck({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=wr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",tN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yb("Browser");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,oE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function k(){}k.prototype=A.prototype,C.D=A.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(D,V,M){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return A.prototype[V].apply(D,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,k){k||(k=0);var D=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)D[V]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(V=0;16>V;++V)D[V]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=C.g[0],k=C.g[1],V=C.g[2];var M=C.g[3],P=A+(M^k&(V^M))+D[0]+3614090360&4294967295;A=k+(P<<7&4294967295|P>>>25),P=M+(V^A&(k^V))+D[1]+3905402710&4294967295,M=A+(P<<12&4294967295|P>>>20),P=V+(k^M&(A^k))+D[2]+606105819&4294967295,V=M+(P<<17&4294967295|P>>>15),P=k+(A^V&(M^A))+D[3]+3250441966&4294967295,k=V+(P<<22&4294967295|P>>>10),P=A+(M^k&(V^M))+D[4]+4118548399&4294967295,A=k+(P<<7&4294967295|P>>>25),P=M+(V^A&(k^V))+D[5]+1200080426&4294967295,M=A+(P<<12&4294967295|P>>>20),P=V+(k^M&(A^k))+D[6]+2821735955&4294967295,V=M+(P<<17&4294967295|P>>>15),P=k+(A^V&(M^A))+D[7]+4249261313&4294967295,k=V+(P<<22&4294967295|P>>>10),P=A+(M^k&(V^M))+D[8]+1770035416&4294967295,A=k+(P<<7&4294967295|P>>>25),P=M+(V^A&(k^V))+D[9]+2336552879&4294967295,M=A+(P<<12&4294967295|P>>>20),P=V+(k^M&(A^k))+D[10]+4294925233&4294967295,V=M+(P<<17&4294967295|P>>>15),P=k+(A^V&(M^A))+D[11]+2304563134&4294967295,k=V+(P<<22&4294967295|P>>>10),P=A+(M^k&(V^M))+D[12]+1804603682&4294967295,A=k+(P<<7&4294967295|P>>>25),P=M+(V^A&(k^V))+D[13]+4254626195&4294967295,M=A+(P<<12&4294967295|P>>>20),P=V+(k^M&(A^k))+D[14]+2792965006&4294967295,V=M+(P<<17&4294967295|P>>>15),P=k+(A^V&(M^A))+D[15]+1236535329&4294967295,k=V+(P<<22&4294967295|P>>>10),P=A+(V^M&(k^V))+D[1]+4129170786&4294967295,A=k+(P<<5&4294967295|P>>>27),P=M+(k^V&(A^k))+D[6]+3225465664&4294967295,M=A+(P<<9&4294967295|P>>>23),P=V+(A^k&(M^A))+D[11]+643717713&4294967295,V=M+(P<<14&4294967295|P>>>18),P=k+(M^A&(V^M))+D[0]+3921069994&4294967295,k=V+(P<<20&4294967295|P>>>12),P=A+(V^M&(k^V))+D[5]+3593408605&4294967295,A=k+(P<<5&4294967295|P>>>27),P=M+(k^V&(A^k))+D[10]+38016083&4294967295,M=A+(P<<9&4294967295|P>>>23),P=V+(A^k&(M^A))+D[15]+3634488961&4294967295,V=M+(P<<14&4294967295|P>>>18),P=k+(M^A&(V^M))+D[4]+3889429448&4294967295,k=V+(P<<20&4294967295|P>>>12),P=A+(V^M&(k^V))+D[9]+568446438&4294967295,A=k+(P<<5&4294967295|P>>>27),P=M+(k^V&(A^k))+D[14]+3275163606&4294967295,M=A+(P<<9&4294967295|P>>>23),P=V+(A^k&(M^A))+D[3]+4107603335&4294967295,V=M+(P<<14&4294967295|P>>>18),P=k+(M^A&(V^M))+D[8]+1163531501&4294967295,k=V+(P<<20&4294967295|P>>>12),P=A+(V^M&(k^V))+D[13]+2850285829&4294967295,A=k+(P<<5&4294967295|P>>>27),P=M+(k^V&(A^k))+D[2]+4243563512&4294967295,M=A+(P<<9&4294967295|P>>>23),P=V+(A^k&(M^A))+D[7]+1735328473&4294967295,V=M+(P<<14&4294967295|P>>>18),P=k+(M^A&(V^M))+D[12]+2368359562&4294967295,k=V+(P<<20&4294967295|P>>>12),P=A+(k^V^M)+D[5]+4294588738&4294967295,A=k+(P<<4&4294967295|P>>>28),P=M+(A^k^V)+D[8]+2272392833&4294967295,M=A+(P<<11&4294967295|P>>>21),P=V+(M^A^k)+D[11]+1839030562&4294967295,V=M+(P<<16&4294967295|P>>>16),P=k+(V^M^A)+D[14]+4259657740&4294967295,k=V+(P<<23&4294967295|P>>>9),P=A+(k^V^M)+D[1]+2763975236&4294967295,A=k+(P<<4&4294967295|P>>>28),P=M+(A^k^V)+D[4]+1272893353&4294967295,M=A+(P<<11&4294967295|P>>>21),P=V+(M^A^k)+D[7]+4139469664&4294967295,V=M+(P<<16&4294967295|P>>>16),P=k+(V^M^A)+D[10]+3200236656&4294967295,k=V+(P<<23&4294967295|P>>>9),P=A+(k^V^M)+D[13]+681279174&4294967295,A=k+(P<<4&4294967295|P>>>28),P=M+(A^k^V)+D[0]+3936430074&4294967295,M=A+(P<<11&4294967295|P>>>21),P=V+(M^A^k)+D[3]+3572445317&4294967295,V=M+(P<<16&4294967295|P>>>16),P=k+(V^M^A)+D[6]+76029189&4294967295,k=V+(P<<23&4294967295|P>>>9),P=A+(k^V^M)+D[9]+3654602809&4294967295,A=k+(P<<4&4294967295|P>>>28),P=M+(A^k^V)+D[12]+3873151461&4294967295,M=A+(P<<11&4294967295|P>>>21),P=V+(M^A^k)+D[15]+530742520&4294967295,V=M+(P<<16&4294967295|P>>>16),P=k+(V^M^A)+D[2]+3299628645&4294967295,k=V+(P<<23&4294967295|P>>>9),P=A+(V^(k|~M))+D[0]+4096336452&4294967295,A=k+(P<<6&4294967295|P>>>26),P=M+(k^(A|~V))+D[7]+1126891415&4294967295,M=A+(P<<10&4294967295|P>>>22),P=V+(A^(M|~k))+D[14]+2878612391&4294967295,V=M+(P<<15&4294967295|P>>>17),P=k+(M^(V|~A))+D[5]+4237533241&4294967295,k=V+(P<<21&4294967295|P>>>11),P=A+(V^(k|~M))+D[12]+1700485571&4294967295,A=k+(P<<6&4294967295|P>>>26),P=M+(k^(A|~V))+D[3]+2399980690&4294967295,M=A+(P<<10&4294967295|P>>>22),P=V+(A^(M|~k))+D[10]+4293915773&4294967295,V=M+(P<<15&4294967295|P>>>17),P=k+(M^(V|~A))+D[1]+2240044497&4294967295,k=V+(P<<21&4294967295|P>>>11),P=A+(V^(k|~M))+D[8]+1873313359&4294967295,A=k+(P<<6&4294967295|P>>>26),P=M+(k^(A|~V))+D[15]+4264355552&4294967295,M=A+(P<<10&4294967295|P>>>22),P=V+(A^(M|~k))+D[6]+2734768916&4294967295,V=M+(P<<15&4294967295|P>>>17),P=k+(M^(V|~A))+D[13]+1309151649&4294967295,k=V+(P<<21&4294967295|P>>>11),P=A+(V^(k|~M))+D[4]+4149444226&4294967295,A=k+(P<<6&4294967295|P>>>26),P=M+(k^(A|~V))+D[11]+3174756917&4294967295,M=A+(P<<10&4294967295|P>>>22),P=V+(A^(M|~k))+D[2]+718787259&4294967295,V=M+(P<<15&4294967295|P>>>17),P=k+(M^(V|~A))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+M&4294967295}i.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var k=A-this.blockSize,D=this.B,V=this.h,M=0;M<A;){if(V==0)for(;M<=k;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<A;)if(D[V++]=C.charCodeAt(M++),V==this.blockSize){o(this,D),V=0;break}}else for(;M<A;)if(D[V++]=C[M++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=A},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var k=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=k&255,k/=256;for(this.u(C),C=Array(16),A=k=0;4>A;++A)for(var D=0;32>D;D+=8)C[k++]=this.g[A]>>>D&255;return C};function a(C,A){var k=h;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=A(C)}function c(C,A){this.h=A;for(var k=[],D=!0,V=C.length-1;0<=V;V--){var M=C[V]|0;D&&M==A||(k[V]=M,D=!1)}this.g=k}var h={};function f(C){return-128<=C&&128>C?a(C,function(A){return new c([A|0],0>A?-1:0)}):new c([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(0>C)return b(y(-C));for(var A=[],k=1,D=0;C>=k;D++)A[D]=C/k|0,k*=4294967296;return new c(A,0)}function _(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return b(_(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(A,8)),D=T,V=0;V<C.length;V+=8){var M=Math.min(8,C.length-V),P=parseInt(C.substring(V,V+M),A);8>M?(M=y(Math.pow(A,M)),D=D.j(M).add(y(P))):(D=D.j(k),D=D.add(y(P)))}return D}var T=f(0),I=f(1),R=f(16777216);n=c.prototype,n.m=function(){if(S(this))return-b(this).m();for(var C=0,A=1,k=0;k<this.g.length;k++){var D=this.i(k);C+=(0<=D?D:4294967296+D)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(S(this))return"-"+b(this).toString(C);for(var A=y(Math.pow(C,6)),k=this,D="";;){var V=Y(k,A).g;k=B(k,V.j(A));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=V,O(k))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function S(C){return C.h==-1}n.l=function(C){return C=B(this,C),S(C)?-1:O(C)?0:1};function b(C){for(var A=C.g.length,k=[],D=0;D<A;D++)k[D]=~C.g[D];return new c(k,~C.h).add(I)}n.abs=function(){return S(this)?b(this):this},n.add=function(C){for(var A=Math.max(this.g.length,C.g.length),k=[],D=0,V=0;V<=A;V++){var M=D+(this.i(V)&65535)+(C.i(V)&65535),P=(M>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);D=P>>>16,M&=65535,P&=65535,k[V]=P<<16|M}return new c(k,k[k.length-1]&-2147483648?-1:0)};function B(C,A){return C.add(b(A))}n.j=function(C){if(O(this)||O(C))return T;if(S(this))return S(C)?b(this).j(b(C)):b(b(this).j(C));if(S(C))return b(this.j(b(C)));if(0>this.l(R)&&0>C.l(R))return y(this.m()*C.m());for(var A=this.g.length+C.g.length,k=[],D=0;D<2*A;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<C.g.length;V++){var M=this.i(D)>>>16,P=this.i(D)&65535,ve=C.i(V)>>>16,Oe=C.i(V)&65535;k[2*D+2*V]+=P*Oe,z(k,2*D+2*V),k[2*D+2*V+1]+=M*Oe,z(k,2*D+2*V+1),k[2*D+2*V+1]+=P*ve,z(k,2*D+2*V+1),k[2*D+2*V+2]+=M*ve,z(k,2*D+2*V+2)}for(D=0;D<A;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=A;D<2*A;D++)k[D]=0;return new c(k,0)};function z(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function q(C,A){this.g=C,this.h=A}function Y(C,A){if(O(A))throw Error("division by zero");if(O(C))return new q(T,T);if(S(C))return A=Y(b(C),A),new q(b(A.g),b(A.h));if(S(A))return A=Y(C,b(A)),new q(b(A.g),A.h);if(30<C.g.length){if(S(C)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var k=I,D=A;0>=D.l(C);)k=J(k),D=J(D);var V=se(k,1),M=se(D,1);for(D=se(D,2),k=se(k,2);!O(D);){var P=M.add(D);0>=P.l(C)&&(V=V.add(k),M=P),D=se(D,1),k=se(k,1)}return A=B(C,V.j(A)),new q(V,A)}for(V=T;0<=C.l(A);){for(k=Math.max(1,Math.floor(C.m()/A.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=y(k),P=M.j(A);S(P)||0<P.l(C);)k-=D,M=y(k),P=M.j(A);O(M)&&(M=I),V=V.add(M),C=B(C,P)}return new q(V,C)}n.A=function(C){return Y(this,C).h},n.and=function(C){for(var A=Math.max(this.g.length,C.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)&C.i(D);return new c(k,this.h&C.h)},n.or=function(C){for(var A=Math.max(this.g.length,C.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)|C.i(D);return new c(k,this.h|C.h)},n.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)^C.i(D);return new c(k,this.h^C.h)};function J(C){for(var A=C.g.length+1,k=[],D=0;D<A;D++)k[D]=C.i(D)<<1|C.i(D-1)>>>31;return new c(k,C.h)}function se(C,A){var k=A>>5;A%=32;for(var D=C.g.length-k,V=[],M=0;M<D;M++)V[M]=0<A?C.i(M+k)>>>A|C.i(M+k+1)<<32-A:C.i(M+k);return new c(V,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,oE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,bs=c}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aE,vl,lE,Dc,tp,uE,cE,dE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var x=0;x<u.length-1;x++){var $=u[x];if(!($ in v))break e;v=v[$]}u=u[u.length-1],x=v[u],m=m(x),m!=x&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,x=!1,$={next:function(){if(!x&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return x=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,x),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,I.apply(null,arguments)}function R(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(x,$,G){for(var le=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)le[Ke-2]=arguments[Ke];return m.prototype[$].apply(x,le)}}function S(u){const m=u.length;if(0<m){const v=Array(m);for(let x=0;x<m;x++)v[x]=u[x];return v}return[]}function b(u,m){for(let v=1;v<arguments.length;v++){const x=arguments[v];if(f(x)){const $=u.length||0,G=x.length||0;u.length=$+G;for(let le=0;le<G;le++)u[$+le]=x[le]}else u.push(x)}}class B{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var J=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function se(u,m,v){for(const x in u)m.call(v,u[x],x,u)}function C(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let v,x;for(let $=1;$<arguments.length;$++){x=arguments[$];for(v in x)u[v]=x[v];for(let G=0;G<k.length;G++)v=k[G],Object.prototype.hasOwnProperty.call(x,v)&&(u[v]=x[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){h.setTimeout(()=>{throw u},0)}function P(){var u=ae;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,v){const x=Oe.get();x.set(m,v),this.h?this.h.next=x:this.g=x,this.h=x}}var Oe=new B(()=>new _e,u=>u.reset());class _e{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Q=!1,ae=new ve,oe=()=>{const u=h.Promise.resolve(void 0);fe=()=>{u.then(U)}};var U=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){M(v)}var m=Oe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Se=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,m),h.removeEventListener("test",v,m)}catch{}return u})();function Re(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(J){e:{try{Y(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}O(Re,pe);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),we=0;function Le(u,m,v,x,$){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!x,this.ha=$,this.key=++we,this.da=this.fa=!1}function ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u){this.src=u,this.g={},this.h=0}ze.prototype.add=function(u,m,v,x,$){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var le=ct(u,m,x,$);return-1<le?(m=u[le],v||(m.fa=!1)):(m=new Le(m,this.src,G,!!x,$),m.fa=v,u.push(m)),m};function Qe(u,m){var v=m.type;if(v in u.g){var x=u.g[v],$=Array.prototype.indexOf.call(x,m,void 0),G;(G=0<=$)&&Array.prototype.splice.call(x,$,1),G&&(ke(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ct(u,m,v,x){for(var $=0;$<u.length;++$){var G=u[$];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==x)return $}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),ir={};function kr(u,m,v,x,$){if(Array.isArray(m)){for(var G=0;G<m.length;G++)kr(u,m[G],v,x,$);return null}return v=wa(v),u&&u[ue]?u.K(m,v,y(x)?!!x.capture:!1,$):br(u,m,v,!1,x,$)}function br(u,m,v,x,$,G){if(!m)throw Error("Invalid event type");var le=y($)?!!$.capture:!!$,Ke=Qs(u);if(Ke||(u[Qt]=Ke=new ze(u)),v=Ke.add(m,v,x,le,G),v.proxy)return v;if(x=tu(),v.proxy=x,x.src=u,x.listener=v,u.addEventListener)Se||($=le),$===void 0&&($=!1),u.addEventListener(m.toString(),x,$);else if(u.attachEvent)u.attachEvent(Or(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function tu(){function u(v){return m.call(u.src,u.listener,v)}const m=_a;return u}function Gs(u,m,v,x,$){if(Array.isArray(m))for(var G=0;G<m.length;G++)Gs(u,m[G],v,x,$);else x=y(x)?!!x.capture:!!x,v=wa(v),u&&u[ue]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=ct(G,v,x,$),-1<v&&(ke(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ct(m,v,x,$)),(v=-1<u?m[u]:null)&&Nr(v))}function Nr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])Qe(m.i,u);else{var v=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(v,x,u.capture):m.detachEvent?m.detachEvent(Or(v),x):m.addListener&&m.removeListener&&m.removeListener(x),(v=Qs(m))?(Qe(v,u),v.h==0&&(v.src=null,m[Qt]=null)):ke(u)}}}function Or(u){return u in ir?ir[u]:ir[u]="on"+u}function _a(u,m){if(u.da)u=!0;else{m=new Re(m,this);var v=u.listener,x=u.ha||u.src;u.fa&&Nr(u),u=v.call(x,m)}return u}function Qs(u){return u=u[Qt],u instanceof ze?u:null}var Ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function wa(u){return typeof u=="function"?u:(u[Ys]||(u[Ys]=function(m){return u.handleEvent(m)}),u[Ys])}function vt(){X.call(this),this.i=new ze(this),this.M=this,this.F=null}O(vt,X),vt.prototype[ue]=!0,vt.prototype.removeEventListener=function(u,m,v,x){Gs(this,u,m,v,x)};function _t(u,m){var v,x=u.F;if(x)for(v=[];x;x=x.F)v.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var $=m;m=new pe(x,u),D(m,$)}if($=!0,v)for(var G=v.length-1;0<=G;G--){var le=m.g=v[G];$=Dr(le,x,!0,m)&&$}if(le=m.g=u,$=Dr(le,x,!0,m)&&$,$=Dr(le,x,!1,m)&&$,v)for(G=0;G<v.length;G++)le=m.g=v[G],$=Dr(le,x,!1,m)&&$}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],x=0;x<v.length;x++)ke(v[x]);delete u.g[m],u.h--}}this.F=null},vt.prototype.K=function(u,m,v,x){return this.i.add(String(u),m,!1,v,x)},vt.prototype.L=function(u,m,v,x){return this.i.add(String(u),m,!0,v,x)};function Dr(u,m,v,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,G=0;G<m.length;++G){var le=m[G];if(le&&!le.da&&le.capture==v){var Ke=le.listener,wt=le.ha||le.src;le.fa&&Qe(u.i,le),$=Ke.call(wt,x)!==!1&&$}}return $&&!x.defaultPrevented}function Ea(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function ui(u){u.g=Ea(()=>{u.g=null,u.i&&(u.i=!1,ui(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class es extends X{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){X.call(this),this.h=u,this.g={}}O(ts,X);var Ta=[];function xa(u){se(u.g,function(m,v){this.g.hasOwnProperty(v)&&Nr(m)},u),u.g={}}ts.prototype.N=function(){ts.aa.N.call(this),xa(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=h.JSON.stringify,Sa=h.JSON.parse,Aa=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function ns(){}ns.prototype.h=null;function Xs(u){return u.h||(u.h=u.i())}function Js(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){pe.call(this,"d")}O(sr,pe);function Zs(){pe.call(this,"c")}O(Zs,pe);var or={},Ca=null;function rs(){return Ca=Ca||new vt}or.La="serverreachability";function Ra(u){pe.call(this,or.La,u)}O(Ra,pe);function Lr(u){const m=rs();_t(m,new Ra(m))}or.STAT_EVENT="statevent";function Pa(u,m){pe.call(this,or.STAT_EVENT,u),this.stat=m}O(Pa,pe);function dt(u){const m=rs();_t(m,new Pa(m,u))}or.Ma="timingevent";function eo(u,m){pe.call(this,or.Ma,u),this.size=m}O(eo,pe);function Ln(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function ss(u,m,v,x,$,G){u.info(function(){if(u.g)if(G)for(var le="",Ke=G.split("&"),wt=0;wt<Ke.length;wt++){var Be=Ke[wt].split("=");if(1<Be.length){var St=Be[0];Be=Be[1];var pt=St.split("_");le=2<=pt.length&&pt[1]=="type"?le+(St+"="+Be+"&"):le+(St+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+x+") [attempt "+$+"]: "+m+`
`+v+`
`+le})}function to(u,m,v,x,$,G,le){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+$+"]: "+m+`
`+v+`
`+G+" "+le})}function Mn(u,m,v,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Od(u,v)+(x?" "+x:"")})}function ka(u,m){u.info(function(){return"TIMEOUT: "+m})}is.prototype.info=function(){};function Od(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var x=v[u];if(!(2>x.length)){var $=x[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<$.length;le++)$[le]=""}}}}return Ia(v)}catch{return m}}var no={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vn;function os(){}O(os,ns),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},Vn=new os;function jn(u,m,v,x){this.j=u,this.i=m,this.l=v,this.R=x||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ru}function ru(){this.i=null,this.g="",this.h=!1}var ba={},ro={};function io(u,m,v){u.L=1,u.v=pi(hn(m)),u.m=v,u.P=!0,Na(u,null)}function Na(u,m){u.F=Date.now(),Xe(u),u.A=hn(u.v);var v=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),gi(v.i,"t",x),u.C=0,v=u.j.J,u.h=new ru,u.g=Eu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new es(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,x=u.ca;var $="readystatechange";Array.isArray($)||($&&(Ta[0]=$.toString()),$=Ta);for(var G=0;G<$.length;G++){var le=kr(v,$[G],x||m.handleEvent,!1,m.h||m);if(!le)break;m.g[le.key]=le}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Lr(),ss(u.i,u.u,u.A,u.l,u.R,u.m)}jn.prototype.ca=function(u){u=u.target;const m=this.M;m&&tn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const pt=tn(this.g);var m=this.g.Ba();const In=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||ja(this.g)))){this.J||pt!=4||m==7||(m==8||0>=In?Lr(3):Lr(2)),as(this);var v=this.g.Z();this.X=v;t:if(iu(this)){var x=ja(this.g);u="";var $=x.length,G=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),ci(this);var le="";break t}this.h.i=new h.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(x[m],{stream:!(G&&m==$-1)});x.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,to(this.i,this.u,this.A,this.l,this.R,pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,wt=this.g;if((Ke=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ke)){var Be=Ke;break t}}Be=null}if(v=Be)Mn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,v);else{this.o=!1,this.s=3,dt(12),Tn(this),ci(this);break e}}if(this.P){v=!0;let pn;for(;!this.J&&this.C<le.length;)if(pn=Dd(this,le),pn==ro){pt==4&&(this.s=4,dt(14),v=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==ba){this.s=4,dt(15),Mn(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else Mn(this.i,this.l,pn,null),Oa(this,pn);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||le.length!=0||this.h.h||(this.s=1,dt(16),v=!1),this.o=this.o&&v,!v)Mn(this.i,this.l,le,"[Invalid Chunked Response]"),Tn(this),ci(this);else if(0<le.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ua(St),St.M=!0,dt(11))}}else Mn(this.i,this.l,le,null),Oa(this,le);pt==4&&Tn(this),this.o&&!this.J&&(pt==4?go(this.j,this):(this.o=!1,Xe(this)))}else co(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Tn(this),ci(this)}}}catch{}finally{}};function iu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Dd(u,m){var v=u.C,x=m.indexOf(`
`,v);return x==-1?ro:(v=Number(m.substring(v,x)),isNaN(v)?ba:(x+=1,x+v>m.length?ro:(m=m.slice(x,x+v),u.C=x+v,m)))}jn.prototype.cancel=function(){this.J=!0,Tn(this)};function Xe(u){u.S=Date.now()+u.I,su(u,u.I)}function su(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ln(I(u.ba,u),m)}function as(u){u.B&&(h.clearTimeout(u.B),u.B=null)}jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ka(this.i,this.A),this.L!=2&&(Lr(),dt(17)),Tn(this),this.s=2,ci(this)):su(this,this.S-u)};function ci(u){u.j.G==0||u.J||go(u.j,u)}function Tn(u){as(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,xa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Oa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Yt(v.h,u))){if(!u.K&&Yt(v.h,u)&&v.G==3){try{var x=v.Da.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var $=x;if($[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)mo(v),$n(v);else break e;po(v),dt(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ln(I(v.Za,v),6e3));if(1>=au(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ur(v,11)}else if((u.K||v.g==u)&&mo(v),!z(m))for($=v.Da.g.parse(m),m=0;m<$.length;m++){let Be=$[m];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const St=Be[3];St!=null&&(v.la=St,v.j.info("VER="+v.la));const pt=Be[4];pt!=null&&(v.Aa=pt,v.j.info("SVER="+v.Aa));const In=Be[5];In!=null&&typeof In=="number"&&0<In&&(x=1.5*In,v.L=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const pn=u.g;if(pn){const ps=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var G=x.h;G.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Da(G,G.h),G.h=null))}if(x.D){const vo=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(x.ya=vo,Ye(x.I,x.D,vo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),x=v;var le=u;if(x.qa=wu(x,x.J?x.ia:null,x.W),le.K){lu(x.h,le);var Ke=le,wt=x.L;wt&&(Ke.I=wt),Ke.B&&(as(Ke),Xe(Ke)),x.g=le}else fs(x);0<v.i.length&&cr(v)}else Be[0]!="stop"&&Be[0]!="close"||Ur(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ur(v,7):Nt(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Lr(4)}catch{}}var ou=class{constructor(u,m){this.g=u,this.map=m}};function ls(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function au(u){return u.h?1:u.g?u.g.size:0}function Yt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Da(u,m){u.g?u.g.add(m):u.h=m}function lu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ls.prototype.cancel=function(){if(this.i=uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return S(u.i)}function so(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var m=[],v=u.length,x=0;x<v;x++)m.push(u[x]);return m}m=[],v=0;for(x in u)m[v++]=u[x];return m}function oo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const x in u)m[v++]=x;return m}}}function di(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=oo(u),x=so(u),$=x.length,G=0;G<$;G++)m.call(void 0,x[G],v&&v[G],u)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ld(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var x=u[v].indexOf("="),$=null;if(0<=x){var G=u[v].substring(0,x);$=u[v].substring(x+1)}else G=u[v];m(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Mr){this.h=u.h,cs(this,u.j),this.o=u.o,this.g=u.g,hi(this,u.s),this.l=u.l;var m=u.i,v=new ar;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),fi(this,v),this.m=u.m}else u&&(m=String(u).match(us))?(this.h=!1,cs(this,m[1]||"",!0),this.o=Fe(m[2]||""),this.g=Fe(m[3]||"",!0),hi(this,m[4]),this.l=Fe(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=Fe(m[7]||"")):(this.h=!1,this.i=new ar(null,this.h))}Mr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(mi(m,ao,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mi(m,ao,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(mi(v,v.charAt(0)=="/"?hu:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",mi(v,La)),u.join("")};function hn(u){return new Mr(u)}function cs(u,m,v){u.j=v?Fe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,v){m instanceof ar?(u.i=m,lr(u.i,u.h)):(v||(m=mi(m,fu)),u.i=new ar(m,u.h))}function Ye(u,m,v){u.i.set(m,v)}function pi(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ao=/[#\/\?@]/g,du=/[#\?:]/g,hu=/[#\?]/g,fu=/[#\?@]/g,La=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bt(u){u.g||(u.g=new Map,u.h=0,u.i&&Ld(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=ar.prototype,n.add=function(u,m){bt(this),this.i=null,u=xn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Fn(u,m){bt(u),m=xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Un(u,m){return bt(u),m=xn(u,m),u.g.has(m)}n.forEach=function(u,m){bt(this),this.g.forEach(function(v,x){v.forEach(function($){u.call(m,$,x,this)},this)},this)},n.na=function(){bt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let x=0;x<m.length;x++){const $=u[x];for(let G=0;G<$.length;G++)v.push(m[x])}return v},n.V=function(u){bt(this);let m=[];if(typeof u=="string")Un(this,u)&&(m=m.concat(this.g.get(xn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return bt(this),this.i=null,u=xn(this,u),Un(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function gi(u,m,v){Fn(u,m),0<v.length&&(u.i=null,u.g.set(xn(u,m),S(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var x=m[v];const G=encodeURIComponent(String(x)),le=this.V(x);for(x=0;x<le.length;x++){var $=G;le[x]!==""&&($+="="+encodeURIComponent(String(le[x]))),u.push($)}}return this.i=u.join("&")};function xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function lr(u,m){m&&!u.j&&(bt(u),u.i=null,u.g.forEach(function(v,x){var $=x.toLowerCase();x!=$&&(Fn(this,x),gi(this,$,v))},u)),u.j=m}function Md(u,m){const v=new is;if(h.Image){const x=new Image;x.onload=R(en,v,"TestLoadImage: loaded",!0,m,x),x.onerror=R(en,v,"TestLoadImage: error",!1,m,x),x.onabort=R(en,v,"TestLoadImage: abort",!1,m,x),x.ontimeout=R(en,v,"TestLoadImage: timeout",!1,m,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function pu(u,m){const v=new is,x=new AbortController,$=setTimeout(()=>{x.abort(),en(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(G=>{clearTimeout($),G.ok?en(v,"TestPingServer: ok",!0,m):en(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),en(v,"TestPingServer: error",!1,m)})}function en(u,m,v,x,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),x(v)}catch{}}function Vd(){this.g=new Aa}function mu(u,m,v){const x=v||"";try{di(u,function($,G){let le=$;y($)&&(le=Ia($)),m.push(x+G+"="+encodeURIComponent(le))})}catch($){throw m.push(x+"type="+encodeURIComponent("_badmap")),$}}function Vr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Vr,ns),Vr.prototype.g=function(){return new ds(this.l,this.j)},Vr.prototype.i=(function(u){return function(){return u}})({});function ds(u,m){vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ds,vt),n=ds.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Bn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zn(this):Bn(this),this.readyState==3&&gu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,zn(this))},n.Qa=function(u){this.g&&(this.response=u,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jr(u){let m="";return se(u,function(v,x){m+=x,m+=":",m+=v,m+=`\r
`}),m}function yi(u,m,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=jr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,m,v))}function nt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(nt,vt);var jd=/^https?$/i,Ma=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?Xs(this.o):Xs(Vn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){hs(this,G);return}if(u=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var $ in x)v.set($,x[$]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const G of x.keys())v.set(G,x.get(G));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),$=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ma,m,void 0))||x||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of v)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){hs(this,G)}};function hs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,lo(u),fn(u)}function lo(u){u.A||(u.A=!0,_t(u,"complete"),_t(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,_t(this,"complete"),_t(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},n.bb=function(){Va(this)};function Va(u){if(u.h&&typeof c<"u"&&(!u.v[1]||tn(u)!=4||u.Z()!=2)){if(u.u&&tn(u)==4)Ea(u.Ea,0,u);else if(_t(u,"readystatechange"),tn(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var x;if(x=le===0){var $=String(u.D).match(us)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),x=!jd.test($?$.toLowerCase():"")}v=x}if(v)_t(u,"complete"),_t(u,"success");else{u.m=6;try{var G=2<tn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",lo(u)}}finally{fn(u)}}}}function fn(u,m){if(u.g){uo(u);const v=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||_t(u,"ready");try{v.onreadystatechange=x}catch{}}}function uo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function tn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sa(m)}};function ja(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function co(u){const m={};u=(u.g&&2<=tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(z(u[x]))continue;var v=V(u[x]);const $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[$]||[];m[$]=G,G.push(v)}C(m,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Fa(u){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,u),this.cb=ur("retryDelaySeedMs",1e4,u),this.Wa=ur("forwardChannelMaxRetries",2,u),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ls(u&&u.concurrentRequestLimit),this.Da=new Vd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,x){dt(0),this.W=u,this.H=m||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.I=wu(this,null,this.W),cr(this)};function Nt(u){if(ho(u),u.G==3){var m=u.U++,v=hn(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Fr(u,v),m=new jn(u,u.j,m),m.L=2,m.v=pi(hn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=m.v,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}_u(u)}function $n(u){u.g&&(Ua(u),u.g.cancel(),u.g=null)}function ho(u){$n(u),u.u&&(h.clearTimeout(u.u),u.u=null),mo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function cr(u){if(!dn(u.h)&&!u.s){u.s=!0;var m=u.Ga;fe||oe(),Q||(fe(),Q=!0),ae.add(m,u),u.B=0}}function Fd(u,m){return au(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ln(I(u.Ga,u,m),vu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new jn(this,this.j,u);let G=this.o;if(this.S&&(G?(G=A(G),D(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=vi(this,$,m),v=hn(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),Fr(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(jr(G)))+"&"+m:this.m&&yi(v,this.m,G)),Da(this.h,$),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",m),Ye(v,"SID","null"),$.T=!0,io($,v,null)):io($,v,m),this.G=2}}else this.G==3&&(u?fo(this,u):this.i.length==0||dn(this.h)||fo(this))};function fo(u,m){var v;m?v=m.l:v=u.U++;const x=hn(u.I);Ye(x,"SID",u.K),Ye(x,"RID",v),Ye(x,"AID",u.T),Fr(u,x),u.m&&u.o&&yi(x,u.m,u.o),v=new jn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=vi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Da(u.h,v),io(v,x,m)}function Fr(u,m){u.H&&se(u.H,function(v,x){Ye(m,x,v)}),u.l&&di({},function(v,x){Ye(m,x,v)})}function vi(u,m,v){v=Math.min(u.i.length,v);var x=u.l?I(u.l.Na,u.l,u):null;e:{var $=u.i;let G=-1;for(;;){const le=["count="+v];G==-1?0<v?(G=$[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let Ke=!0;for(let wt=0;wt<v;wt++){let Be=$[wt].g;const St=$[wt].map;if(Be-=G,0>Be)G=Math.max(0,$[wt].g-100),Ke=!1;else try{mu(St,le,"req"+Be+"_")}catch{x&&x(St)}}if(Ke){x=le.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,x}function fs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;fe||oe(),Q||(fe(),Q=!0),ae.add(m,u),u.v=0}}function po(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ln(I(u.Fa,u),vu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ln(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),$n(this),yu(this))};function Ua(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function yu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=hn(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),Fr(u,m),u.m&&u.o&&yi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=pi(hn(m)),v.m=null,v.P=!0,Na(v,u)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),po(this),dt(19))};function mo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function go(u,m){var v=null;if(u.g==m){mo(u),Ua(u),u.g=null;var x=2}else if(Yt(u.h,m))v=m.D,lu(u.h,m),x=1;else return;if(u.G!=0){if(m.o)if(x==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;x=rs(),_t(x,new eo(x,v)),cr(u)}else fs(u);else if($=m.s,$==3||$==0&&0<m.X||!(x==1&&Fd(u,m)||x==2&&po(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),$){case 1:Ur(u,5);break;case 4:Ur(u,10);break;case 3:Ur(u,6);break;default:Ur(u,2)}}}function vu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ur(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),x=u.Xa;const $=!x;x=new Mr(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||cs(x,"https"),pi(x),$?Md(x.toString(),v):pu(x.toString(),v)}else dt(2);u.G=0,u.l&&u.l.sa(m),_u(u),ho(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function _u(u){if(u.G=0,u.ka=[],u.l){const m=uu(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function wu(u,m,v){var x=v instanceof Mr?hn(v):new Mr(v);if(x.g!="")m&&(x.g=m+"."+x.g),hi(x,x.s);else{var $=h.location;x=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var G=new Mr(null);x&&cs(G,x),m&&(G.g=m),$&&hi(G,$),v&&(G.l=v),x=G}return v=u.D,m=u.ya,v&&m&&Ye(x,v,m),Ye(x,"VER",u.la),Fr(u,x),x}function Eu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new Vr({eb:v})):new nt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function za(){}n=za.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yo(){}yo.prototype.g=function(u,m){return new Xt(u,m)};function Xt(u,m){vt.call(this),this.g=new Fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new dr(this)}O(Xt,vt),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Nt(this.g)},Xt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ia(u),u=v);m.i.push(new ou(m.Ya++,u)),m.G==3&&cr(m)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Xt.aa.N.call(this)};function Tu(u){sr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(Tu,sr);function xu(){Zs.call(this),this.status=1}O(xu,Zs);function dr(u){this.g=u}O(dr,za),dr.prototype.ua=function(){_t(this.g,"a")},dr.prototype.ta=function(u){_t(this.g,new Tu(u))},dr.prototype.sa=function(u){_t(this.g,new xu)},dr.prototype.ra=function(){_t(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,dE=function(){return new yo},cE=function(){return rs()},uE=or,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},no.NO_ERROR=0,no.TIMEOUT=8,no.HTTP_ERROR=6,Dc=no,nu.COMPLETE="complete",lE=nu,Js.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",vt.prototype.listen=vt.prototype.K,vl=Js,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,aE=nt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new gd("@firebase/firestore");function pl(){return js.logLevel}function ge(n,...e){if(js.logLevel<=Ue.DEBUG){const t=e.map(Fp);js.debug(`Firestore (${ma}): ${n}`,...t)}}function oi(n,...e){if(js.logLevel<=Ue.ERROR){const t=e.map(Fp);js.error(`Firestore (${ma}): ${n}`,...t)}}function na(n,...e){if(js.logLevel<=Ue.WARN){const t=e.map(Fp);js.warn(`Firestore (${ma}): ${n}`,...t)}}function Fp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n="Unexpected state"){const e=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function Ge(n,e){n||Pe()}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qt.UNAUTHENTICATED)))}shutdown(){}}class rN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iN{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new hE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new qt(e)}}class sN{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oN{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new sN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const i=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new aN(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=uN(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function ra(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new It(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new It(0,0))}static max(){return new be(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(),i===void 0?i=e.length-t:i>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ol.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class lt extends Ol{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const cN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Ol{construct(e,t,i){return new Mt(e,t,i)}static isValidIdentifier(e){return cN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new xe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new xe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new xe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(lt.fromString(e))}static fromName(e){return new Ie(lt.fromString(e).popFirst(5))}static empty(){return new Ie(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new lt(e.slice()))}}function dN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new It(t+1,0):new It(t,i));return new Qi(o,Ie.empty(),e)}function hN(n){return new Qi(n.readTime,n.key,-1)}class Qi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Qi(be.min(),Ie.empty(),-1)}static max(){return new Qi(be.max(),Ie.empty(),-1)}}function fN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==pN)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,i)=>{t(e)}))}static reject(e){return new te(((t,i)=>{i(e)}))}static waitFor(e){return new te(((t,i)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(f=>i(f)))})),c=!0,a===o&&t()}))}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next((o=>o?te.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new te(((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const y=f;t(e[y]).next((_=>{c[y]=_,++h,h===a&&i(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new te(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function gN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Up.oe=-1;function wd(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function yN(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ga(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xv(this.data.getIterator())}getIteratorFrom(e){return new Xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class Xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Vt(Mt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mE("Invalid base64 string: "+a):a}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const vN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(n){if(Ge(!!n),typeof n=="string"){let e=0;const t=vN.exec(n);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fs(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Bp(n){const e=n.mapValue.fields.__previous_value__;return zp(e)?Bp(e):e}function Dl(n){const e=Yi(n.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,i,o,a,c,h,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=y}}class Ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={mapValue:{}};function Us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zp(n)?4:EN(n)?9007199254740991:wN(n)?10:11:Pe()}function Ar(n,e){if(n===e)return!0;const t=Us(n);if(t!==Us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dl(n).isEqual(Dl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Yi(o.timestampValue),h=Yi(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Fs(o.bytesValue).isEqual(Fs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return ft(o.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return ft(o.integerValue)===ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ft(o.doubleValue),h=ft(a.doubleValue);return c===h?Yc(c)===Yc(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return ra(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Yv(c)!==Yv(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ar(c[f],h[f])))return!1;return!0})(n,e);default:return Pe()}}function Ml(n,e){return(n.values||[]).find((t=>Ar(t,e)))!==void 0}function ia(n,e){if(n===e)return 0;const t=Us(n),i=Us(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=ft(a.integerValue||a.doubleValue),f=ft(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return Jv(n.timestampValue,e.timestampValue);case 4:return Jv(Dl(n),Dl(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=Fs(a),f=Fs(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let y=0;y<h.length&&y<f.length;y++){const _=qe(h[y],f[y]);if(_!==0)return _}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(ft(a.latitude),ft(c.latitude));return h!==0?h:qe(ft(a.longitude),ft(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Zv(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,f,y,_;const T=a.fields||{},I=c.fields||{},R=(h=T.value)===null||h===void 0?void 0:h.arrayValue,O=(f=I.value)===null||f===void 0?void 0:f.arrayValue,S=qe(((y=R?.values)===null||y===void 0?void 0:y.length)||0,((_=O?.values)===null||_===void 0?void 0:_.length)||0);return S!==0?S:Zv(R,O)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Sc.mapValue&&c===Sc.mapValue)return 0;if(a===Sc.mapValue)return 1;if(c===Sc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),y=c.fields||{},_=Object.keys(y);f.sort(),_.sort();for(let T=0;T<f.length&&T<_.length;++T){const I=qe(f[T],_[T]);if(I!==0)return I;const R=ia(h[f[T]],y[_[T]]);if(R!==0)return R}return qe(f.length,_.length)})(n.mapValue,e.mapValue);default:throw Pe()}}function Jv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Yi(n),i=Yi(e),o=qe(t.seconds,i.seconds);return o!==0?o:qe(t.nanos,i.nanos)}function Zv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ia(t[o],i[o]);if(a)return a}return qe(t.length,i.length)}function sa(n){return np(n)}function np(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Yi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Fs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=np(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${np(t.fields[c])}`;return o+"}"})(n.mapValue):Pe()}function rp(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function e_(n){return!!n&&"nullValue"in n}function t_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lc(n){return!!n&&"mapValue"in n}function wN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ga(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Tl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=Mt.emptyPath(),i={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=Tl(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ga(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new bn(Tl(this.value))}}function gE(n){const e=[];return ga(n.fields,((t,i)=>{const o=new Mt([t]);if(Lc(i)){const a=gE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Kt(e,0,be.min(),be.min(),be.min(),bn.empty(),0)}static newFoundDocument(e,t,i,o){return new Kt(e,1,t,be.min(),i,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,be.min(),be.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,be.min(),be.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.position=e,this.inclusive=t}}function n_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),t.key):i=ia(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function r_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function TN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class xt extends yE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new IN(e,t,i):t==="array-contains"?new CN(e,i):t==="in"?new RN(e,i):t==="not-in"?new PN(e,i):t==="array-contains-any"?new kN(e,i):new xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new SN(e,i):new AN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ia(t,this.value)):t!==null&&Us(this.value)===Us(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends yE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Cr(e,t)}matches(e){return vE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vE(n){return n.op==="and"}function _E(n){return xN(n)&&vE(n)}function xN(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function ip(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+sa(n.value);if(_E(n))return n.filters.map((e=>ip(e))).join(",");{const e=n.filters.map((t=>ip(t))).join(",");return`${n.op}(${e})`}}function wE(n,e){return n instanceof xt?(function(i,o){return o instanceof xt&&i.op===o.op&&i.field.isEqual(o.field)&&Ar(i.value,o.value)})(n,e):n instanceof Cr?(function(i,o){return o instanceof Cr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,c,h)=>a&&wE(c,o.filters[h])),!0):!1})(n,e):void Pe()}function EE(n){return n instanceof xt?(function(t){return`${t.field.canonicalString()} ${t.op} ${sa(t.value)}`})(n):n instanceof Cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(EE).join(" ,")+"}"})(n):"Filter"}class IN extends xt{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class SN extends xt{constructor(e,t){super(e,"in",t),this.keys=TE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class AN extends xt{constructor(e,t){super(e,"not-in",t),this.keys=TE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function TE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class CN extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&Ml(t.arrayValue,this.value)}}class RN extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ml(this.value.arrayValue,t)}}class PN extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ml(this.value.arrayValue,t)}}class kN extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ml(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function i_(n,e=null,t=[],i=[],o=null,a=null,c=null){return new bN(n,e,t,i,o,a,c)}function Wp(n){const e=Ne(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ip(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>sa(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>sa(i))).join(",")),e.ue=t}return e.ue}function Hp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!r_(n.startAt,e.startAt)&&r_(n.endAt,e.endAt)}function sp(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NN(n,e,t,i,o,a,c,h){return new Ed(n,e,t,i,o,a,c,h)}function qp(n){return new Ed(n)}function s_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ON(n){return n.collectionGroup!==null}function xl(n){const e=Ne(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Vt(Mt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((y=>{y.isInequality()&&(h=h.add(y.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Jc(a,i))})),t.has(Mt.keyField().canonicalString())||e.ce.push(new Jc(Mt.keyField(),i))}return e.ce}function Tr(n){const e=Ne(n);return e.le||(e.le=DN(e,xl(n))),e.le}function DN(n,e){if(n.limitType==="F")return i_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Jc(o.field,a)}));const t=n.endAt?new Xc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xc(n.startAt.position,n.startAt.inclusive):null;return i_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function op(n,e,t){return new Ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Td(n,e){return Hp(Tr(n),Tr(e))&&n.limitType===e.limitType}function xE(n){return`${Wp(Tr(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>EE(o))).join(", ")}]`),wd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>sa(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>sa(o))).join(",")),`Target(${i})`})(Tr(n))}; limitType=${n.limitType})`}function xd(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of xl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,h,f){const y=n_(c,h,f);return c.inclusive?y<=0:y<0})(i.startAt,xl(i),o)||i.endAt&&!(function(c,h,f){const y=n_(c,h,f);return c.inclusive?y>=0:y>0})(i.endAt,xl(i),o))})(n,e)}function LN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IE(n){return(e,t)=>{let i=!1;for(const o of xl(n)){const a=MN(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function MN(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,c,h){const f=c.data.field(a),y=h.data.field(a);return f!==null&&y!==null?ia(f,y):Pe()})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new ot(Ie.comparator);function ai(){return VN}const SE=new ot(Ie.comparator);function _l(...n){let e=SE;for(const t of n)e=e.insert(t.key,t);return e}function AE(n){let e=SE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Rs(){return Il()}function CE(){return Il()}function Il(){return new ya((n=>n.toString()),((n,e)=>n.isEqual(e)))}const jN=new ot(Ie.comparator),FN=new Vt(Ie.comparator);function je(...n){let e=FN;for(const t of n)e=e.add(t);return e}const UN=new Vt(qe);function zN(){return UN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function RE(n){return{integerValue:""+n}}function BN(n,e){return yN(e)?RE(e):Kp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this._=void 0}}function $N(n,e,t){return n instanceof Zc?(function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&zp(a)&&(a=Bp(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(t,e):n instanceof Vl?kE(n,e):n instanceof jl?bE(n,e):(function(o,a){const c=PE(o,a),h=o_(c)+o_(o.Pe);return rp(c)&&rp(o.Pe)?RE(h):Kp(o.serializer,h)})(n,e)}function WN(n,e,t){return n instanceof Vl?kE(n,e):n instanceof jl?bE(n,e):t}function PE(n,e){return n instanceof ed?(function(i){return rp(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Zc extends Id{}class Vl extends Id{constructor(e){super(),this.elements=e}}function kE(n,e){const t=NE(e);for(const i of n.elements)t.some((o=>Ar(o,i)))||t.push(i);return{arrayValue:{values:t}}}class jl extends Id{constructor(e){super(),this.elements=e}}function bE(n,e){let t=NE(e);for(const i of n.elements)t=t.filter((o=>!Ar(o,i)));return{arrayValue:{values:t}}}class ed extends Id{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function o_(n){return ft(n.integerValue||n.doubleValue)}function NE(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HN(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Vl&&o instanceof Vl||i instanceof jl&&o instanceof jl?ra(i.elements,o.elements,Ar):i instanceof ed&&o instanceof ed?Ar(i.Pe,o.Pe):i instanceof Zc&&o instanceof Zc})(n.transform,e.transform)}class qN{constructor(e,t){this.version=e,this.transformResults=t}}class ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sd{}function OE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new LE(n.key,ti.none()):new Xl(n.key,n.data,ti.none());{const t=n.data,i=bn.empty();let o=new Vt(Mt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new qs(n.key,i,new Jn(o.toArray()),ti.none())}}function KN(n,e,t){n instanceof Xl?(function(o,a,c){const h=o.value.clone(),f=l_(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof qs?(function(o,a,c){if(!Mc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=l_(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(DE(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Sl(n,e,t,i){return n instanceof Xl?(function(a,c,h,f){if(!Mc(a.precondition,c))return h;const y=a.value.clone(),_=u_(a.fieldTransforms,f,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof qs?(function(a,c,h,f){if(!Mc(a.precondition,c))return h;const y=u_(a.fieldTransforms,f,c),_=c.data;return _.setAll(DE(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((T=>T.field)))})(n,e,t,i):(function(a,c,h){return Mc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function GN(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=PE(i.transform,o||null);a!=null&&(t===null&&(t=bn.empty()),t.set(i.field,a))}return t||null}function a_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ra(i,o,((a,c)=>HN(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xl extends Sd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qs extends Sd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function DE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function l_(n,e,t){const i=new Map;Ge(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,WN(c,h,t[o]))}return i}function u_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,$N(a,c,e))}return i}class LE extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QN extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&KN(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Sl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Sl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=CE();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=OE(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(be.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,((t,i)=>a_(t,i)))&&ra(this.baseMutations,e.baseMutations,((t,i)=>a_(t,i)))}}class Gp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ge(e.mutations.length===i.length);let o=(function(){return jN})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Gp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,$e;function ZN(n){switch(n){default:return Pe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function ME(n){if(n===void 0)return oi("GRPC error has no .code"),re.UNKNOWN;switch(n){case gt.OK:return re.OK;case gt.CANCELLED:return re.CANCELLED;case gt.UNKNOWN:return re.UNKNOWN;case gt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case gt.INTERNAL:return re.INTERNAL;case gt.UNAVAILABLE:return re.UNAVAILABLE;case gt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case gt.NOT_FOUND:return re.NOT_FOUND;case gt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case gt.ABORTED:return re.ABORTED;case gt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case gt.DATA_LOSS:return re.DATA_LOSS;default:return Pe()}}($e=gt||(gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new bs([4294967295,4294967295],0);function c_(n){const e=e2().encode(n),t=new oE;return t.update(e),new Uint8Array(t.digest())}function d_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bs([t,i],0),new bs([o,a],0)]}class Qp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new wl(`Invalid padding: ${t}`);if(i<0)throw new wl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new wl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=bs.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(bs.fromNumber(i)));return o.compare(t2)===1&&(o=new bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=c_(e),[i,o]=d_(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Qp(a,o,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const t=c_(e),[i,o]=d_(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ad(be.min(),o,new ot(qe),ai(),je())}}class Jl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Jl(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class VE{constructor(e,t){this.targetId=e,this.me=t}}class jE{constructor(e,t,i=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class h_{constructor(){this.fe=0,this.ge=p_(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),i=je();return this.ge.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Pe()}})),new Jl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=p_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class n2{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=f_(),this.Qe=new ot(qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Pe()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(sp(a))if(i===0){const c=new Ie(a.path);this.Ue(t,c,Kt.newNoDocument(c,be.min()))}else Ge(i===1);else{const c=this.Ye(t);if(c!==i){const h=this.Ze(e),f=h?this.Xe(h,e,c):1;if(f!==0){this.je(t);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,y)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=Fs(i).toUint8Array()}catch(f){if(f instanceof mE)return na("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Qp(c,o,a)}catch(f){return na(f instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((a,c)=>{const h=this.Je(c);if(h){if(a.current&&sp(h.target)){const f=new Ie(h.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Kt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}}));let i=je();this.qe.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const y=this.Je(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const o=new Ad(e,t,this.Qe,this.ke,i);return this.ke=ai(),this.qe=f_(),this.Qe=new ot(qe),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new h_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Vt(qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new h_),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function f_(){return new ot(Ie.comparator)}function p_(){return new ot(Ie.comparator)}const r2={asc:"ASCENDING",desc:"DESCENDING"},i2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s2={and:"AND",or:"OR"};class o2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ap(n,e){return n.useProto3Json||wd(e)?e:{value:e}}function td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a2(n,e){return td(n,e.toTimestamp())}function xr(n){return Ge(!!n),be.fromTimestamp((function(t){const i=Yi(t);return new It(i.seconds,i.nanos)})(n))}function Yp(n,e){return lp(n,e).canonicalString()}function lp(n,e){const t=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function UE(n){const e=lt.fromString(n);return Ge(HE(e)),e}function up(n,e){return Yp(n.databaseId,e.path)}function Rf(n,e){const t=UE(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(BE(t))}function zE(n,e){return Yp(n.databaseId,e)}function l2(n){const e=UE(n);return e.length===4?lt.emptyPath():BE(e)}function cp(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BE(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function m_(n,e,t){return{name:up(n,e),fields:t.value.mapValue.fields}}function u2(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,_){return y.useProto3Json?(Ge(_===void 0||typeof _=="string"),Ut.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Ut.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(y){const _=y.code===void 0?re.UNKNOWN:ME(y.code);return new xe(_,y.message||"")})(c);t=new jE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Rf(n,i.document.name),a=xr(i.document.updateTime),c=i.document.createTime?xr(i.document.createTime):be.min(),h=new bn({mapValue:{fields:i.document.fields}}),f=Kt.newFoundDocument(o,a,c,h),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Vc(y,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Rf(n,i.document),a=i.readTime?xr(i.readTime):be.min(),c=Kt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Vc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Rf(n,i.document),a=i.removedTargetIds||[];t=new Vc([],a,o,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new JN(o,a),h=i.targetId;t=new VE(h,c)}}return t}function c2(n,e){let t;if(e instanceof Xl)t={update:m_(n,e.key,e.value)};else if(e instanceof LE)t={delete:up(n,e.key)};else if(e instanceof qs)t={update:m_(n,e.key,e.data),updateMask:_2(e.fieldMask)};else{if(!(e instanceof QN))return Pe();t={verify:up(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof Zc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ed)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Pe()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:a2(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()})(n,e.precondition)),t}function d2(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map((t=>(function(o,a){let c=o.updateTime?xr(o.updateTime):xr(a);return c.isEqual(be.min())&&(c=xr(a)),new qN(c,o.transformResults||[])})(t,e)))):[]}function h2(n,e){return{documents:[zE(n,e.path)]}}function f2(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=zE(n,o);const a=(function(y){if(y.length!==0)return WE(Cr.create(y,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(y){if(y.length!==0)return y.map((_=>(function(I){return{field:Wo(I.field),direction:g2(I.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=ap(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{_t:t,parent:o}}function p2(n){let e=l2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ge(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(T){const I=$E(T);return I instanceof Cr&&_E(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((I=>(function(O){return new Jc(Ho(O.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(I)))})(t.orderBy));let h=null;t.limit&&(h=(function(T){let I;return I=typeof T=="object"?T.value:T,wd(I)?null:I})(t.limit));let f=null;t.startAt&&(f=(function(T){const I=!!T.before,R=T.values||[];return new Xc(R,I)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const I=!T.before,R=T.values||[];return new Xc(R,I)})(t.endAt)),NN(e,o,c,a,h,"F",f,y)}function m2(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $E(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ho(t.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ho(t.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(t.unaryFilter.field);return xt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}})(n):n.fieldFilter!==void 0?(function(t){return xt.create(Ho(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Cr.create(t.compositeFilter.filters.map((i=>$E(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe()}})(t.compositeFilter.op))})(n):Pe()}function g2(n){return r2[n]}function y2(n){return i2[n]}function v2(n){return s2[n]}function Wo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return Mt.fromServerFormat(n.fieldPath)}function WE(n){return n instanceof xt?(function(t){if(t.op==="=="){if(t_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(e_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(t_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(e_(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:y2(t.op),value:t.value}}})(n):n instanceof Cr?(function(t){const i=t.getFilters().map((o=>WE(o)));return i.length===1?i[0]:{compositeFilter:{op:v2(t.op),filters:i}}})(n):Pe()}function _2(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function HE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,i,o,a=be.min(),c=be.min(),h=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.ct=e}}function E2(n){const e=p2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.un=new x2}addToCollectionParentIndex(e,t){return this.un.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Qi.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class x2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Vt(lt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Vt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new oa(0)}static kn(){return new oa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.changes=new ya((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Sl(i.mutation,o,Jn.empty(),It.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,je()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=je()){const o=Rs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let c=_l();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Rs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,je())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,o){let a=ai();const c=Il(),h=(function(){return Il()})();return t.forEach(((f,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof qs)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),Sl(_.mutation,y,_.mutation.getFieldMask(),It.now())):c.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((y,_)=>c.set(y,_))),t.forEach(((y,_)=>{var T;return h.set(y,new S2(_,(T=c.get(y))!==null&&T!==void 0?T:null))})),h)))}recalculateAndSaveOverlays(e,t){const i=Il();let o=new ot(((c,h)=>c-h)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const y=t.get(f);if(y===null)return;let _=i.get(f)||Jn.empty();_=h.applyToLocalView(y,_),i.set(f,_);const T=(o.get(h.batchId)||je()).add(f);o=o.insert(h.batchId,T)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,_=f.value,T=CE();_.forEach((I=>{if(!a.has(I)){const R=OE(t.get(I),i.get(I));R!==null&&T.set(I,R),a=a.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return te.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ON(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):te.resolve(Rs());let h=-1,f=a;return c.next((y=>te.forEach(y,((_,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next((I=>{f=f.insert(_,I)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,f,y,je()))).next((_=>({batchId:h,changes:AE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((i=>{let o=_l();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=_l();return this.indexManager.getCollectionParents(e,a).next((h=>te.forEach(h,(f=>{const y=(function(T,I){return new Ed(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((T,I)=>{c=c.insert(T,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((c=>{a.forEach(((f,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Kt.newInvalidDocument(_)))}));let h=_l();return c.forEach(((f,y)=>{const _=a.get(f);_!==void 0&&Sl(_.mutation,y,Jn.empty(),It.now()),xd(t,y)&&(h=h.insert(f,y))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return te.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:E2(o.bundledQuery),readTime:xr(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.overlays=new ot(Ie.comparator),this.Ir=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rs();return te.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.ht(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const o=Rs(),a=t.length+1,c=new Ie(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new ot(((y,_)=>y-_));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=Rs(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const h=Rs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((y,_)=>h.set(y,_))),!(h.size()>=o)););return te.resolve(h)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new XN(t,i));let a=this.Ir.get(t);a===void 0&&(a=je(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.Tr=new Vt(Pt.Er),this.dr=new Vt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ie(new lt([])),i=new Pt(t,e),o=new Pt(t,e+1),a=[];return this.dr.forEachInRange([i,o],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ie(new lt([])),i=new Pt(t,e),o=new Pt(t,e+1);let a=je();return this.dr.forEachInRange([i,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Pt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ie.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Vt(Pt.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new YN(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Pt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],(c=>{const h=this.Dr(c.wr);a.push(h)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Vt(qe);return t.forEach((o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(h=>{i=i.add(h.wr)}))})),te.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new Ie(a),0);let h=new Vt(qe);return this.br.forEachWhile((f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(f.wr)),!0)}),c),te.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ge(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return te.forEach(t.mutations,(o=>{const a=new Pt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Pt(t,0),o=this.br.firstAfterOrEqual(i);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.Mr=e,this.docs=(function(){return new ot(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=ai();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Kt.newInvalidDocument(o))})),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ai();const c=t.path,h=new Ie(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:y,value:{document:_}}=f.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||fN(hN(_),i)<=0||(o.has(_.key)||xd(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Pe()}Or(e,t){return te.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new N2(this)}getSize(e){return te.resolve(this.size)}}class N2 extends I2{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),te.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.persistence=e,this.Nr=new ya((t=>Wp(t)),Hp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xp,this.targetCount=0,this.kr=oa.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),te.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new oa(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Kn(t),te.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),te.waitFor(a).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Up(0),this.Kr=!1,this.Kr=!0,this.$r=new P2,this.referenceDelegate=e(this),this.Ur=new O2(this),this.indexManager=new T2,this.remoteDocumentCache=(function(o){return new b2(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new w2(t),this.Gr=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new R2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new k2(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new L2(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((a=>this.referenceDelegate.jr(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Hr(e,t){return te.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class L2 extends mN{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Jr=new Xp,this.Yr=null}static Zr(e){return new Jp(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),te.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.Xr.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,(i=>{const o=Ie.fromPath(i);return this.ei(e,o).next((a=>{a||t.removeEntry(o,be.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return te.or([()=>te.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Zp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return _1()?8:gN(Gt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,t,o,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new M2;return this.Xi(e,t,c).next((h=>{if(a.result=h,this.zi)return this.es(e,t,c,h.size)}))})).next((()=>a.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(pl()<=Ue.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(pl()<=Ue.DEBUG&&ge("QueryEngine","Query:",$o(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(pl()<=Ue.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(t))):te.resolve())}Yi(e,t){if(s_(t))return te.resolve(null);let i=Tr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=op(t,null,"F"),i=Tr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=je(...a);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const y=this.ts(t,h);return this.ns(t,y,c,f.readTime)?this.Yi(e,op(t,null,"F")):this.rs(e,y,t,f)}))))})))))}Zi(e,t,i,o){return s_(t)||o.isEqual(be.min())?te.resolve(null):this.Ji.getDocuments(e,i).next((a=>{const c=this.ts(t,a);return this.ns(t,c,i,o)?te.resolve(null):(pl()<=Ue.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.rs(e,c,t,dN(o,-1)).next((h=>h)))}))}ts(e,t){let i=new Vt(IE(e));return t.forEach(((o,a)=>{xd(e,a)&&(i=i.add(a))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return pl()<=Ue.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",$o(t)),this.Ji.getDocumentsMatchingQuery(e,t,Qi.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new ot(qe),this._s=new ya((a=>Wp(a)),Hp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function F2(n,e,t,i){return new j2(n,e,t,i)}async function qE(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let f=je();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}for(const y of a){h.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next((y=>({hs:y,removedBatchIds:c,addedBatchIds:h})))}))}))}function U2(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,f,y,_){const T=y.batch,I=T.keys();let R=te.resolve();return I.forEach((O=>{R=R.next((()=>_.getEntry(f,O))).next((S=>{const b=y.docVersions.get(O);Ge(b!==null),S.version.compareTo(b)<0&&(T.applyToRemoteDocument(S,y),S.isValidDocument()&&(S.setReadTime(y.commitVersion),_.addEntry(S)))}))})),R.next((()=>h.mutationQueue.removeMutationBatch(f,T)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=je();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(f=f.add(h.batch.mutations[y].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function KE(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function z2(n,e){const t=Ne(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((_,T)=>{const I=o.get(T);if(!I)return;h.push(t.Ur.removeMatchingKeys(a,_.removedDocuments,T).next((()=>t.Ur.addMatchingKeys(a,_.addedDocuments,T))));let R=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(Ut.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(T,R),(function(S,b,B){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(I,R,_)&&h.push(t.Ur.updateTargetData(a,R))}));let f=ai(),y=je();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),h.push(B2(a,c,e.documentUpdates).next((_=>{f=_.Ps,y=_.Is}))),!i.isEqual(be.min())){const _=t.Ur.getLastRemoteSnapshotVersion(a).next((T=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(_)}return te.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,y))).next((()=>f))})).then((a=>(t.os=o,a)))}function B2(n,e,t){let i=je(),o=je();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=ai();return t.forEach(((h,f)=>{const y=a.get(h);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",f.version)})),{Ps:c,Is:o}}))}function $2(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function W2(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((a=>a?(o=a,te.resolve(o)):t.Ur.allocateTargetId(i).next((c=>(o=new $i(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function dp(n,e,t){const i=Ne(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Yl(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function g_(n,e,t){const i=Ne(n);let o=be.min(),a=je();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,y,_){const T=Ne(f),I=T._s.get(_);return I!==void 0?te.resolve(T.os.get(I)):T.Ur.getTargetData(y,_)})(i,c,Tr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,t?o:be.min(),t?a:je()))).next((h=>(H2(i,LN(e),h),{documents:h,Ts:a})))))}function H2(n,e,t){let i=n.us.get(e)||be.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.us.set(e,i)}class y_{constructor(){this.activeTargetIds=zN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q2{constructor(){this.so=new y_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new y_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function Pf(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class Y2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,c){const h=Pf(),f=this.xo(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,a,c),this.No(t,f,y,o).then((_=>(ge("RestConnection",`Received RPC '${t}' ${h}: `,_),_)),(_=>{throw na("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",f,"request:",o),_}))}Lo(t,i,o,a,c,h){return this.Mo(t,i,o,a,c)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ma})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((a,c)=>t[c]=a)),o&&o.headers.forEach(((a,c)=>t[c]=a))}xo(t,i){const o=G2[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=Pf();return new Promise(((c,h)=>{const f=new aE;f.setWithCredentials(!0),f.listenOnce(lE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Dc.NO_ERROR:const _=f.getResponseJson();ge(Ht,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case Dc.TIMEOUT:ge(Ht,`RPC '${e}' ${a} timed out`),h(new xe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const T=f.getStatus();if(ge(Ht,`RPC '${e}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I?.error;if(R&&R.status&&R.message){const O=(function(b){const B=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(B)>=0?B:re.UNKNOWN})(R.status);h(new xe(O,R.message))}else h(new xe(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new xe(re.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ge(Ht,`RPC '${e}' ${a} completed.`)}}));const y=JSON.stringify(o);ge(Ht,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",y,i,15)}))}Bo(e,t,i){const o=Pf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=dE(),h=cE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");ge(Ht,`Creating RPC '${e}' stream ${o}: ${_}`,f);const T=c.createWebChannel(_,f);let I=!1,R=!1;const O=new Q2({Io:b=>{R?ge(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(I||(ge(Ht,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ge(Ht,`RPC '${e}' stream ${o} sending:`,b),T.send(b))},To:()=>T.close()}),S=(b,B,z)=>{b.listen(B,(q=>{try{z(q)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return S(T,vl.EventType.OPEN,(()=>{R||(ge(Ht,`RPC '${e}' stream ${o} transport opened.`),O.yo())})),S(T,vl.EventType.CLOSE,(()=>{R||(R=!0,ge(Ht,`RPC '${e}' stream ${o} transport closed`),O.So())})),S(T,vl.EventType.ERROR,(b=>{R||(R=!0,na(Ht,`RPC '${e}' stream ${o} transport errored:`,b),O.So(new xe(re.UNAVAILABLE,"The operation could not be completed")))})),S(T,vl.EventType.MESSAGE,(b=>{var B;if(!R){const z=b.data[0];Ge(!!z);const q=z,Y=q.error||((B=q[0])===null||B===void 0?void 0:B.error);if(Y){ge(Ht,`RPC '${e}' stream ${o} received error:`,Y);const J=Y.status;let se=(function(k){const D=gt[k];if(D!==void 0)return ME(D)})(J),C=Y.message;se===void 0&&(se=re.INTERNAL,C="Unknown error status: "+J+" with message "+Y.message),R=!0,O.So(new xe(se,C)),T.close()}else ge(Ht,`RPC '${e}' stream ${o} received:`,z),O.bo(z)}})),S(h,uE.STAT_EVENT,(b=>{b.stat===tp.PROXY?ge(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===tp.NOPROXY&&ge(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.wo()}),0),O}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n){return new o2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t,i,o,a,c,h,f){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new GE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new xe(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class X2 extends QE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=u2(this.serializer,e),i=(function(a){if(!("targetChange"in a))return be.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?xr(c.readTime):be.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=cp(this.serializer),t.addTarget=(function(a,c){let h;const f=c.target;if(h=sp(f)?{documents:h2(a,f)}:{query:f2(a,f)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=FE(a,c.resumeToken);const y=ap(a,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(be.min())>0){h.readTime=td(a,c.snapshotVersion.toTimestamp());const y=ap(a,c.expectedCount);y!==null&&(h.expectedCount=y)}return h})(this.serializer,e);const i=m2(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=cp(this.serializer),t.removeTarget=e,this.a_(t)}}class J2 extends QE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=d2(e.writeResults,e.commitTime),i=xr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=cp(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>c2(this.serializer,i)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,lp(t,i),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(re.UNKNOWN,a.toString())}))}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,lp(t,i),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(re.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class eO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(oi(t),this.D_=!1):ge("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{i.enqueueAndForget((async()=>{Ks(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const y=Ne(f);y.L_.add(4),await Zl(y),y.q_.set("Unknown"),y.L_.delete(4),await Rd(y)})(this))}))})),this.q_=new eO(i,o)}}async function Rd(n){if(Ks(n))for(const e of n.B_)await e(!0)}async function Zl(n){for(const e of n.B_)await e(!1)}function YE(n,e){const t=Ne(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),rm(t)?nm(t):va(t).r_()&&tm(t,e))}function em(n,e){const t=Ne(n),i=va(t);t.N_.delete(e),i.r_()&&XE(t,e),t.N_.size===0&&(i.r_()?i.o_():Ks(t)&&t.q_.set("Unknown"))}function tm(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}va(n).A_(e)}function XE(n,e){n.Q_.xe(e),va(n).R_(e)}function nm(n){n.Q_=new n2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),va(n).start(),n.q_.v_()}function rm(n){return Ks(n)&&!va(n).n_()&&n.N_.size>0}function Ks(n){return Ne(n).L_.size===0}function JE(n){n.Q_=void 0}async function nO(n){n.q_.set("Online")}async function rO(n){n.N_.forEach(((e,t)=>{tm(n,e)}))}async function iO(n,e){JE(n),rm(n)?(n.q_.M_(e),nm(n)):n.q_.set("Unknown")}async function sO(n,e,t){if(n.q_.set("Online"),e instanceof jE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nd(n,i)}else if(e instanceof Vc?n.Q_.Ke(e):e instanceof VE?n.Q_.He(e):n.Q_.We(e),!t.isEqual(be.min()))try{const i=await KE(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Q_.rt(c);return h.targetChanges.forEach(((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.N_.get(y);_&&a.N_.set(y,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,y)=>{const _=a.N_.get(f);if(!_)return;a.N_.set(f,_.withResumeToken(Ut.EMPTY_BYTE_STRING,_.snapshotVersion)),XE(a,f);const T=new $i(_.target,f,y,_.sequenceNumber);tm(a,T)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await nd(n,i)}}async function nd(n,e,t){if(!Yl(e))throw e;n.L_.add(1),await Zl(n),n.q_.set("Offline"),t||(t=()=>KE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Rd(n)}))}function ZE(n,e){return e().catch((t=>nd(n,t,e)))}async function Pd(n){const e=Ne(n),t=Xi(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oO(e);)try{const o=await $2(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,aO(e,o)}catch(o){await nd(e,o)}eT(e)&&tT(e)}function oO(n){return Ks(n)&&n.O_.length<10}function aO(n,e){n.O_.push(e);const t=Xi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function eT(n){return Ks(n)&&!Xi(n).n_()&&n.O_.length>0}function tT(n){Xi(n).start()}async function lO(n){Xi(n).p_()}async function uO(n){const e=Xi(n);for(const t of n.O_)e.m_(t.mutations)}async function cO(n,e,t){const i=n.O_.shift(),o=Gp.from(i,e,t);await ZE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Pd(n)}async function dO(n,e){e&&Xi(n).V_&&await(async function(i,o){if((function(c){return ZN(c)&&c!==re.ABORTED})(o.code)){const a=i.O_.shift();Xi(i).s_(),await ZE(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Pd(i)}})(n,e),eT(n)&&tT(n)}async function __(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=Ks(t);t.L_.add(3),await Zl(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Rd(t)}async function hO(n,e){const t=Ne(n);e?(t.L_.delete(2),await Rd(t)):e||(t.L_.add(2),await Zl(t),t.q_.set("Unknown"))}function va(n){return n.K_||(n.K_=(function(t,i,o){const a=Ne(t);return a.w_(),new X2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:nO.bind(null,n),Ro:rO.bind(null,n),mo:iO.bind(null,n),d_:sO.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),rm(n)?nm(n):n.q_.set("Unknown")):(await n.K_.stop(),JE(n))}))),n.K_}function Xi(n){return n.U_||(n.U_=(function(t,i,o){const a=Ne(t);return a.w_(),new J2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lO.bind(null,n),mo:dO.bind(null,n),f_:uO.bind(null,n),g_:cO.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await Pd(n)):(await n.U_.stop(),n.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new im(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(n,e){if(oi("AsyncQueue",`${e}: ${n}`),Yl(n))return new xe(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=_l(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new Zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.W_=new ot(Ie.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class aa{constructor(e,t,i,o,a,c,h,f,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new aa(e,t,Zo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class pO{constructor(){this.queries=E_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Ne(t),a=o.queries;o.queries=E_(),a.forEach(((c,h)=>{for(const f of h.j_)f.onError(i)}))})(this,new xe(re.ABORTED,"Firestore shutting down"))}}function E_(){return new ya((n=>xE(n)),Td)}async function mO(n,e){const t=Ne(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new fO,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=sm(c,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&om(t)}async function gO(n,e){const t=Ne(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function yO(n,e){const t=Ne(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.j_)h.X_(o)&&(i=!0);c.z_=o}}i&&om(t)}function vO(n,e,t){const i=Ne(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function om(n){n.Y_.forEach((e=>{e.next()}))}var hp,T_;(T_=hp||(hp={})).ea="default",T_.Cache="cache";class _O{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new aa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.key=e}}class rT{constructor(e){this.key=e}}class wO{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=IE(e),this.Ra=new Zo(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new w_,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const I=o.get(_),R=xd(this.query,T)?T:null,O=!!I&&this.mutatedKeys.has(I.key),S=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let b=!1;I&&R?I.data.isEqual(R.data)?O!==S&&(i.track({type:3,doc:R}),b=!0):this.ga(I,R)||(i.track({type:2,doc:R}),b=!0,(f&&this.Aa(R,f)>0||y&&this.Aa(R,y)<0)&&(h=!0)):!I&&R?(i.track({type:0,doc:R}),b=!0):I&&!R&&(i.track({type:1,doc:I}),b=!0,(f||y)&&(h=!0)),b&&(R?(c=c.add(R),a=S?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Ra:c,fa:i,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((_,T)=>(function(R,O){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return S(R)-S(O)})(_.type,T.type)||this.Aa(_.doc,T.doc))),this.pa(i),o=o!=null&&o;const h=t&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,y=f!==this.Ea;return this.Ea=f,c.length!==0||y?{snapshot:new aa(this.query,e.Ra,a,c,e.mutatedKeys,f===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new w_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=je(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new rT(i))})),this.da.forEach((i=>{e.has(i)||t.push(new nT(i))})),t}ba(e){this.Ta=e.Ts,this.da=je();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return aa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class EO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TO{constructor(e){this.key=e,this.va=!1}}class xO{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ya((h=>xE(h)),Td),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(Ie.comparator),this.Na=new Map,this.La=new Xp,this.Ba={},this.ka=new Map,this.qa=oa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function IO(n,e,t=!0){const i=uT(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await iT(i,e,t,!0),o}async function SO(n,e){const t=uT(n);await iT(t,e,!0,!1)}async function iT(n,e,t,i){const o=await W2(n.localStore,Tr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await AO(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&YE(n.remoteStore,o),h}async function AO(n,e,t,i,o){n.Ka=(T,I,R)=>(async function(S,b,B,z){let q=b.view.ma(B);q.ns&&(q=await g_(S.localStore,b.query,!1).then((({documents:C})=>b.view.ma(C,q))));const Y=z&&z.targetChanges.get(b.targetId),J=z&&z.targetMismatches.get(b.targetId)!=null,se=b.view.applyChanges(q,S.isPrimaryClient,Y,J);return I_(S,b.targetId,se.wa),se.snapshot})(n,T,I,R);const a=await g_(n.localStore,e,!0),c=new wO(e,a.Ts),h=c.ma(a.documents),f=Jl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(h,n.isPrimaryClient,f);I_(n,t,y.wa);const _=new EO(e,t,c);return n.Fa.set(e,_),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),y.snapshot}async function CO(n,e,t){const i=Ne(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter((c=>!Td(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&em(i.remoteStore,o.targetId),fp(i,o.targetId)})).catch(Ql)):(fp(i,o.targetId),await dp(i.localStore,o.targetId,!0))}async function RO(n,e){const t=Ne(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),em(t.remoteStore,i.targetId))}async function PO(n,e,t){const i=MO(n);try{const o=await(function(c,h){const f=Ne(c),y=It.now(),_=h.reduce(((R,O)=>R.add(O.key)),je());let T,I;return f.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let O=ai(),S=je();return f.cs.getEntries(R,_).next((b=>{O=b,O.forEach(((B,z)=>{z.isValidDocument()||(S=S.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(R,O))).next((b=>{T=b;const B=[];for(const z of h){const q=GN(z,T.get(z.key).overlayedDocument);q!=null&&B.push(new qs(z.key,q,gE(q.value.mapValue),ti.exists(!0)))}return f.mutationQueue.addMutationBatch(R,y,B,h)})).next((b=>{I=b;const B=b.applyToLocalDocumentSet(T,S);return f.documentOverlayCache.saveOverlays(R,b.batchId,B)}))})).then((()=>({batchId:I.batchId,changes:AE(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let y=c.Ba[c.currentUser.toKey()];y||(y=new ot(qe)),y=y.insert(h,f),c.Ba[c.currentUser.toKey()]=y})(i,o.batchId,t),await eu(i,o.changes),await Pd(i.remoteStore)}catch(o){const a=sm(o,"Failed to persist write");t.reject(a)}}async function sT(n,e){const t=Ne(n);try{const i=await z2(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Na.get(a);c&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Ge(c.va):o.removedDocuments.size>0&&(Ge(c.va),c.va=!1))})),await eu(t,i,e)}catch(i){await Ql(i)}}function x_(n,e,t){const i=Ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((a,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=Ne(c);f.onlineState=h;let y=!1;f.queries.forEach(((_,T)=>{for(const I of T.j_)I.Z_(h)&&(y=!0)})),y&&om(f)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kO(n,e,t){const i=Ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let c=new ot(Ie.comparator);c=c.insert(a,Kt.newNoDocument(a,be.min()));const h=je().add(a),f=new Ad(be.min(),new Map,new ot(qe),c,h);await sT(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(e),am(i)}else await dp(i.localStore,e,!1).then((()=>fp(i,e,t))).catch(Ql)}async function bO(n,e){const t=Ne(n),i=e.batch.batchId;try{const o=await U2(t.localStore,e);aT(t,i,null),oT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await eu(t,o)}catch(o){await Ql(o)}}async function NO(n,e,t){const i=Ne(n);try{const o=await(function(c,h){const f=Ne(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return f.mutationQueue.lookupMutationBatch(y,h).next((T=>(Ge(T!==null),_=T.keys(),f.mutationQueue.removeMutationBatch(y,T)))).next((()=>f.mutationQueue.performConsistencyCheck(y))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(y,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>f.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);aT(i,e,t),oT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await eu(i,o)}catch(o){await Ql(o)}}function oT(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function aT(n,e,t){const i=Ne(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function fp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((i=>{n.La.containsKey(i)||lT(n,i)}))}function lT(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(em(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),am(n))}function I_(n,e,t){for(const i of t)i instanceof nT?(n.La.addReference(i.key,e),OO(n,i)):i instanceof rT?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||lT(n,i.key)):Pe()}function OO(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.xa.add(i),am(n))}function am(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ie(lt.fromString(e)),i=n.qa.next();n.Na.set(i,new TO(t)),n.Oa=n.Oa.insert(t,i),YE(n.remoteStore,new $i(Tr(qp(t.path)),i,"TargetPurposeLimboResolution",Up.oe))}}async function eu(n,e,t){const i=Ne(n),o=[],a=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,f)=>{c.push(i.Ka(f,e,t).then((y=>{var _;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(_=t?.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Zp.Wi(f.targetId,y);a.push(T)}})))})),await Promise.all(c),i.Ca.d_(o),await(async function(f,y){const _=Ne(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(y,(I=>te.forEach(I.$i,(R=>_.persistence.referenceDelegate.addReference(T,I.targetId,R))).next((()=>te.forEach(I.Ui,(R=>_.persistence.referenceDelegate.removeReference(T,I.targetId,R)))))))))}catch(T){if(!Yl(T))throw T;ge("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const R=_.os.get(I),O=R.snapshotVersion,S=R.withLastLimboFreeSnapshotVersion(O);_.os=_.os.insert(I,S)}}})(i.localStore,a))}async function DO(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await qE(t.localStore,e);t.currentUser=e,(function(a,c){a.ka.forEach((h=>{h.forEach((f=>{f.reject(new xe(re.CANCELLED,c))}))})),a.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await eu(t,i.hs)}}function LO(n,e){const t=Ne(n),i=t.Na.get(e);if(i&&i.va)return je().add(i.key);{let o=je();const a=t.Ma.get(e);if(!a)return o;for(const c of a){const h=t.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function uT(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Ca.d_=yO.bind(null,e.eventManager),e.Ca.$a=vO.bind(null,e.eventManager),e}function MO(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NO.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return F2(this.persistence,new V2,e.initialUser,this.serializer)}Ga(e){return new D2(Jp.Zr,this.serializer)}Wa(e){return new q2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>x_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DO.bind(null,this.syncEngine),await hO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pO})()}createDatastore(e){const t=Cd(e.databaseInfo.databaseId),i=(function(a){return new Y2(a)})(e.databaseInfo);return(function(a,c,h,f){return new Z2(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,c,h){return new tO(i,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>x_(this.syncEngine,t,0)),(function(){return v_.D()?new v_:new K2})())}createSyncEngine(e,t){return(function(o,a,c,h,f,y,_){const T=new xO(o,a,c,h,f,y);return _&&(T.Qa=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Ne(o);ge("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Zl(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=fE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=sm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function bf(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await qE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function S_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await FO(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>__(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>__(e.remoteStore,o))),n._onlineComponents=e}async function FO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await bf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),await bf(n,new rd)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await bf(n,new rd);return n._offlineComponents}async function cT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await S_(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await S_(n,new pp))),n._onlineComponents}function UO(n){return cT(n).then((e=>e.syncEngine))}async function zO(n){const e=await cT(n),t=e.eventManager;return t.onListen=IO.bind(null,e.syncEngine),t.onUnlisten=CO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RO.bind(null,e.syncEngine),t}function BO(n,e,t={}){const i=new qi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,y){const _=new VO({next:I=>{_.Za(),c.enqueueAndForget((()=>gO(a,T)));const R=I.docs.has(h);!R&&I.fromCache?y.reject(new xe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&f&&f.source==="server"?y.reject(new xe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new _O(qp(h.path),_,{includeMetadataChanges:!0,_a:!0});return mO(a,T)})(await zO(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n,e,t){if(!t)throw new xe(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WO(n,e,t,i){if(e===!0&&i===!0)throw new xe(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function C_(n){if(!Ie.isDocumentKey(n))throw new xe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe()}function Fl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lm(n);throw new xe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new nN;switch(i.type){case"firstParty":return new oN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=A_.get(t);i&&(ge("ComponentProvider","Removing Datastore"),A_.delete(t),i.terminate())})(this),Promise.resolve()}}function HO(n,e,t,i={}){var o;const a=(n=Fl(n,um))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=qt.MOCK_USER;else{h=f1(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new xe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qt(y)}n._authCredentials=new rN(new hE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cm(this.firestore,e,this._query)}}class On{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Ul extends cm{constructor(e,t,i){super(e,t,qp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ie(e))}withConverter(e){return new Ul(this.firestore,e,this._path)}}function hT(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=fE.newId()),$O("doc","path",e),n instanceof um){const i=lt.fromString(e,...t);return C_(i),new On(n,null,new Ie(i))}{if(!(n instanceof On||n instanceof Ul))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return C_(i),new On(n.firestore,n instanceof Ul?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new GE(this,"async_queue_retry"),this.Vu=()=>{const i=kf();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=kf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=kf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new qi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yl(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(i);throw oi("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=im.createAndSchedule(this,e,t,i,(a=>this.yu(a)));return this.Tu.push(o),o}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class dm extends um{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new P_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function qO(n,e){const t=typeof n=="object"?n:kp(),i=typeof n=="string"?n:"(default)",o=Ws(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=d1("firestore");a&&HO(o,...a)}return o}function fT(n){if(n._terminated)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KO(n),n._firestoreClient}function KO(n){var e,t,i;const o=n._freezeSettings(),a=(function(h,f,y,_){return new _N(h,f,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,dT(_.experimentalLongPollingOptions),_.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new jO(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(Ut.fromBase64String(e))}catch(t){throw new xe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new la(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=/^__.*__$/;class QO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}function mT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class mm{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return id(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(mT(this.Cu)&&GO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class YO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Cd(e)}Qu(e,t,i,o=!1){return new mm({Cu:e,methodName:t,qu:i,path:Mt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XO(n){const e=n._freezeSettings(),t=Cd(n._databaseId);return new YO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JO(n,e,t,i,o,a={}){const c=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);_T("Data must be an object, but it was:",c,i);const h=yT(i,c);let f,y;if(a.merge)f=new Jn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const T of a.mergeFields){const I=ZO(e,T,t);if(!c.contains(I))throw new xe(re.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);tD(_,I)||_.push(I)}f=new Jn(_),y=c.fieldTransforms.filter((T=>f.covers(T.field)))}else f=null,y=c.fieldTransforms;return new QO(new bn(h),f,y)}function gT(n,e){if(vT(n=Ft(n)))return _T("Unsupported field value:",e,n),yT(n,e);if(n instanceof pT)return(function(i,o){if(!mT(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const a=[];let c=0;for(const h of i){let f=gT(h,o.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=Ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=It.fromDate(i);return{timestampValue:td(o.serializer,a)}}if(i instanceof It){const a=new It(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:td(o.serializer,a)}}if(i instanceof fm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof la)return{bytesValue:FE(o.serializer,i._byteString)};if(i instanceof On){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Yp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof pm)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return Kp(h.serializer,f)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${lm(i)}`)})(n,e)}function yT(n,e){const t={};return pE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(n,((i,o)=>{const a=gT(o,e.Mu(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function vT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof fm||n instanceof la||n instanceof On||n instanceof pT||n instanceof pm)}function _T(n,e,t){if(!vT(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=lm(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function ZO(n,e,t){if((e=Ft(e))instanceof hm)return e._internalPath;if(typeof e=="string")return wT(n,e);throw id("Field path arguments must be of type string or ",n,!1,void 0,t)}const eD=new RegExp("[~\\*/\\[\\]]");function wT(n,e,t){if(e.search(eD)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hm(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function id(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new xe(re.INVALID_ARGUMENT,h+n+f)}function tD(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nD extends ET{data(){return super.data()}}function TT(n,e){return typeof e=="string"?wT(n,e):e instanceof hm?e._internalPath:e._delegate._internalPath}class rD{convertValue(e,t="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ga(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((c=>ft(c.doubleValue)));return new pm(a)}convertGeoPoint(e){return new fm(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Bp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const t=Yi(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Ge(HE(i));const o=new Ll(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(t)||oi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xT extends ET{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(TT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class oD extends xT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){n=Fl(n,On);const e=Fl(n.firestore,dm);return BO(fT(e),n._key).then((t=>dD(e,n,t)))}class lD extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function uD(n,e,t){n=Fl(n,On);const i=Fl(n.firestore,dm),o=iD(n.converter,e);return cD(i,[JO(XO(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ti.none())])}function cD(n,e){return(function(i,o){const a=new qi;return i.asyncQueue.enqueueAndForget((async()=>PO(await UO(i),o,a))),a.promise})(fT(n),e)}function dD(n,e,t){const i=t.docs.get(e._key),o=new lD(n);return new xT(n,o,e._key,i,new sD(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ma=o})(fa),Sr(new tr("firestore",((i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new dm(new iN(i.getProvider("auth-internal")),new lN(i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new xe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(y.options.projectId,_)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Nn(Qv,"4.7.3",e),Nn(Qv,"4.7.3","esm2017")})();var hD="firebase",fD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn(hD,fD,"app");const IT="@firebase/installations",gm="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=1e4,AT=`w:${gm}`,CT="FIS_v2",pD="https://firebaseinstallations.googleapis.com/v1",mD=3600*1e3,gD="installations",yD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zs=new $s(gD,yD,vD);function RT(n){return n instanceof rr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT({projectId:n}){return`${pD}/projects/${n}/installations`}function kT(n){return{token:n.token,requestStatus:2,expiresIn:wD(n.expiresIn),creationTime:Date.now()}}async function bT(n,e){const i=(await e.json()).error;return zs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function NT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _D(n,{refreshToken:e}){const t=NT(n);return t.append("Authorization",ED(e)),t}async function OT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function wD(n){return Number(n.replace("s","000"))}function ED(n){return`${CT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=PT(n),o=NT(n),a=e.getImmediate({optional:!0});if(a){const y=await a.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={fid:t,authVersion:CT,appId:n.appId,sdkVersion:AT},h={method:"POST",headers:o,body:JSON.stringify(c)},f=await OT(()=>fetch(i,h));if(f.ok){const y=await f.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:kT(y.authToken)}}else throw await bT("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=/^[cdef][\w-]{21}$/,mp="";function SD(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=AD(n);return ID.test(t)?t:mp}catch{return mp}}function AD(n){return xD(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;function MT(n,e){const t=kd(n);VT(t,e),CD(t,e)}function VT(n,e){const t=LT.get(n);if(t)for(const i of t)i(e)}function CD(n,e){const t=RD();t&&t.postMessage({key:n,fid:e}),PD()}let Ps=null;function RD(){return!Ps&&"BroadcastChannel"in self&&(Ps=new BroadcastChannel("[Firebase] FID Change"),Ps.onmessage=n=>{VT(n.data.key,n.data.fid)}),Ps}function PD(){LT.size===0&&Ps&&(Ps.close(),Ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="firebase-installations-database",bD=1,Bs="firebase-installations-store";let Nf=null;function ym(){return Nf||(Nf=T0(kD,bD,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Bs)}}})),Nf}async function sd(n,e){const t=kd(n),o=(await ym()).transaction(Bs,"readwrite"),a=o.objectStore(Bs),c=await a.get(t);return await a.put(e,t),await o.done,(!c||c.fid!==e.fid)&&MT(n,e.fid),e}async function jT(n){const e=kd(n),i=(await ym()).transaction(Bs,"readwrite");await i.objectStore(Bs).delete(e),await i.done}async function bd(n,e){const t=kd(n),o=(await ym()).transaction(Bs,"readwrite"),a=o.objectStore(Bs),c=await a.get(t),h=e(c);return h===void 0?await a.delete(t):await a.put(h,t),await o.done,h&&(!c||c.fid!==h.fid)&&MT(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(n){let e;const t=await bd(n.appConfig,i=>{const o=ND(i),a=OD(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===mp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function ND(n){const e=n||{fid:SD(),registrationStatus:0};return FT(e)}function OD(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(zs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=DD(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:LD(n)}:{installationEntry:e}}async function DD(n,e){try{const t=await TD(n,e);return sd(n.appConfig,t)}catch(t){throw RT(t)&&t.customData.serverCode===409?await jT(n.appConfig):await sd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function LD(n){let e=await k_(n.appConfig);for(;e.registrationStatus===1;)await DT(100),e=await k_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await vm(n);return i||t}return e}function k_(n){return bd(n,e=>{if(!e)throw zs.create("installation-not-found");return FT(e)})}function FT(n){return MD(n)?{fid:n.fid,registrationStatus:0}:n}function MD(n){return n.registrationStatus===1&&n.registrationTime+ST<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD({appConfig:n,heartbeatServiceProvider:e},t){const i=jD(n,t),o=_D(n,t),a=e.getImmediate({optional:!0});if(a){const y=await a.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={installation:{sdkVersion:AT,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(c)},f=await OT(()=>fetch(i,h));if(f.ok){const y=await f.json();return kT(y)}else throw await bT("Generate Auth Token",f)}function jD(n,{fid:e}){return`${PT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(n,e=!1){let t;const i=await bd(n.appConfig,a=>{if(!UT(a))throw zs.create("not-registered");const c=a.authToken;if(!e&&zD(c))return a;if(c.requestStatus===1)return t=FD(n,e),a;{if(!navigator.onLine)throw zs.create("app-offline");const h=$D(a);return t=UD(n,h),h}});return t?await t:i.authToken}async function FD(n,e){let t=await b_(n.appConfig);for(;t.authToken.requestStatus===1;)await DT(100),t=await b_(n.appConfig);const i=t.authToken;return i.requestStatus===0?_m(n,e):i}function b_(n){return bd(n,e=>{if(!UT(e))throw zs.create("not-registered");const t=e.authToken;return WD(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function UD(n,e){try{const t=await VD(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await sd(n.appConfig,i),t}catch(t){if(RT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await jT(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sd(n.appConfig,i)}throw t}}function UT(n){return n!==void 0&&n.registrationStatus===2}function zD(n){return n.requestStatus===2&&!BD(n)}function BD(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+mD}function $D(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function WD(n){return n.requestStatus===1&&n.requestTime+ST<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n){const e=n,{installationEntry:t,registrationPromise:i}=await vm(e);return i?i.catch(console.error):_m(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,e=!1){const t=n;return await KD(t),(await _m(t,e)).token}async function KD(n){const{registrationPromise:e}=await vm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(n){if(!n||!n.options)throw Of("App Configuration");if(!n.name)throw Of("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Of(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Of(n){return zs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="installations",QD="installations-internal",YD=n=>{const e=n.getProvider("app").getImmediate(),t=GD(e),i=Ws(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},XD=n=>{const e=n.getProvider("app").getImmediate(),t=Ws(e,zT).getImmediate();return{getId:()=>HD(t),getToken:o=>qD(t,o)}};function JD(){Sr(new tr(zT,YD,"PUBLIC")),Sr(new tr(QD,XD,"PRIVATE"))}JD();Nn(IT,gm);Nn(IT,gm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="analytics",ZD="firebase_id",eL="origin",tL=60*1e3,nL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new gd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new $s("analytics","Analytics",rL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(n){if(!n.startsWith(wm)){const e=wn.create("invalid-gtag-resource",{gtagURL:n});return un.warn(e.message),""}return n}function BT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function sL(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function oL(n,e){const t=sL("firebase-js-sdk-policy",{createScriptURL:iL}),i=document.createElement("script"),o=`${wm}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function aL(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function lL(n,e,t,i,o,a){const c=i[o];try{if(c)await e[c];else{const f=(await BT(t)).find(y=>y.measurementId===o);f&&await e[f.appId]}}catch(h){un.error(h)}n("config",o,a)}async function uL(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const h=await BT(t);for(const f of c){const y=h.find(T=>T.measurementId===f),_=y&&e[y.appId];if(_)a.push(_);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){un.error(a)}}function cL(n,e,t,i){async function o(a,...c){try{if(a==="event"){const[h,f]=c;await uL(n,e,t,h,f)}else if(a==="config"){const[h,f]=c;await lL(n,e,t,i,h,f)}else if(a==="consent"){const[h,f]=c;n("consent",h,f)}else if(a==="get"){const[h,f,y]=c;n("get",h,f,y)}else if(a==="set"){const[h]=c;n("set",h)}else n(a,...c)}catch(h){un.error(h)}}return o}function dL(n,e,t,i,o){let a=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=cL(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function hL(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(wm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=30,pL=1e3;class mL{constructor(e={},t=pL){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $T=new mL;function gL(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function yL(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:gL(i)},a=nL.replace("{app-id}",t),c=await fetch(a,o);if(c.status!==200&&c.status!==304){let h="";try{const f=await c.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function vL(n,e=$T,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw wn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw wn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new EL;return setTimeout(async()=>{h.abort()},tL),WT({appId:i,apiKey:o,measurementId:a},c,h,e)}async function WT(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=$T){var a;const{appId:c,measurementId:h}=n;try{await _L(i,e)}catch(f){if(h)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:c,measurementId:h};throw f}try{const f=await yL(n);return o.deleteThrottleMetadata(c),f}catch(f){const y=f;if(!wL(y)){if(o.deleteThrottleMetadata(c),h)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:c,measurementId:h};throw f}const _=Number((a=y?.customData)===null||a===void 0?void 0:a.httpStatus)===503?wv(t,o.intervalMillis,fL):wv(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(c,T),un.debug(`Calling attemptFetch again in ${_} millis`),WT(n,T,i,o)}}function _L(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wL(n){if(!(n instanceof rr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class EL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TL(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,c=Object.assign(Object.assign({},i),{send_to:a});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(){if(v0())try{await _0()}catch(n){return un.warn(wn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return un.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IL(n,e,t,i,o,a,c){var h;const f=vL(n);f.then(R=>{t[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>un.error(R)),e.push(f);const y=xL().then(R=>{if(R)return i.getId()}),[_,T]=await Promise.all([f,y]);hL(a)||oL(a,_.measurementId),o("js",new Date);const I=(h=c?.config)!==null&&h!==void 0?h:{};return I[eL]="firebase",I.update=!0,T!=null&&(I[ZD]=T),o("config",_.measurementId,I),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.app=e}_delete(){return delete Al[this.app.options.appId],Promise.resolve()}}let Al={},N_=[];const O_={};let Df="dataLayer",AL="gtag",D_,HT,L_=!1;function CL(){const n=[];if(y0()&&n.push("This is a browser extension environment."),w1()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=wn.create("invalid-analytics-context",{errorInfo:e});un.warn(t.message)}}function RL(n,e,t){CL();const i=n.options.appId;if(!i)throw wn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Al[i]!=null)throw wn.create("already-exists",{id:i});if(!L_){aL(Df);const{wrappedGtag:a,gtagCore:c}=dL(Al,N_,O_,Df,AL);HT=a,D_=c,L_=!0}return Al[i]=IL(n,N_,O_,e,D_,Df,t),new SL(n)}function PL(n=kp()){n=Ft(n);const e=Ws(n,od);return e.isInitialized()?e.getImmediate():kL(n)}function kL(n,e={}){const t=Ws(n,od);if(t.isInitialized()){const o=t.getImmediate();if(kl(e,t.getOptions()))return o;throw wn.create("already-initialized")}return t.initialize({options:e})}function bL(n,e,t,i){n=Ft(n),TL(HT,Al[n.app.options.appId],e,t,i).catch(o=>un.error(o))}const M_="@firebase/analytics",V_="0.10.8";function NL(){Sr(new tr(od,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return RL(i,o,t)},"PUBLIC")),Sr(new tr("analytics-internal",n,"PRIVATE")),Nn(M_,V_),Nn(M_,V_,"esm2017");function n(e){try{const t=e.getProvider(od).getImmediate();return{logEvent:(i,o,a)=>bL(t,i,o,a)}}catch(t){throw wn.create("interop-component-reg-failed",{reason:t})}}}NL();const OL={apiKey:"AIzaSyBXQ_4m20pfx0ASdbQ1llCFkC51AF0ZB6A",authDomain:"spark-d.firebaseapp.com",projectId:"spark-d",storageBucket:"spark-d.firebasestorage.app",messagingSenderId:"577293031414",appId:"1:577293031414:web:053c2bf775489b1c84d9d7",measurementId:"G-QCEYJP63ZS"},Em=x0(OL),Nd=eN(Em),qT=qO(Em);typeof window<"u"&&PL(Em);const DL=async(n,e,t)=>{try{if(!n.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");const i=await Lk(Nd,n,e),o=i.user;await Fk(o,{displayName:`${t.firstName} ${t.lastName}`}),await Vk(o);const a={uid:o.uid,email:o.email,...t,createdAt:new Date,updatedAt:new Date,isVerified:!1};return await uD(hT(qT,"users",o.uid),a),i}catch(i){throw console.error("Sign up error:",i),new Error(KT(i.code))}},LL=async(n,e)=>{try{return await Mk(Nd,n,e)}catch(t){throw console.error("Sign in error:",t),new Error(KT(t.code))}},ML=async()=>{try{await $k(Nd)}catch(n){throw console.error("Sign out error:",n),new Error("Failed to sign out")}},VL=async n=>{try{const e=await aD(hT(qT,"users",n));return e.exists()?e.data():null}catch(e){throw console.error("Get user profile error:",e),new Error("Failed to get user profile")}},KT=n=>{switch(n){case"auth/email-already-in-use":return"An account with this email already exists";case"auth/invalid-email":return"Invalid email address";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many failed attempts. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";default:return"An error occurred. Please try again"}},jL=H_("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function GT({className:n,variant:e,...t}){return w.jsx("div",{"data-slot":"alert",role:"alert",className:Dn(jL({variant:e}),n),...t})}function QT({className:n,...e}){return w.jsx("div",{"data-slot":"alert-description",className:Dn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function FL(){const[n,e]=L.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",age:"",major:"",year:"",bio:""}),[t,i]=L.useState(1),[o,a]=L.useState(!1),[c,h]=L.useState(""),[f,y]=L.useState(!1),_=(O,S)=>{e(b=>({...b,[O]:S}))},T=()=>{t<3&&i(t+1)},I=()=>{t>1&&i(t-1)},R=async O=>{O.preventDefault(),h(""),a(!0);try{if(n.password!==n.confirmPassword)throw new Error("Passwords do not match");if(n.password.length<6)throw new Error("Password must be at least 6 characters long");if(!n.firstName||!n.lastName||!n.email||!n.password||!n.age||!n.major||!n.year)throw new Error("Please fill in all required fields");if(!n.email.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");const S=parseInt(n.age);if(S<18||S>100)throw new Error("Please enter a valid age (18-100)");await DL(n.email,n.password,{firstName:n.firstName.trim(),lastName:n.lastName.trim(),age:n.age,major:n.major.trim(),year:n.year,bio:n.bio.trim()}),y(!0)}catch(S){h(S.message||"An error occurred during sign up")}finally{a(!1)}};return f?w.jsx("div",{className:"w-full max-w-md mx-auto text-center",children:w.jsxs("div",{className:"bg-green-900/20 border border-green-700/30 rounded-lg p-6",children:[w.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx("span",{className:"text-2xl",children:""})}),w.jsx("h2",{className:"text-white text-xl mb-2",children:"Account Created Successfully!"}),w.jsxs("p",{className:"text-green-200/80 mb-4",children:["We've sent a verification email to ",w.jsx("strong",{children:n.email}),". Please check your inbox and click the verification link to activate your account."]}),w.jsx("p",{className:"text-green-200/60 text-sm",children:"Once verified, you'll be able to sign in and start connecting with fellow Sun Devils!"})]})}):w.jsxs("div",{className:"w-full max-w-md mx-auto",children:[c&&w.jsx(GT,{className:"mb-6 bg-red-900/20 border-red-700/30",children:w.jsx(QT,{className:"text-red-200",children:c})}),w.jsx("div",{className:"flex justify-center mb-8",children:w.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(O=>w.jsx("div",{className:`w-2 h-2 rounded-full ${O===t||O<t?"bg-green-500":"bg-gray-600"}`},O))})}),w.jsxs("form",{onSubmit:R,className:"space-y-6",children:[t===1&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-white mb-2",children:"Let's get started!"}),w.jsx("p",{className:"text-gray-400",children:"Tell us about yourself"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"firstName",className:"text-white",children:"First Name"}),w.jsx(ji,{id:"firstName",value:n.firstName,onChange:O=>_("firstName",O.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter first name",required:!0})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"lastName",className:"text-white",children:"Last Name"}),w.jsx(ji,{id:"lastName",value:n.lastName,onChange:O=>_("lastName",O.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter last name",required:!0})]})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"email",className:"text-white",children:"ASU Email"}),w.jsx(ji,{id:"email",type:"email",value:n.email,onChange:O=>_("email",O.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"yourname@asu.edu",pattern:".*@asu\\.edu$",required:!0}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must use your ASU email address"})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"password",className:"text-white",children:"Password"}),w.jsx(ji,{id:"password",type:"password",value:n.password,onChange:O=>_("password",O.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Create a secure password",required:!0})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"confirmPassword",className:"text-white",children:"Confirm Password"}),w.jsx(ji,{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:O=>_("confirmPassword",O.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Confirm your password",required:!0})]})]}),t===2&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-white mb-2",children:"Academic Info"}),w.jsx("p",{className:"text-gray-400",children:"Help us connect you with fellow Sun Devils"})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"age",className:"text-white",children:"Age"}),w.jsxs(pv,{onValueChange:O=>_("age",O),children:[w.jsx(gv,{className:"bg-gray-800 border-gray-700 text-white",children:w.jsx(mv,{placeholder:"Select your age"})}),w.jsx(yv,{className:"bg-gray-800 border-gray-700",children:Array.from({length:13},(O,S)=>S+18).map(O=>w.jsx(Bo,{value:O.toString(),className:"text-white hover:bg-gray-700",children:O},O))})]})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"major",className:"text-white",children:"Major"}),w.jsx(ji,{id:"major",value:n.major,onChange:O=>_("major",O.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"e.g., Business Administration",required:!0})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"year",className:"text-white",children:"Year"}),w.jsxs(pv,{onValueChange:O=>_("year",O),children:[w.jsx(gv,{className:"bg-gray-800 border-gray-700 text-white",children:w.jsx(mv,{placeholder:"Select your year"})}),w.jsxs(yv,{className:"bg-gray-800 border-gray-700",children:[w.jsx(Bo,{value:"freshman",className:"text-white hover:bg-gray-700",children:"Freshman"}),w.jsx(Bo,{value:"sophomore",className:"text-white hover:bg-gray-700",children:"Sophomore"}),w.jsx(Bo,{value:"junior",className:"text-white hover:bg-gray-700",children:"Junior"}),w.jsx(Bo,{value:"senior",className:"text-white hover:bg-gray-700",children:"Senior"}),w.jsx(Bo,{value:"graduate",className:"text-white hover:bg-gray-700",children:"Graduate Student"})]})]})]})]}),t===3&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-white mb-2",children:"Tell us about yourself"}),w.jsx("p",{className:"text-gray-400",children:"What makes you unique?"})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"bio",className:"text-white",children:"Bio"}),w.jsx(r1,{id:"bio",value:n.bio,onChange:O=>_("bio",O.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500 min-h-[120px]",placeholder:"Tell other Sun Devils about yourself! What do you love about ASU? What are you looking for?",maxLength:300}),w.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.bio.length,"/300 characters"]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[w.jsx("h4",{className:"text-white mb-2",children:"Almost done! "}),w.jsx("p",{className:"text-gray-400 text-sm",children:"By creating an account, you agree to our Terms of Service and Privacy Policy. We'll verify your ASU student status before activating your account."})]})]}),w.jsxs("div",{className:"flex justify-between pt-4",children:[t>1&&w.jsx(ks,{type:"button",onClick:I,variant:"outline",className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Back"}),t<3?w.jsx(ks,{type:"button",onClick:T,className:"bg-yellow-600 hover:bg-yellow-700 text-black ml-auto",children:"Next"}):w.jsx(ks,{type:"submit",className:"bg-yellow-600 hover:bg-yellow-700 text-black ml-auto",disabled:o,children:o?"Creating Account...":"Create Account"})]})]})]})}function UL({onToggleMode:n}){const[e,t]=L.useState({email:"",password:""}),[i,o]=L.useState(!1),[a,c]=L.useState(""),h=(y,_)=>{t(T=>({...T,[y]:_}))},f=async y=>{y.preventDefault(),c(""),o(!0);try{if(!e.email||!e.password)throw new Error("Please fill in all fields");if(!e.email.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");await LL(e.email,e.password)}catch(_){c(_.message||"An error occurred during sign in")}finally{o(!1)}};return w.jsxs("div",{className:"w-full max-w-md mx-auto",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-white text-2xl mb-2",children:"Welcome Back!"}),w.jsx("p",{className:"text-gray-400",children:"Sign in to your Spark'd account"})]}),w.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a&&w.jsx(GT,{className:"bg-red-900/20 border-red-700/30",children:w.jsx(QT,{className:"text-red-200",children:a})}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"email",className:"text-white",children:"ASU Email"}),w.jsx(ji,{id:"email",type:"email",value:e.email,onChange:y=>h("email",y.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"yourname@asu.edu",required:!0})]}),w.jsxs("div",{children:[w.jsx(Yn,{htmlFor:"password",className:"text-white",children:"Password"}),w.jsx(ji,{id:"password",type:"password",value:e.password,onChange:y=>h("password",y.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter your password",required:!0})]}),w.jsx(ks,{type:"submit",className:"w-full bg-yellow-600 hover:bg-yellow-700 text-black",disabled:i,children:i?"Signing In...":"Sign In"}),w.jsx("div",{className:"text-center",children:w.jsxs("p",{className:"text-gray-500 text-sm",children:["Don't have an account?"," ",w.jsx(ks,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:n,children:"Sign Up"})]})})]})]})}const YT=L.createContext({user:null,userProfile:null,loading:!0}),zL=()=>{const n=L.useContext(YT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},BL=({children:n})=>{const[e,t]=L.useState(null),[i,o]=L.useState(null),[a,c]=L.useState(!0);return L.useEffect(()=>{const h=Bk(Nd,async f=>{if(t(f),f)try{const y=await VL(f.uid);o(y)}catch(y){console.error("Error fetching user profile:",y),o(null)}else o(null);c(!1)});return()=>h()},[]),w.jsx(YT.Provider,{value:{user:e,userProfile:i,loading:a},children:n})},$L=[{id:1,name:"Emma",age:20,major:"Business Administration",year:"Junior",distance:"0.5 mi",bio:"Love hiking Camelback Mountain and trying new restaurants in Tempe! Always down for a study session at the MU or catching a Sun Devils game. ",interests:["Hiking","Sun Devils Sports","Photography"],photos:["/api/placeholder/400/600"]},{id:2,name:"Alex",age:21,major:"Computer Science",year:"Senior",distance:"0.8 mi",bio:"Tech enthusiast who loves gaming and rock climbing. Looking for someone to explore Phoenix with!",interests:["Gaming","Rock Climbing","Technology"],photos:["/api/placeholder/400/600"]},{id:3,name:"Sarah",age:19,major:"Psychology",year:"Sophomore",distance:"1.2 mi",bio:"Psychology major who loves art, music, and deep conversations. Always up for coffee at the MU!",interests:["Art","Music","Coffee"],photos:["/api/placeholder/400/600"]}];function j_({userProfile:n}){const[e,t]=L.useState(0),[i,o]=L.useState($L),a=i[e],c=h=>{e<i.length-1?t(e+1):t(0)};return a?w.jsxs("div",{className:"flex-1 bg-black px-4 py-6 flex flex-col",children:[w.jsx("div",{className:"flex-1 max-w-sm mx-auto w-full",children:w.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-2xl h-full flex flex-col",children:[w.jsx("div",{className:"relative h-96 bg-gray-200",children:w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsx("div",{className:"w-32 h-32 bg-gray-300 rounded-full flex items-center justify-center",children:w.jsx("span",{className:"text-4xl text-gray-500",children:""})})})}),w.jsxs("div",{className:"flex-1 bg-black text-white p-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsx("div",{className:"flex items-center space-x-2",children:w.jsxs("h2",{className:"text-2xl font-bold",children:[a.name,", ",a.age]})}),w.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[w.jsx(UR,{size:16,className:"mr-1"}),a.distance]})]}),w.jsxs("div",{className:"flex items-center text-gray-300 mb-4",children:[w.jsx(NR,{size:16,className:"mr-2"}),w.jsxs("span",{children:[a.major,"  ",a.year]})]}),w.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:a.bio}),w.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.interests.map((h,f)=>w.jsx("span",{className:"bg-[#8B4B6B] text-white px-3 py-1 rounded-full text-sm",children:h},f)),a.interests.length>3&&w.jsxs("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm",children:["+",a.interests.length-3," more"]})]}),w.jsxs("div",{className:"flex justify-center space-x-6",children:[w.jsx("button",{onClick:()=>c(),className:"w-14 h-14 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors",children:w.jsx(e1,{size:24,className:"text-white"})}),w.jsx("button",{onClick:()=>c(),className:"w-14 h-14 bg-yellow-500 hover:bg-yellow-600 rounded-full flex items-center justify-center transition-colors",children:w.jsx("span",{className:"text-white text-2xl",children:""})})]})]})]})}),w.jsxs("div",{className:"text-center mt-4",children:[w.jsx("div",{className:"flex justify-center space-x-2",children:i.map((h,f)=>w.jsx("div",{className:`w-2 h-2 rounded-full ${f===e?"bg-[#8B4B6B]":"bg-gray-600"}`},f))}),w.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[e+1," of ",i.length]})]})]}):w.jsx("div",{className:"flex-1 flex items-center justify-center bg-black text-white",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-6xl mb-4",children:""}),w.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No more profiles"}),w.jsx("p",{className:"text-gray-400",children:"Check back later for more Sun Devils!"})]})})}function WL(){return w.jsx("div",{className:"flex-1 bg-black flex items-center justify-center px-6",children:w.jsxs("div",{className:"text-center max-w-sm",children:[w.jsx("div",{className:"mb-6",children:w.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-red-500",children:w.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full",children:[w.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),w.jsx("path",{d:"M8 2L16 22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})}),w.jsx("h2",{className:"text-white text-2xl font-semibold mb-3",children:"No matches yet"}),w.jsx("p",{className:"text-gray-400 text-base leading-relaxed",children:"Keep swiping to find your perfect Sun Devil match!"})]})})}function HL({user:n,userProfile:e}){const t=e?.interests||["Sun Devils Sports","Study Groups","Campus Life"];return w.jsxs("div",{className:"flex-1 bg-black overflow-y-auto",children:[w.jsxs("div",{className:"bg-[#8B4B6B] px-4 py-4 flex items-center justify-between",children:[w.jsx("h1",{className:"text-white text-xl font-semibold",children:"Your Profile"}),w.jsxs("button",{className:"bg-black/20 hover:bg-black/30 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[w.jsx(u0,{size:16}),w.jsx("span",{children:"Edit"})]})]}),w.jsxs("div",{className:"px-4 py-6",children:[w.jsx("div",{className:"relative mb-6",children:w.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500 rounded-2xl overflow-hidden",children:w.jsxs("div",{className:"w-full h-full bg-gradient-to-b from-blue-300 to-yellow-200 relative",children:[w.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-yellow-600 to-yellow-400"}),w.jsx("div",{className:"absolute top-16 left-1/2 transform -translate-x-1/2",children:w.jsxs("div",{className:"w-16 h-20 relative",children:[w.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-red-500 via-yellow-500 to-green-500 border-2 border-white shadow-lg",children:w.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-red-400 via-yellow-400 to-green-400 opacity-80"})}),w.jsx("div",{className:"absolute top-14 left-1/2 transform -translate-x-1/2 w-4 h-3 bg-yellow-800 rounded-sm"}),w.jsx("div",{className:"absolute top-12 left-1/4 w-px h-3 bg-gray-600"}),w.jsx("div",{className:"absolute top-12 right-1/4 w-px h-3 bg-gray-600"})]})}),w.jsxs("div",{className:"absolute bottom-8 right-8",children:[w.jsx("div",{className:"w-12 h-8 bg-yellow-600 rounded-t-lg"}),w.jsx("div",{className:"w-12 h-6 bg-orange-600"})]})]})})}),w.jsx("div",{className:"bg-gray-900 rounded-2xl p-6 mb-6",children:w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:"Name"}),w.jsx("p",{className:"text-white text-lg",children:e?.firstName&&e?.lastName?`${e.firstName} ${e.lastName}`:n?.displayName||"Your Name"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:"Age"}),w.jsx("p",{className:"text-white text-lg",children:e?.age||"20"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:"Major"}),w.jsx("p",{className:"text-white text-lg",children:e?.major||"Your Major"})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-1",children:"Year"}),w.jsx("p",{className:"text-white text-lg capitalize",children:e?.year||"Sophomore"})]})]})}),w.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 mb-6",children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-3",children:"Bio"}),w.jsx("p",{className:"text-gray-300 leading-relaxed",children:e?.bio||"Tell other Sun Devils about yourself! What do you love about ASU? What are you looking for?"})]}),w.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6",children:[w.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4",children:"Interests"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((i,o)=>w.jsx("span",{className:"bg-[#8B4B6B] text-white px-4 py-2 rounded-full text-sm font-medium",children:i},o))})]})]})]})}function qL({user:n,userProfile:e,onSignOut:t}){return w.jsxs("div",{className:"flex-1 bg-black overflow-y-auto",children:[w.jsx("div",{className:"bg-[#8B4B6B] px-4 py-4",children:w.jsxs("div",{children:[w.jsx("h1",{className:"text-white text-xl font-semibold",children:"Settings"}),w.jsx("p",{className:"text-white/80 text-sm",children:"Manage your Sun Devil Match experience"})]})}),w.jsxs("div",{className:"px-4 py-6",children:[w.jsx("div",{className:"bg-gray-900 rounded-2xl p-1 mb-6",children:w.jsxs("div",{className:"p-5",children:[w.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[w.jsx(c0,{size:20,className:"text-gray-400"}),w.jsx("h2",{className:"text-white text-lg font-semibold",children:"Account"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(jR,{size:18,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-medium",children:"Email"}),w.jsx("p",{className:"text-gray-400 text-sm",children:n?.email||"user@asu.edu"})]})]}),w.jsx(Yr,{size:18,className:"text-gray-400"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx($R,{size:18,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-medium",children:"Phone Number"}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("p",{className:"text-gray-400 text-sm",children:"+1 (480) 555-0123"}),w.jsx("span",{className:"bg-green-600 text-white text-xs px-2 py-1 rounded-full",children:"Verified"})]})]})]}),w.jsx(Yr,{size:18,className:"text-gray-400"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(IR,{size:18,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-medium",children:"Manage Photos"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Add, remove, or reorder your photos"})]})]}),w.jsx(Yr,{size:18,className:"text-gray-400"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(u0,{size:18,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-white font-medium",children:"Edit Profile Info"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Update your bio, prompts, and details"})]})]}),w.jsx(Yr,{size:18,className:"text-gray-400"})]})]})}),w.jsx("div",{className:"bg-gray-900 rounded-2xl p-1 mb-6",children:w.jsxs("div",{className:"p-5",children:[w.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[w.jsx(HR,{size:20,className:"text-gray-400"}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-white text-lg font-semibold",children:"Discovery Preferences"}),w.jsx("p",{className:"text-gray-400 text-sm",children:"Control who you see and who sees you"})]})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsx("div",{children:w.jsx("p",{className:"text-white font-medium",children:"Age Range"})}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("span",{className:"text-gray-400 text-sm",children:"18 - 25"}),w.jsx(Yr,{size:18,className:"text-gray-400"})]})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsx("div",{children:w.jsx("p",{className:"text-white font-medium",children:"Maximum Distance"})}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("span",{className:"text-gray-400 text-sm",children:"5 miles"}),w.jsx(Yr,{size:18,className:"text-gray-400"})]})]}),w.jsxs("div",{className:"flex items-center justify-between py-4",children:[w.jsx("div",{children:w.jsx("p",{className:"text-white font-medium",children:"Show Me"})}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("span",{className:"text-gray-400 text-sm",children:"Everyone"}),w.jsx(Yr,{size:18,className:"text-gray-400"})]})]})]})}),w.jsx("div",{className:"bg-gray-900 rounded-2xl p-1 mb-6",children:w.jsxs("div",{className:"p-5",children:[w.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[w.jsx(QR,{size:20,className:"text-gray-400"}),w.jsx("h2",{className:"text-white text-lg font-semibold",children:"Privacy & Safety"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-800",children:[w.jsx("p",{className:"text-white font-medium",children:"Block Contacts"}),w.jsx(Yr,{size:18,className:"text-gray-400"})]}),w.jsxs("div",{className:"flex items-center justify-between py-4",children:[w.jsx("p",{className:"text-white font-medium",children:"Safety Center"}),w.jsx(Yr,{size:18,className:"text-gray-400"})]})]})}),w.jsxs("button",{onClick:t,className:"w-full bg-red-600 hover:bg-red-700 text-white py-4 px-6 rounded-2xl flex items-center justify-center space-x-2 transition-colors",children:[w.jsx(MR,{size:20}),w.jsx("span",{className:"font-medium",children:"Sign Out"})]}),w.jsx("div",{className:"text-center mt-6",children:w.jsx("p",{className:"text-gray-500 text-sm",children:"Sun Devil Match v1.0.0"})})]})]})}function KL({user:n,userProfile:e,onSignOut:t}){const[i,o]=L.useState("discover"),a=()=>{switch(i){case"discover":return w.jsx(j_,{userProfile:e});case"matches":return w.jsx(WL,{});case"profile":return w.jsx(HL,{user:n,userProfile:e});case"settings":return w.jsx(qL,{user:n,userProfile:e,onSignOut:t});default:return w.jsx(j_,{userProfile:e})}};return w.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[w.jsx("div",{className:"brand-header px-4 py-4 flex-shrink-0",children:w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center shadow-md",children:w.jsx("span",{className:"text-white text-lg",children:""})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-white font-semibold text-lg tracking-wide",children:"Sun Devil Match"}),w.jsx("p",{className:"text-white/80 text-sm",children:"ASU Dating & Date Planning"})]})]})}),w.jsx("div",{className:"flex-1 overflow-hidden",children:a()}),w.jsx("div",{className:"bottom-nav flex-shrink-0",children:w.jsxs("div",{className:"flex",children:[w.jsxs("button",{onClick:()=>o("discover"),className:`flex-1 py-4 px-2 flex flex-col items-center space-y-1 transition-colors ${i==="discover"?"active-tab":"text-gray-400 hover:text-white"}`,children:[w.jsx(DR,{size:24}),w.jsx("span",{className:"text-xs font-medium",children:"Discover"})]}),w.jsxs("button",{onClick:()=>o("matches"),className:`flex-1 py-4 px-2 flex flex-col items-center space-y-1 transition-colors ${i==="matches"?"active-tab":"text-gray-400 hover:text-white"}`,children:[w.jsx(JR,{size:24}),w.jsx("span",{className:"text-xs font-medium",children:"Matches"})]}),w.jsxs("button",{onClick:()=>o("profile"),className:`flex-1 py-4 px-2 flex flex-col items-center space-y-1 transition-colors ${i==="profile"?"active-tab":"text-gray-400 hover:text-white"}`,children:[w.jsx(c0,{size:24}),w.jsx("span",{className:"text-xs font-medium",children:"Profile"})]}),w.jsxs("button",{onClick:()=>o("settings"),className:`flex-1 py-4 px-2 flex flex-col items-center space-y-1 transition-colors ${i==="settings"?"active-tab":"text-gray-400 hover:text-white"}`,children:[w.jsx(KR,{size:24}),w.jsx("span",{className:"text-xs font-medium",children:"Settings"})]})]})})]})}function GL(){const[n,e]=L.useState(!0),{user:t,userProfile:i,loading:o}=zL(),a=async()=>{try{await ML()}catch(c){console.error("Sign out error:",c)}};return o?w.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),w.jsx("div",{className:"text-white text-xl",children:"Loading Spark'd..."}),w.jsx("p",{className:"text-gray-400 mt-2",children:"Please wait while we set up your experience"})]})}):t?w.jsx(KL,{user:t,userProfile:i,onSignOut:a}):w.jsxs("div",{className:"min-h-screen bg-black relative",children:[w.jsxs("div",{className:"absolute inset-0 z-0",children:[w.jsx("img",{src:uI,alt:"ASU Campus",className:"w-full h-full object-cover blur-sm"}),w.jsx("div",{className:"absolute inset-0 bg-black/75"})]}),w.jsxs("div",{className:"relative z-10",children:[w.jsx("div",{className:"brand-header px-6 py-4",children:w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center shadow-md",children:w.jsx("span",{className:"text-white text-lg",children:""})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-white font-semibold text-lg tracking-wide",children:"Sun Devil Match"}),w.jsx("p",{className:"text-white/80 text-sm",children:"ASU Dating & Date Planning"})]})]})}),w.jsx("div",{className:"px-6 py-12",children:w.jsxs("div",{className:"max-w-2xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h1",{className:"text-white text-3xl mb-4 leading-none",children:"Find your spark at ASU"}),w.jsx("p",{className:"text-gray-400 text-lg max-w-md mx-auto",children:"Meet fellow Sun Devils, plan great dates, and make meaningful connections."})]}),w.jsx("div",{className:"glass-card rounded-2xl p-8",children:n?w.jsx(FL,{}):w.jsx(UL,{onToggleMode:()=>e(!0)})}),w.jsx("div",{className:"text-center mt-8",children:w.jsx("p",{className:"text-gray-500 text-sm",children:n?w.jsxs(w.Fragment,{children:["Already have an account?"," ",w.jsx(ks,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:()=>e(!1),children:"Sign In"})]}):w.jsxs(w.Fragment,{children:["Don't have an account?"," ",w.jsx(ks,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:()=>e(!0),children:"Sign Up"})]})})}),w.jsx("div",{className:"mt-8 p-4 bg-yellow-900/20 border border-yellow-700/30 rounded-lg",children:w.jsxs("div",{className:"flex items-start space-x-3",children:[w.jsx("div",{className:"w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:w.jsx("span",{className:"text-black text-xs",children:""})}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-yellow-400 font-medium mb-1",children:"ASU Student Verification"}),w.jsx("p",{className:"text-yellow-200/80 text-sm",children:"Only verified ASU students can join Sun Devil Match. We'll send a verification email to your ASU address to confirm your student status."})]})]})})]})})]})]})}lI.createRoot(document.getElementById("root")).render(w.jsx(BL,{children:w.jsx(GL,{})}));
