function ix(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Cw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cf={exports:{}},wl={},Rf={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function sx(){if(lv)return Ve;lv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function I(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function A(z,X,pe){this.props=z,this.context=X,this.refs=x,this.updater=pe||R}A.prototype.isReactComponent={},A.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=A.prototype;function M(z,X,pe){this.props=z,this.context=X,this.refs=x,this.updater=pe||R}var $=M.prototype=new j;$.constructor=M,b($,A.prototype),$.isPureReactComponent=!0;var G=Array.isArray,J=Object.prototype.hasOwnProperty,ie={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(z,X,pe){var xe,Ae={},De=null,ue=null;if(X!=null)for(xe in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(De=""+X.key),X)J.call(X,xe)&&!k.hasOwnProperty(xe)&&(Ae[xe]=X[xe]);var we=arguments.length-2;if(we===1)Ae.children=pe;else if(1<we){for(var Le=Array(we),be=0;be<we;be++)Le[be]=arguments[be+2];Ae.children=Le}if(z&&z.defaultProps)for(xe in we=z.defaultProps,we)Ae[xe]===void 0&&(Ae[xe]=we[xe]);return{$$typeof:n,type:z,key:De,ref:ue,props:Ae,_owner:ie.current}}function N(z,X){return{$$typeof:n,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function F(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return X[pe]})}var V=/\/+/g;function O(z,X){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):X.toString(36)}function ve(z,X,pe,xe,Ae){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var ue=!1;if(z===null)ue=!0;else switch(De){case"string":case"number":ue=!0;break;case"object":switch(z.$$typeof){case n:case e:ue=!0}}if(ue)return ue=z,Ae=Ae(ue),z=xe===""?"."+O(ue,0):xe,G(Ae)?(pe="",z!=null&&(pe=z.replace(V,"$&/")+"/"),ve(Ae,X,pe,"",function(be){return be})):Ae!=null&&(L(Ae)&&(Ae=N(Ae,pe+(!Ae.key||ue&&ue.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+z)),X.push(Ae)),1;if(ue=0,xe=xe===""?".":xe+":",G(z))for(var we=0;we<z.length;we++){De=z[we];var Le=xe+O(De,we);ue+=ve(De,X,pe,Le,Ae)}else if(Le=I(z),typeof Le=="function")for(z=Le.call(z),we=0;!(De=z.next()).done;)De=De.value,Le=xe+O(De,we++),ue+=ve(De,X,pe,Le,Ae);else if(De==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function Oe(z,X,pe){if(z==null)return z;var xe=[],Ae=0;return ve(z,xe,"","",function(De){return X.call(pe,De,Ae++)}),xe}function _e(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var fe={current:null},Y={transition:null},ae={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:Y,ReactCurrentOwner:ie};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Oe,forEach:function(z,X,pe){Oe(z,function(){X.apply(this,arguments)},pe)},count:function(z){var X=0;return Oe(z,function(){X++}),X},toArray:function(z){return Oe(z,function(X){return X})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ve.Component=A,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=M,Ve.StrictMode=i,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ve.act=oe,Ve.cloneElement=function(z,X,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var xe=b({},z.props),Ae=z.key,De=z.ref,ue=z._owner;if(X!=null){if(X.ref!==void 0&&(De=X.ref,ue=ie.current),X.key!==void 0&&(Ae=""+X.key),z.type&&z.type.defaultProps)var we=z.type.defaultProps;for(Le in X)J.call(X,Le)&&!k.hasOwnProperty(Le)&&(xe[Le]=X[Le]===void 0&&we!==void 0?we[Le]:X[Le])}var Le=arguments.length-2;if(Le===1)xe.children=pe;else if(1<Le){we=Array(Le);for(var be=0;be<Le;be++)we[be]=arguments[be+2];xe.children=we}return{$$typeof:n,type:z.type,key:Ae,ref:De,props:xe,_owner:ue}},Ve.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ve.createElement=P,Ve.createFactory=function(z){var X=P.bind(null,z);return X.type=z,X},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(z){return{$$typeof:h,render:z}},Ve.isValidElement=L,Ve.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:_e}},Ve.memo=function(z,X){return{$$typeof:m,type:z,compare:X===void 0?null:X}},Ve.startTransition=function(z){var X=Y.transition;Y.transition={};try{z()}finally{Y.transition=X}},Ve.unstable_act=oe,Ve.useCallback=function(z,X){return fe.current.useCallback(z,X)},Ve.useContext=function(z){return fe.current.useContext(z)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(z){return fe.current.useDeferredValue(z)},Ve.useEffect=function(z,X){return fe.current.useEffect(z,X)},Ve.useId=function(){return fe.current.useId()},Ve.useImperativeHandle=function(z,X,pe){return fe.current.useImperativeHandle(z,X,pe)},Ve.useInsertionEffect=function(z,X){return fe.current.useInsertionEffect(z,X)},Ve.useLayoutEffect=function(z,X){return fe.current.useLayoutEffect(z,X)},Ve.useMemo=function(z,X){return fe.current.useMemo(z,X)},Ve.useReducer=function(z,X,pe){return fe.current.useReducer(z,X,pe)},Ve.useRef=function(z){return fe.current.useRef(z)},Ve.useState=function(z){return fe.current.useState(z)},Ve.useSyncExternalStore=function(z,X,pe){return fe.current.useSyncExternalStore(z,X,pe)},Ve.useTransition=function(){return fe.current.useTransition()},Ve.version="18.3.1",Ve}var uv;function Up(){return uv||(uv=1,Rf.exports=sx()),Rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function ox(){if(cv)return wl;cv=1;var n=Up(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,w={},I=null,R=null;m!==void 0&&(I=""+m),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(R=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:I,ref:R,props:w,_owner:o.current}}return wl.Fragment=t,wl.jsx=u,wl.jsxs=u,wl}var dv;function ax(){return dv||(dv=1,Cf.exports=ox()),Cf.exports}var S=ax(),Pc={},Af={exports:{}},ln={},Pf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function lx(){return hv||(hv=1,(function(n){function e(Y,ae){var oe=Y.length;Y.push(ae);e:for(;0<oe;){var z=oe-1>>>1,X=Y[z];if(0<o(X,ae))Y[z]=ae,Y[oe]=X,oe=z;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ae=Y[0],oe=Y.pop();if(oe!==ae){Y[0]=oe;e:for(var z=0,X=Y.length,pe=X>>>1;z<pe;){var xe=2*(z+1)-1,Ae=Y[xe],De=xe+1,ue=Y[De];if(0>o(Ae,oe))De<X&&0>o(ue,Ae)?(Y[z]=ue,Y[De]=oe,z=De):(Y[z]=Ae,Y[xe]=oe,z=xe);else if(De<X&&0>o(ue,oe))Y[z]=ue,Y[De]=oe,z=De;else break e}}return ae}function o(Y,ae){var oe=Y.sortIndex-ae.sortIndex;return oe!==0?oe:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,w=null,I=3,R=!1,b=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(Y){for(var ae=t(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=Y)i(m),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(m)}}function G(Y){if(x=!1,$(Y),!b)if(t(f)!==null)b=!0,_e(J);else{var ae=t(m);ae!==null&&fe(G,ae.startTime-Y)}}function J(Y,ae){b=!1,x&&(x=!1,j(P),P=-1),R=!0;var oe=I;try{for($(ae),w=t(f);w!==null&&(!(w.expirationTime>ae)||Y&&!F());){var z=w.callback;if(typeof z=="function"){w.callback=null,I=w.priorityLevel;var X=z(w.expirationTime<=ae);ae=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&i(f),$(ae)}else i(f);w=t(f)}if(w!==null)var pe=!0;else{var xe=t(m);xe!==null&&fe(G,xe.startTime-ae),pe=!1}return pe}finally{w=null,I=oe,R=!1}}var ie=!1,k=null,P=-1,N=5,L=-1;function F(){return!(n.unstable_now()-L<N)}function V(){if(k!==null){var Y=n.unstable_now();L=Y;var ae=!0;try{ae=k(!0,Y)}finally{ae?O():(ie=!1,k=null)}}else ie=!1}var O;if(typeof M=="function")O=function(){M(V)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Oe=ve.port2;ve.port1.onmessage=V,O=function(){Oe.postMessage(null)}}else O=function(){A(V,0)};function _e(Y){k=Y,ie||(ie=!0,O())}function fe(Y,ae){P=A(function(){Y(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){b||R||(b=!0,_e(J))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Y){switch(I){case 1:case 2:case 3:var ae=3;break;default:ae=I}var oe=I;I=ae;try{return Y()}finally{I=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=I;I=Y;try{return ae()}finally{I=oe}},n.unstable_scheduleCallback=function(Y,ae,oe){var z=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?z+oe:z):oe=z,Y){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,Y={id:v++,callback:ae,priorityLevel:Y,startTime:oe,expirationTime:X,sortIndex:-1},oe>z?(Y.sortIndex=oe,e(m,Y),t(f)===null&&Y===t(m)&&(x?(j(P),P=-1):x=!0,fe(G,oe-z))):(Y.sortIndex=X,e(f,Y),b||R||(b=!0,_e(J))),Y},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Y){var ae=I;return function(){var oe=I;I=ae;try{return Y.apply(this,arguments)}finally{I=oe}}}})(bf)),bf}var fv;function ux(){return fv||(fv=1,Pf.exports=lx()),Pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function cx(){if(pv)return ln;pv=1;var n=Up(),e=ux();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function I(r){return f.call(w,r)?!0:f.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function R(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,l,d){if(s===null||typeof s>"u"||R(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(r,s,l,d,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];A[s]=new x(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,M);A[s]=new x(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,M);A[s]=new x(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,M);A[s]=new x(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function $(r,s,l,d){var p=A.hasOwnProperty(s)?A[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,p,d)&&(l=null),d||p===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),ie=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,z;function X(r){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+r}var pe=!1;function xe(r,s){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var d=K}Reflect.construct(r,[],s)}else{try{s.call()}catch(K){d=K}r.call(s.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,D=y.length-1;1<=E&&0<=D&&p[E]!==y[D];)D--;for(;1<=E&&0<=D;E--,D--)if(p[E]!==y[D]){if(E!==1||D!==1)do if(E--,D--,0>D||p[E]!==y[D]){var U=`
`+p[E].replace(" at new "," at ");return r.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",r.displayName)),U}while(1<=E&&0<=D);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?X(r):""}function Ae(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=xe(r.type,!1),r;case 11:return r=xe(r.type.render,!1),r;case 1:return r=xe(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ie:return"Portal";case N:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case ve:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case L:return(r._context.displayName||"Context")+".Provider";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Oe:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case _e:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function we(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Le(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function be(r){var s=Le(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Be(r){r._valueTracker||(r._valueTracker=be(r))}function Qe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Le(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function dt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Qt(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ar(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=we(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Or(r,s){s=s.checked,s!=null&&$(r,"checked",s,!1)}function Dr(r,s){Or(r,s);var l=we(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?eo(r,s.type,l):s.hasOwnProperty("defaultValue")&&eo(r,s.type,we(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function pu(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function eo(r,s,l){(s!=="number"||dt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Lr=Array.isArray;function Mr(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+we(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Aa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function to(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Lr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:we(l)}}function no(r,s){var l=we(s.value),d=we(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Pa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function _t(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?_t(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vr,ba=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function fi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ls=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(r){ls.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),as[s]=as[r]})});function ka(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||as.hasOwnProperty(r)&&as[r]?(""+s).trim():s+"px"}function Na(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=ka(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var Oa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(r,s){if(s){if(Oa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function La(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function ro(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var io=null,En=null,lr=null;function so(r){if(r=sl(r)){if(typeof io!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Wu(s),io(r.stateNode,r.type,s))}}function ur(r){En?lr?lr.push(r):lr=[r]:En=r}function Ma(){if(En){var r=En,s=lr;if(lr=En=null,so(r),s)for(r=0;r<s.length;r++)so(s[r])}}function cs(r,s){return r(s)}function Va(){}var Fr=!1;function Fa(r,s,l){if(Fr)return r(s,l);Fr=!0;try{return cs(r,s,l)}finally{Fr=!1,(En!==null||lr!==null)&&(Va(),Ma())}}function ht(r,s){var l=r.stateNode;if(l===null)return null;var d=Wu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var oo=!1;if(h)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{oo=!1}function ds(r,s,l,d,p,y,E,D,U){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(ee){this.onError(ee)}}var hs=!1,ao=null,Mn=!1,ja=null,Zd={onError:function(r){hs=!0,ao=r}};function lo(r,s,l,d,p,y,E,D,U){hs=!1,ao=null,ds.apply(Zd,arguments)}function mu(r,s,l,d,p,y,E,D,U){if(lo.apply(this,arguments),hs){if(hs){var K=ao;hs=!1,ao=null}else throw Error(t(198));Mn||(Mn=!0,ja=K)}}function Vn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function fs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(r){if(Vn(r)!==r)throw Error(t(188))}function gu(r){var s=r.alternate;if(!s){if(s=Vn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Fn(p),r;if(y===d)return Fn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,D=p.child;D;){if(D===l){E=!0,l=p,d=y;break}if(D===d){E=!0,d=p,l=y;break}D=D.sibling}if(!E){for(D=y.child;D;){if(D===l){E=!0,l=y,d=p;break}if(D===d){E=!0,d=y,l=p;break}D=D.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Ua(r){return r=gu(r),r!==null?uo(r):null}function uo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=uo(r);if(s!==null)return s;r=r.sibling}return null}var co=e.unstable_scheduleCallback,Ba=e.unstable_cancelCallback,yu=e.unstable_shouldYield,eh=e.unstable_requestPaint,Xe=e.unstable_now,vu=e.unstable_getCurrentPriorityLevel,ps=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,za=e.unstable_LowPriority,_u=e.unstable_IdlePriority,ms=null,dn=null;function wu(r){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ms,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Tu,$a=Math.log,Eu=Math.LN2;function Tu(r){return r>>>=0,r===0?32:31-($a(r)/Eu|0)|0}var ho=64,fo=4194304;function mi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function gs(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var D=E&~p;D!==0?d=mi(D):(y&=E,y!==0&&(d=mi(y)))}else E=l&~p,E!==0?d=mi(E):y!==0&&(d=mi(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Yt(s),p=1<<l,d|=r[l],s&=~p;return d}function th(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Yt(y),D=1<<E,U=p[E];U===-1?((D&l)===0||(D&d)!==0)&&(p[E]=th(D,s)):U<=s&&(r.expiredLanes|=D),y&=~D}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ys(){var r=ho;return ho<<=1,(ho&4194240)===0&&(ho=64),r}function gi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function yi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Yt(s),r[s]=l}function Ye(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Yt(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function vi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Yt(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var je=0;function _i(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Su,po,Iu,xu,Cu,Wa=!1,cr=[],kt=null,jn=null,Un=null,wi=new Map,Sn=new Map,dr=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":wi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function en(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=sl(s),s!==null&&po(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function rh(r,s,l,d,p){switch(s){case"focusin":return kt=en(kt,r,s,l,d,p),!0;case"dragenter":return jn=en(jn,r,s,l,d,p),!0;case"mouseover":return Un=en(Un,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return wi.set(y,en(wi.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Sn.set(y,en(Sn.get(y)||null,r,s,l,d,p)),!0}return!1}function Au(r){var s=Ts(r.target);if(s!==null){var l=Vn(s);if(l!==null){if(s=l.tag,s===13){if(s=fs(l),s!==null){r.blockedOn=s,Cu(r.priority,function(){Iu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ur(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=mo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);us=d,l.target.dispatchEvent(d),us=null}else return s=sl(l),s!==null&&po(s),r.blockedOn=l,!1;s.shift()}return!0}function vs(r,s,l){Ur(r)&&l.delete(s)}function Pu(){Wa=!1,kt!==null&&Ur(kt)&&(kt=null),jn!==null&&Ur(jn)&&(jn=null),Un!==null&&Ur(Un)&&(Un=null),wi.forEach(vs),Sn.forEach(vs)}function Bn(r,s){r.blockedOn===s&&(r.blockedOn=null,Wa||(Wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pu)))}function zn(r){function s(p){return Bn(p,r)}if(0<cr.length){Bn(cr[0],r);for(var l=1;l<cr.length;l++){var d=cr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(kt!==null&&Bn(kt,r),jn!==null&&Bn(jn,r),Un!==null&&Bn(Un,r),wi.forEach(s),Sn.forEach(s),l=0;l<dr.length;l++)d=dr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)Au(l),l.blockedOn===null&&dr.shift()}var Br=G.ReactCurrentBatchConfig,Ei=!0;function nt(r,s,l,d){var p=je,y=Br.transition;Br.transition=null;try{je=1,Ha(r,s,l,d)}finally{je=p,Br.transition=y}}function ih(r,s,l,d){var p=je,y=Br.transition;Br.transition=null;try{je=4,Ha(r,s,l,d)}finally{je=p,Br.transition=y}}function Ha(r,s,l,d){if(Ei){var p=mo(r,s,l,d);if(p===null)mh(r,s,d,_s,l),Ru(r,d);else if(rh(p,r,s,l,d))d.stopPropagation();else if(Ru(r,d),s&4&&-1<nh.indexOf(r)){for(;p!==null;){var y=sl(p);if(y!==null&&Su(y),y=mo(r,s,l,d),y===null&&mh(r,s,d,_s,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else mh(r,s,d,null,l)}}var _s=null;function mo(r,s,l,d){if(_s=null,r=ro(d),r=Ts(r),r!==null)if(s=Vn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=fs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return _s=r,null}function qa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case ps:return 1;case pi:return 4;case Tn:case za:return 16;case _u:return 536870912;default:return 16}default:return 16}}var fn=null,go=null,tn=null;function Ka(){if(tn)return tn;var r,s=go,l=s.length,d,p="value"in fn?fn.value:fn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[y-d];d++);return tn=p.slice(r,1<d?1-d:void 0)}function yo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function hr(){return!0}function Ga(){return!1}function Nt(r){function s(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hr:Ga,this.isPropagationStopped=Ga,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),s}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=Nt($n),fr=oe({},$n,{view:0,detail:0}),sh=Nt(fr),_o,zr,Ti,ws=oe({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ti&&(Ti&&r.type==="mousemove"?(_o=r.screenX-Ti.screenX,zr=r.screenY-Ti.screenY):zr=_o=0,Ti=r),_o)},movementY:function(r){return"movementY"in r?r.movementY:zr}}),wo=Nt(ws),Qa=oe({},ws,{dataTransfer:0}),bu=Nt(Qa),Eo=oe({},fr,{relatedTarget:0}),To=Nt(Eo),ku=oe({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=Nt(ku),Nu=oe({},$n,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ou=Nt(Nu),Du=oe({},$n,{data:0}),Ya=Nt(Du),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Lu[r])?!!s[r]:!1}function pr(){return Mu}var c=oe({},fr,{key:function(r){if(r.key){var s=So[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(r){return r.type==="keypress"?yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Nt(c),_=oe({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Nt(_),W=oe({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),Q=Nt(W),le=oe({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Nt(le),Et=oe({},ws,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Nt(Et),Ct=[9,13,27,32],mt=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var pn=h&&"TextEvent"in window&&!In,Es=h&&(!mt||In&&8<In&&11>=In),Io=" ",ng=!1;function rg(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ig(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var xo=!1;function tI(r,s){switch(r){case"compositionend":return ig(s);case"keypress":return s.which!==32?null:(ng=!0,Io);case"textInput":return r=s.data,r===Io&&ng?null:r;default:return null}}function nI(r,s){if(xo)return r==="compositionend"||!mt&&rg(r,s)?(r=Ka(),tn=go=fn=null,xo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Es&&s.locale!=="ko"?null:s.data;default:return null}}var rI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rI[r.type]:s==="textarea"}function og(r,s,l,d){ur(d),s=Bu(s,"onChange"),0<s.length&&(l=new vo("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Xa=null,Ja=null;function iI(r){Ig(r,0)}function Vu(r){var s=bo(r);if(Qe(s))return r}function sI(r,s){if(r==="change")return s}var ag=!1;if(h){var oh;if(h){var ah="oninput"in document;if(!ah){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),ah=typeof lg.oninput=="function"}oh=ah}else oh=!1;ag=oh&&(!document.documentMode||9<document.documentMode)}function ug(){Xa&&(Xa.detachEvent("onpropertychange",cg),Ja=Xa=null)}function cg(r){if(r.propertyName==="value"&&Vu(Ja)){var s=[];og(s,Ja,r,ro(r)),Fa(iI,s)}}function oI(r,s,l){r==="focusin"?(ug(),Xa=s,Ja=l,Xa.attachEvent("onpropertychange",cg)):r==="focusout"&&ug()}function aI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vu(Ja)}function lI(r,s){if(r==="click")return Vu(s)}function uI(r,s){if(r==="input"||r==="change")return Vu(s)}function cI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Wn=typeof Object.is=="function"?Object.is:cI;function Za(r,s){if(Wn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Wn(r[p],s[p]))return!1}return!0}function dg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hg(r,s){var l=dg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dg(l)}}function fg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?fg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function pg(){for(var r=window,s=dt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=dt(r.document)}return s}function lh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function dI(r){var s=pg(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&fg(l.ownerDocument.documentElement,l)){if(d!==null&&lh(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=hg(l,y);var E=hg(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var hI=h&&"documentMode"in document&&11>=document.documentMode,Co=null,uh=null,el=null,ch=!1;function mg(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ch||Co==null||Co!==dt(d)||(d=Co,"selectionStart"in d&&lh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),el&&Za(el,d)||(el=d,d=Bu(uh,"onSelect"),0<d.length&&(s=new vo("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Co)))}function Fu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Ro={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},dh={},gg={};h&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function ju(r){if(dh[r])return dh[r];if(!Ro[r])return r;var s=Ro[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in gg)return dh[r]=s[l];return r}var yg=ju("animationend"),vg=ju("animationiteration"),_g=ju("animationstart"),wg=ju("transitionend"),Eg=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(r,s){Eg.set(r,s),a(s,[r])}for(var hh=0;hh<Tg.length;hh++){var fh=Tg[hh],fI=fh.toLowerCase(),pI=fh[0].toUpperCase()+fh.slice(1);Si(fI,"on"+pI)}Si(yg,"onAnimationEnd"),Si(vg,"onAnimationIteration"),Si(_g,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(wg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function Sg(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,mu(d,s,void 0,r),r.currentTarget=null}function Ig(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var D=d[E],U=D.instance,K=D.currentTarget;if(D=D.listener,U!==y&&p.isPropagationStopped())break e;Sg(p,D,K),y=U}else for(E=0;E<d.length;E++){if(D=d[E],U=D.instance,K=D.currentTarget,D=D.listener,U!==y&&p.isPropagationStopped())break e;Sg(p,D,K),y=U}}}if(Mn)throw r=ja,Mn=!1,ja=null,r}function Ze(r,s){var l=s[Eh];l===void 0&&(l=s[Eh]=new Set);var d=r+"__bubble";l.has(d)||(xg(s,r,2,!1),l.add(d))}function ph(r,s,l){var d=0;s&&(d|=4),xg(l,r,d,s)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function nl(r){if(!r[Uu]){r[Uu]=!0,i.forEach(function(l){l!=="selectionchange"&&(mI.has(l)||ph(l,!1,r),ph(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Uu]||(s[Uu]=!0,ph("selectionchange",!1,s))}}function xg(r,s,l,d){switch(qa(s)){case 1:var p=nt;break;case 4:p=ih;break;default:p=Ha}l=p.bind(null,s,l,r),p=void 0,!oo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function mh(r,s,l,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var D=d.stateNode.containerInfo;if(D===p||D.nodeType===8&&D.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var U=E.tag;if((U===3||U===4)&&(U=E.stateNode.containerInfo,U===p||U.nodeType===8&&U.parentNode===p))return;E=E.return}for(;D!==null;){if(E=Ts(D),E===null)return;if(U=E.tag,U===5||U===6){d=y=E;continue e}D=D.parentNode}}d=d.return}Fa(function(){var K=y,ee=ro(l),ne=[];e:{var Z=Eg.get(r);if(Z!==void 0){var ce=vo,he=r;switch(r){case"keypress":if(yo(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":he="focus",ce=To;break;case"focusout":he="blur",ce=To;break;case"beforeblur":case"afterblur":ce=To;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case yg:case vg:case _g:ce=$r;break;case wg:ce=Ke;break;case"scroll":ce=sh;break;case"wheel":ce=ze;break;case"copy":case"cut":case"paste":ce=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=C}var me=(s&4)!==0,ft=!me&&r==="scroll",H=me?Z!==null?Z+"Capture":null:Z;me=[];for(var B=K,q;B!==null;){q=B;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=ht(B,H),se!=null&&me.push(rl(B,se,q)))),ft)break;B=B.return}0<me.length&&(Z=new ce(Z,he,null,l,ee),ne.push({event:Z,listeners:me}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",Z&&l!==us&&(he=l.relatedTarget||l.fromElement)&&(Ts(he)||he[Wr]))break e;if((ce||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(he=l.relatedTarget||l.toElement,ce=K,he=he?Ts(he):null,he!==null&&(ft=Vn(he),he!==ft||he.tag!==5&&he.tag!==6)&&(he=null)):(ce=null,he=K),ce!==he)){if(me=wo,se="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(me=C,se="onPointerLeave",H="onPointerEnter",B="pointer"),ft=ce==null?Z:bo(ce),q=he==null?Z:bo(he),Z=new me(se,B+"leave",ce,l,ee),Z.target=ft,Z.relatedTarget=q,se=null,Ts(ee)===K&&(me=new me(H,B+"enter",he,l,ee),me.target=q,me.relatedTarget=ft,se=me),ft=se,ce&&he)t:{for(me=ce,H=he,B=0,q=me;q;q=Ao(q))B++;for(q=0,se=H;se;se=Ao(se))q++;for(;0<B-q;)me=Ao(me),B--;for(;0<q-B;)H=Ao(H),q--;for(;B--;){if(me===H||H!==null&&me===H.alternate)break t;me=Ao(me),H=Ao(H)}me=null}else me=null;ce!==null&&Cg(ne,Z,ce,me,!1),he!==null&&ft!==null&&Cg(ne,ft,he,me,!0)}}e:{if(Z=K?bo(K):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ye=sI;else if(sg(Z))if(ag)ye=uI;else{ye=aI;var Ee=oI}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=lI);if(ye&&(ye=ye(r,K))){og(ne,ye,l,ee);break e}Ee&&Ee(r,Z,K),r==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&eo(Z,"number",Z.value)}switch(Ee=K?bo(K):window,r){case"focusin":(sg(Ee)||Ee.contentEditable==="true")&&(Co=Ee,uh=K,el=null);break;case"focusout":el=uh=Co=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,mg(ne,l,ee);break;case"selectionchange":if(hI)break;case"keydown":case"keyup":mg(ne,l,ee)}var Te;if(mt)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else xo?rg(r,l)&&(Re="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Es&&l.locale!=="ko"&&(xo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&xo&&(Te=Ka()):(fn=ee,go="value"in fn?fn.value:fn.textContent,xo=!0)),Ee=Bu(K,Re),0<Ee.length&&(Re=new Ya(Re,r,null,l,ee),ne.push({event:Re,listeners:Ee}),Te?Re.data=Te:(Te=ig(l),Te!==null&&(Re.data=Te)))),(Te=pn?tI(r,l):nI(r,l))&&(K=Bu(K,"onBeforeInput"),0<K.length&&(ee=new Ya("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ee,listeners:K}),ee.data=Te))}Ig(ne,s)})}function rl(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Bu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ht(r,l),y!=null&&d.unshift(rl(r,y,p)),y=ht(r,s),y!=null&&d.push(rl(r,y,p))),r=r.return}return d}function Ao(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Cg(r,s,l,d,p){for(var y=s._reactName,E=[];l!==null&&l!==d;){var D=l,U=D.alternate,K=D.stateNode;if(U!==null&&U===d)break;D.tag===5&&K!==null&&(D=K,p?(U=ht(l,y),U!=null&&E.unshift(rl(l,U,D))):p||(U=ht(l,y),U!=null&&E.push(rl(l,U,D)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var gI=/\r\n?/g,yI=/\u0000|\uFFFD/g;function Rg(r){return(typeof r=="string"?r:""+r).replace(gI,`
`).replace(yI,"")}function zu(r,s,l){if(s=Rg(s),Rg(r)!==s&&l)throw Error(t(425))}function $u(){}var gh=null,yh=null;function vh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,vI=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,_I=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(r){return Ag.resolve(null).then(r).catch(wI)}:_h;function wI(r){setTimeout(function(){throw r})}function wh(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),zn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);zn(s)}function Ii(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Pg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Po=Math.random().toString(36).slice(2),mr="__reactFiber$"+Po,il="__reactProps$"+Po,Wr="__reactContainer$"+Po,Eh="__reactEvents$"+Po,EI="__reactListeners$"+Po,TI="__reactHandles$"+Po;function Ts(r){var s=r[mr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Wr]||l[mr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Pg(r);r!==null;){if(l=r[mr])return l;r=Pg(r)}return s}r=l,l=r.parentNode}return null}function sl(r){return r=r[mr]||r[Wr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function bo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Wu(r){return r[il]||null}var Th=[],ko=-1;function xi(r){return{current:r}}function et(r){0>ko||(r.current=Th[ko],Th[ko]=null,ko--)}function Je(r,s){ko++,Th[ko]=r.current,r.current=s}var Ci={},Bt=xi(Ci),nn=xi(!1),Ss=Ci;function No(r,s){var l=r.type.contextTypes;if(!l)return Ci;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function rn(r){return r=r.childContextTypes,r!=null}function Hu(){et(nn),et(Bt)}function bg(r,s,l){if(Bt.current!==Ci)throw Error(t(168));Je(Bt,s),Je(nn,l)}function kg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ue(r)||"Unknown",p));return oe({},l,d)}function qu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ci,Ss=Bt.current,Je(Bt,r),Je(nn,nn.current),!0}function Ng(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=kg(r,s,Ss),d.__reactInternalMemoizedMergedChildContext=r,et(nn),et(Bt),Je(Bt,r)):et(nn),Je(nn,l)}var Hr=null,Ku=!1,Sh=!1;function Og(r){Hr===null?Hr=[r]:Hr.push(r)}function SI(r){Ku=!0,Og(r)}function Ri(){if(!Sh&&Hr!==null){Sh=!0;var r=0,s=je;try{var l=Hr;for(je=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Hr=null,Ku=!1}catch(p){throw Hr!==null&&(Hr=Hr.slice(r+1)),co(ps,Ri),p}finally{je=s,Sh=!1}}return null}var Oo=[],Do=0,Gu=null,Qu=0,xn=[],Cn=0,Is=null,qr=1,Kr="";function xs(r,s){Oo[Do++]=Qu,Oo[Do++]=Gu,Gu=r,Qu=s}function Dg(r,s,l){xn[Cn++]=qr,xn[Cn++]=Kr,xn[Cn++]=Is,Is=r;var d=qr;r=Kr;var p=32-Yt(d)-1;d&=~(1<<p),l+=1;var y=32-Yt(s)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,qr=1<<32-Yt(s)+p|l<<p|d,Kr=y+r}else qr=1<<y|l<<p|d,Kr=r}function Ih(r){r.return!==null&&(xs(r,1),Dg(r,1,0))}function xh(r){for(;r===Gu;)Gu=Oo[--Do],Oo[Do]=null,Qu=Oo[--Do],Oo[Do]=null;for(;r===Is;)Is=xn[--Cn],xn[Cn]=null,Kr=xn[--Cn],xn[Cn]=null,qr=xn[--Cn],xn[Cn]=null}var mn=null,gn=null,rt=!1,Hn=null;function Lg(r,s){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Mg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mn=r,gn=Ii(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mn=r,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Is!==null?{id:qr,overflow:Kr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,mn=r,gn=null,!0):!1;default:return!1}}function Ch(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Rh(r){if(rt){var s=gn;if(s){var l=s;if(!Mg(r,s)){if(Ch(r))throw Error(t(418));s=Ii(l.nextSibling);var d=mn;s&&Mg(r,s)?Lg(d,l):(r.flags=r.flags&-4097|2,rt=!1,mn=r)}}else{if(Ch(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,mn=r}}}function Vg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mn=r}function Yu(r){if(r!==mn)return!1;if(!rt)return Vg(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!vh(r.type,r.memoizedProps)),s&&(s=gn)){if(Ch(r))throw Fg(),Error(t(418));for(;s;)Lg(r,s),s=Ii(s.nextSibling)}if(Vg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){gn=Ii(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}gn=null}}else gn=mn?Ii(r.stateNode.nextSibling):null;return!0}function Fg(){for(var r=gn;r;)r=Ii(r.nextSibling)}function Lo(){gn=mn=null,rt=!1}function Ah(r){Hn===null?Hn=[r]:Hn.push(r)}var II=G.ReactCurrentBatchConfig;function ol(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var D=p.refs;E===null?delete D[y]:D[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Xu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function jg(r){var s=r._init;return s(r._payload)}function Ug(r){function s(H,B){if(r){var q=H.deletions;q===null?(H.deletions=[B],H.flags|=16):q.push(B)}}function l(H,B){if(!r)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function d(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function p(H,B){return H=Li(H,B),H.index=0,H.sibling=null,H}function y(H,B,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<B?(H.flags|=2,B):q):(H.flags|=2,B)):(H.flags|=1048576,B)}function E(H){return r&&H.alternate===null&&(H.flags|=2),H}function D(H,B,q,se){return B===null||B.tag!==6?(B=wf(q,H.mode,se),B.return=H,B):(B=p(B,q),B.return=H,B)}function U(H,B,q,se){var ye=q.type;return ye===k?ee(H,B,q.props.children,se,q.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===_e&&jg(ye)===B.type)?(se=p(B,q.props),se.ref=ol(H,B,q),se.return=H,se):(se=Ec(q.type,q.key,q.props,null,H.mode,se),se.ref=ol(H,B,q),se.return=H,se)}function K(H,B,q,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=Ef(q,H.mode,se),B.return=H,B):(B=p(B,q.children||[]),B.return=H,B)}function ee(H,B,q,se,ye){return B===null||B.tag!==7?(B=Os(q,H.mode,se,ye),B.return=H,B):(B=p(B,q),B.return=H,B)}function ne(H,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=wf(""+B,H.mode,q),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case J:return q=Ec(B.type,B.key,B.props,null,H.mode,q),q.ref=ol(H,null,B),q.return=H,q;case ie:return B=Ef(B,H.mode,q),B.return=H,B;case _e:var se=B._init;return ne(H,se(B._payload),q)}if(Lr(B)||ae(B))return B=Os(B,H.mode,q,null),B.return=H,B;Xu(H,B)}return null}function Z(H,B,q,se){var ye=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ye!==null?null:D(H,B,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case J:return q.key===ye?U(H,B,q,se):null;case ie:return q.key===ye?K(H,B,q,se):null;case _e:return ye=q._init,Z(H,B,ye(q._payload),se)}if(Lr(q)||ae(q))return ye!==null?null:ee(H,B,q,se,null);Xu(H,q)}return null}function ce(H,B,q,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,D(B,H,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case J:return H=H.get(se.key===null?q:se.key)||null,U(B,H,se,ye);case ie:return H=H.get(se.key===null?q:se.key)||null,K(B,H,se,ye);case _e:var Ee=se._init;return ce(H,B,q,Ee(se._payload),ye)}if(Lr(se)||ae(se))return H=H.get(q)||null,ee(B,H,se,ye,null);Xu(B,se)}return null}function he(H,B,q,se){for(var ye=null,Ee=null,Te=B,Re=B=0,Pt=null;Te!==null&&Re<q.length;Re++){Te.index>Re?(Pt=Te,Te=null):Pt=Te.sibling;var He=Z(H,Te,q[Re],se);if(He===null){Te===null&&(Te=Pt);break}r&&Te&&He.alternate===null&&s(H,Te),B=y(He,B,Re),Ee===null?ye=He:Ee.sibling=He,Ee=He,Te=Pt}if(Re===q.length)return l(H,Te),rt&&xs(H,Re),ye;if(Te===null){for(;Re<q.length;Re++)Te=ne(H,q[Re],se),Te!==null&&(B=y(Te,B,Re),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return rt&&xs(H,Re),ye}for(Te=d(H,Te);Re<q.length;Re++)Pt=ce(Te,H,Re,q[Re],se),Pt!==null&&(r&&Pt.alternate!==null&&Te.delete(Pt.key===null?Re:Pt.key),B=y(Pt,B,Re),Ee===null?ye=Pt:Ee.sibling=Pt,Ee=Pt);return r&&Te.forEach(function(Mi){return s(H,Mi)}),rt&&xs(H,Re),ye}function me(H,B,q,se){var ye=ae(q);if(typeof ye!="function")throw Error(t(150));if(q=ye.call(q),q==null)throw Error(t(151));for(var Ee=ye=null,Te=B,Re=B=0,Pt=null,He=q.next();Te!==null&&!He.done;Re++,He=q.next()){Te.index>Re?(Pt=Te,Te=null):Pt=Te.sibling;var Mi=Z(H,Te,He.value,se);if(Mi===null){Te===null&&(Te=Pt);break}r&&Te&&Mi.alternate===null&&s(H,Te),B=y(Mi,B,Re),Ee===null?ye=Mi:Ee.sibling=Mi,Ee=Mi,Te=Pt}if(He.done)return l(H,Te),rt&&xs(H,Re),ye;if(Te===null){for(;!He.done;Re++,He=q.next())He=ne(H,He.value,se),He!==null&&(B=y(He,B,Re),Ee===null?ye=He:Ee.sibling=He,Ee=He);return rt&&xs(H,Re),ye}for(Te=d(H,Te);!He.done;Re++,He=q.next())He=ce(Te,H,Re,He.value,se),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?Re:He.key),B=y(He,B,Re),Ee===null?ye=He:Ee.sibling=He,Ee=He);return r&&Te.forEach(function(rx){return s(H,rx)}),rt&&xs(H,Re),ye}function ft(H,B,q,se){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case J:e:{for(var ye=q.key,Ee=B;Ee!==null;){if(Ee.key===ye){if(ye=q.type,ye===k){if(Ee.tag===7){l(H,Ee.sibling),B=p(Ee,q.props.children),B.return=H,H=B;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===_e&&jg(ye)===Ee.type){l(H,Ee.sibling),B=p(Ee,q.props),B.ref=ol(H,Ee,q),B.return=H,H=B;break e}l(H,Ee);break}else s(H,Ee);Ee=Ee.sibling}q.type===k?(B=Os(q.props.children,H.mode,se,q.key),B.return=H,H=B):(se=Ec(q.type,q.key,q.props,null,H.mode,se),se.ref=ol(H,B,q),se.return=H,H=se)}return E(H);case ie:e:{for(Ee=q.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){l(H,B.sibling),B=p(B,q.children||[]),B.return=H,H=B;break e}else{l(H,B);break}else s(H,B);B=B.sibling}B=Ef(q,H.mode,se),B.return=H,H=B}return E(H);case _e:return Ee=q._init,ft(H,B,Ee(q._payload),se)}if(Lr(q))return he(H,B,q,se);if(ae(q))return me(H,B,q,se);Xu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(l(H,B.sibling),B=p(B,q),B.return=H,H=B):(l(H,B),B=wf(q,H.mode,se),B.return=H,H=B),E(H)):l(H,B)}return ft}var Mo=Ug(!0),Bg=Ug(!1),Ju=xi(null),Zu=null,Vo=null,Ph=null;function bh(){Ph=Vo=Zu=null}function kh(r){var s=Ju.current;et(Ju),r._currentValue=s}function Nh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Fo(r,s){Zu=r,Ph=Vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(sn=!0),r.firstContext=null)}function Rn(r){var s=r._currentValue;if(Ph!==r)if(r={context:r,memoizedValue:s,next:null},Vo===null){if(Zu===null)throw Error(t(308));Vo=r,Zu.dependencies={lanes:0,firstContext:r}}else Vo=Vo.next=r;return s}var Cs=null;function Oh(r){Cs===null?Cs=[r]:Cs.push(r)}function zg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Oh(s)):(l.next=p.next,p.next=l),s.interleaved=l,Gr(r,d)}function Gr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ai=!1;function Dh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $g(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Pi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Gr(r,l)}return p=d.interleaved,p===null?(s.next=s,Oh(d)):(s.next=p.next,p.next=s),d.interleaved=s,Gr(r,l)}function ec(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,vi(r,l)}}function Wg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function tc(r,s,l,d){var p=r.updateQueue;Ai=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var U=D,K=U.next;U.next=null,E===null?y=K:E.next=K,E=U;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,D=ee.lastBaseUpdate,D!==E&&(D===null?ee.firstBaseUpdate=K:D.next=K,ee.lastBaseUpdate=U))}if(y!==null){var ne=p.baseState;E=0,ee=K=U=null,D=y;do{var Z=D.lane,ce=D.eventTime;if((d&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var he=r,me=D;switch(Z=s,ce=l,me.tag){case 1:if(he=me.payload,typeof he=="function"){ne=he.call(ce,ne,Z);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=me.payload,Z=typeof he=="function"?he.call(ce,ne,Z):he,Z==null)break e;ne=oe({},ne,Z);break e;case 2:Ai=!0}}D.callback!==null&&D.lane!==0&&(r.flags|=64,Z=p.effects,Z===null?p.effects=[D]:Z.push(D))}else ce={eventTime:ce,lane:Z,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ee===null?(K=ee=ce,U=ne):ee=ee.next=ce,E|=Z;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;Z=D,D=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(ee===null&&(U=ne),p.baseState=U,p.firstBaseUpdate=K,p.lastBaseUpdate=ee,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ps|=E,r.lanes=E,r.memoizedState=ne}}function Hg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var al={},gr=xi(al),ll=xi(al),ul=xi(al);function Rs(r){if(r===al)throw Error(t(174));return r}function Lh(r,s){switch(Je(ul,s),Je(ll,r),Je(gr,al),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=wt(s,r)}et(gr),Je(gr,s)}function jo(){et(gr),et(ll),et(ul)}function qg(r){Rs(ul.current);var s=Rs(gr.current),l=wt(s,r.type);s!==l&&(Je(ll,r),Je(gr,l))}function Mh(r){ll.current===r&&(et(gr),et(ll))}var st=xi(0);function nc(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vh=[];function Fh(){for(var r=0;r<Vh.length;r++)Vh[r]._workInProgressVersionPrimary=null;Vh.length=0}var rc=G.ReactCurrentDispatcher,jh=G.ReactCurrentBatchConfig,As=0,ot=null,Tt=null,Rt=null,ic=!1,cl=!1,dl=0,xI=0;function zt(){throw Error(t(321))}function Uh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Wn(r[l],s[l]))return!1;return!0}function Bh(r,s,l,d,p,y){if(As=y,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,rc.current=r===null||r.memoizedState===null?PI:bI,r=l(d,p),cl){y=0;do{if(cl=!1,dl=0,25<=y)throw Error(t(301));y+=1,Rt=Tt=null,s.updateQueue=null,rc.current=kI,r=l(d,p)}while(cl)}if(rc.current=ac,s=Tt!==null&&Tt.next!==null,As=0,Rt=Tt=ot=null,ic=!1,s)throw Error(t(300));return r}function zh(){var r=dl!==0;return dl=0,r}function yr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ot.memoizedState=Rt=r:Rt=Rt.next=r,Rt}function An(){if(Tt===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=Tt.next;var s=Rt===null?ot.memoizedState:Rt.next;if(s!==null)Rt=s,Tt=r;else{if(r===null)throw Error(t(310));Tt=r,r={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?ot.memoizedState=Rt=r:Rt=Rt.next=r}return Rt}function hl(r,s){return typeof s=="function"?s(r):s}function $h(r){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Tt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var D=E=null,U=null,K=y;do{var ee=K.lane;if((As&ee)===ee)U!==null&&(U=U.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var ne={lane:ee,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};U===null?(D=U=ne,E=d):U=U.next=ne,ot.lanes|=ee,Ps|=ee}K=K.next}while(K!==null&&K!==y);U===null?E=d:U.next=D,Wn(d,s.memoizedState)||(sn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=U,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,ot.lanes|=y,Ps|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Wh(r){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);Wn(y,s.memoizedState)||(sn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Kg(){}function Gg(r,s){var l=ot,d=An(),p=s(),y=!Wn(d.memoizedState,p);if(y&&(d.memoizedState=p,sn=!0),d=d.queue,Hh(Xg.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,fl(9,Yg.bind(null,l,d,p,s),void 0,null),At===null)throw Error(t(349));(As&30)!==0||Qg(l,s,p)}return p}function Qg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Yg(r,s,l,d){s.value=l,s.getSnapshot=d,Jg(s)&&Zg(r)}function Xg(r,s,l){return l(function(){Jg(s)&&Zg(r)})}function Jg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Wn(r,l)}catch{return!0}}function Zg(r){var s=Gr(r,1);s!==null&&Qn(s,r,1,-1)}function ey(r){var s=yr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:r},s.queue=r,r=r.dispatch=AI.bind(null,ot,r),[s.memoizedState,r]}function fl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function ty(){return An().memoizedState}function sc(r,s,l,d){var p=yr();ot.flags|=r,p.memoizedState=fl(1|s,l,void 0,d===void 0?null:d)}function oc(r,s,l,d){var p=An();d=d===void 0?null:d;var y=void 0;if(Tt!==null){var E=Tt.memoizedState;if(y=E.destroy,d!==null&&Uh(d,E.deps)){p.memoizedState=fl(s,l,y,d);return}}ot.flags|=r,p.memoizedState=fl(1|s,l,y,d)}function ny(r,s){return sc(8390656,8,r,s)}function Hh(r,s){return oc(2048,8,r,s)}function ry(r,s){return oc(4,2,r,s)}function iy(r,s){return oc(4,4,r,s)}function sy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function oy(r,s,l){return l=l!=null?l.concat([r]):null,oc(4,4,sy.bind(null,s,r),l)}function qh(){}function ay(r,s){var l=An();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Uh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function ly(r,s){var l=An();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Uh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function uy(r,s,l){return(As&21)===0?(r.baseState&&(r.baseState=!1,sn=!0),r.memoizedState=l):(Wn(l,s)||(l=ys(),ot.lanes|=l,Ps|=l,r.baseState=!0),s)}function CI(r,s){var l=je;je=l!==0&&4>l?l:4,r(!0);var d=jh.transition;jh.transition={};try{r(!1),s()}finally{je=l,jh.transition=d}}function cy(){return An().memoizedState}function RI(r,s,l){var d=Oi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},dy(r))hy(s,l);else if(l=zg(r,s,l,d),l!==null){var p=Zt();Qn(l,r,d,p),fy(l,s,d)}}function AI(r,s,l){var d=Oi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(dy(r))hy(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,D=y(E,l);if(p.hasEagerState=!0,p.eagerState=D,Wn(D,E)){var U=s.interleaved;U===null?(p.next=p,Oh(s)):(p.next=U.next,U.next=p),s.interleaved=p;return}}catch{}finally{}l=zg(r,s,p,d),l!==null&&(p=Zt(),Qn(l,r,d,p),fy(l,s,d))}}function dy(r){var s=r.alternate;return r===ot||s!==null&&s===ot}function hy(r,s){cl=ic=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function fy(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,vi(r,l)}}var ac={readContext:Rn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},PI={readContext:Rn,useCallback:function(r,s){return yr().memoizedState=[r,s===void 0?null:s],r},useContext:Rn,useEffect:ny,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,sc(4194308,4,sy.bind(null,s,r),l)},useLayoutEffect:function(r,s){return sc(4194308,4,r,s)},useInsertionEffect:function(r,s){return sc(4,2,r,s)},useMemo:function(r,s){var l=yr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=yr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=RI.bind(null,ot,r),[d.memoizedState,r]},useRef:function(r){var s=yr();return r={current:r},s.memoizedState=r},useState:ey,useDebugValue:qh,useDeferredValue:function(r){return yr().memoizedState=r},useTransition:function(){var r=ey(!1),s=r[0];return r=CI.bind(null,r[1]),yr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=ot,p=yr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),At===null)throw Error(t(349));(As&30)!==0||Qg(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,ny(Xg.bind(null,d,y,r),[r]),d.flags|=2048,fl(9,Yg.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=yr(),s=At.identifierPrefix;if(rt){var l=Kr,d=qr;l=(d&~(1<<32-Yt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=dl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=xI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},bI={readContext:Rn,useCallback:ay,useContext:Rn,useEffect:Hh,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:$h,useRef:ty,useState:function(){return $h(hl)},useDebugValue:qh,useDeferredValue:function(r){var s=An();return uy(s,Tt.memoizedState,r)},useTransition:function(){var r=$h(hl)[0],s=An().memoizedState;return[r,s]},useMutableSource:Kg,useSyncExternalStore:Gg,useId:cy,unstable_isNewReconciler:!1},kI={readContext:Rn,useCallback:ay,useContext:Rn,useEffect:Hh,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:Wh,useRef:ty,useState:function(){return Wh(hl)},useDebugValue:qh,useDeferredValue:function(r){var s=An();return Tt===null?s.memoizedState=r:uy(s,Tt.memoizedState,r)},useTransition:function(){var r=Wh(hl)[0],s=An().memoizedState;return[r,s]},useMutableSource:Kg,useSyncExternalStore:Gg,useId:cy,unstable_isNewReconciler:!1};function qn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Kh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var lc={isMounted:function(r){return(r=r._reactInternals)?Vn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Zt(),p=Oi(r),y=Qr(d,p);y.payload=s,l!=null&&(y.callback=l),s=Pi(r,y,p),s!==null&&(Qn(s,r,p,d),ec(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Zt(),p=Oi(r),y=Qr(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Pi(r,y,p),s!==null&&(Qn(s,r,p,d),ec(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Zt(),d=Oi(r),p=Qr(l,d);p.tag=2,s!=null&&(p.callback=s),s=Pi(r,p,d),s!==null&&(Qn(s,r,d,l),ec(s,r,d))}};function py(r,s,l,d,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!Za(l,d)||!Za(p,y):!0}function my(r,s,l){var d=!1,p=Ci,y=s.contextType;return typeof y=="object"&&y!==null?y=Rn(y):(p=rn(s)?Ss:Bt.current,d=s.contextTypes,y=(d=d!=null)?No(r,p):Ci),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=lc,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function gy(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&lc.enqueueReplaceState(s,s.state,null)}function Gh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Dh(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Rn(y):(y=rn(s)?Ss:Bt.current,p.context=No(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Kh(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&lc.enqueueReplaceState(p,p.state,null),tc(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Uo(r,s){try{var l="",d=s;do l+=Ae(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Qh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Yh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var NI=typeof WeakMap=="function"?WeakMap:Map;function yy(r,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){mc||(mc=!0,hf=d),Yh(r,s)},l}function vy(r,s,l){l=Qr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Yh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Yh(r,s),typeof d!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function _y(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new NI;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=qI.bind(null,r,s,l),s.then(r,r))}function wy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ey(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,Pi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var OI=G.ReactCurrentOwner,sn=!1;function Jt(r,s,l,d){s.child=r===null?Bg(s,null,l,d):Mo(s,r.child,l,d)}function Ty(r,s,l,d,p){l=l.render;var y=s.ref;return Fo(s,p),d=Bh(r,s,l,d,y,p),l=zh(),r!==null&&!sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Yr(r,s,p)):(rt&&l&&Ih(s),s.flags|=1,Jt(r,s,d,p),s.child)}function Sy(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!_f(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Iy(r,s,y,d,p)):(r=Ec(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Za,l(E,d)&&r.ref===s.ref)return Yr(r,s,p)}return s.flags|=1,r=Li(y,d),r.ref=s.ref,r.return=s,s.child=r}function Iy(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(Za(y,d)&&r.ref===s.ref)if(sn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(sn=!0);else return s.lanes=r.lanes,Yr(r,s,p)}return Xh(r,s,l,d,p)}function xy(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(zo,yn),yn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(zo,yn),yn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Je(zo,yn),yn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,Je(zo,yn),yn|=d;return Jt(r,s,p,l),s.child}function Cy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Xh(r,s,l,d,p){var y=rn(l)?Ss:Bt.current;return y=No(s,y),Fo(s,p),l=Bh(r,s,l,d,y,p),d=zh(),r!==null&&!sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Yr(r,s,p)):(rt&&d&&Ih(s),s.flags|=1,Jt(r,s,l,p),s.child)}function Ry(r,s,l,d,p){if(rn(l)){var y=!0;qu(s)}else y=!1;if(Fo(s,p),s.stateNode===null)cc(r,s),my(s,l,d),Gh(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,D=s.memoizedProps;E.props=D;var U=E.context,K=l.contextType;typeof K=="object"&&K!==null?K=Rn(K):(K=rn(l)?Ss:Bt.current,K=No(s,K));var ee=l.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==d||U!==K)&&gy(s,E,d,K),Ai=!1;var Z=s.memoizedState;E.state=Z,tc(s,d,E,p),U=s.memoizedState,D!==d||Z!==U||nn.current||Ai?(typeof ee=="function"&&(Kh(s,l,ee,d),U=s.memoizedState),(D=Ai||py(s,l,D,d,Z,U,K))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=U),E.props=d,E.state=U,E.context=K,d=D):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,$g(r,s),D=s.memoizedProps,K=s.type===s.elementType?D:qn(s.type,D),E.props=K,ne=s.pendingProps,Z=E.context,U=l.contextType,typeof U=="object"&&U!==null?U=Rn(U):(U=rn(l)?Ss:Bt.current,U=No(s,U));var ce=l.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==ne||Z!==U)&&gy(s,E,d,U),Ai=!1,Z=s.memoizedState,E.state=Z,tc(s,d,E,p);var he=s.memoizedState;D!==ne||Z!==he||nn.current||Ai?(typeof ce=="function"&&(Kh(s,l,ce,d),he=s.memoizedState),(K=Ai||py(s,l,K,d,Z,he,U)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,he,U),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,he,U)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=he),E.props=d,E.state=he,E.context=U,d=K):(typeof E.componentDidUpdate!="function"||D===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),d=!1)}return Jh(r,s,l,d,y,p)}function Jh(r,s,l,d,p,y){Cy(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&Ng(s,l,!1),Yr(r,s,y);d=s.stateNode,OI.current=s;var D=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=Mo(s,r.child,null,y),s.child=Mo(s,null,D,y)):Jt(r,s,D,y),s.memoizedState=d.state,p&&Ng(s,l,!0),s.child}function Ay(r){var s=r.stateNode;s.pendingContext?bg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&bg(r,s.context,!1),Lh(r,s.containerInfo)}function Py(r,s,l,d,p){return Lo(),Ah(p),s.flags|=256,Jt(r,s,l,d),s.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function ef(r){return{baseLanes:r,cachePool:null,transitions:null}}function by(r,s,l){var d=s.pendingProps,p=st.current,y=!1,E=(s.flags&128)!==0,D;if((D=E)||(D=r!==null&&r.memoizedState===null?!1:(p&2)!==0),D?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Je(st,p&1),r===null)return Rh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,r=d.fallback,y?(d=s.mode,y=s.child,E={mode:"hidden",children:E},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Tc(E,d,0,null),r=Os(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=ef(l),s.memoizedState=Zh,r):tf(s,E));if(p=r.memoizedState,p!==null&&(D=p.dehydrated,D!==null))return DI(r,s,E,d,D,p,l);if(y){y=d.fallback,E=s.mode,p=r.child,D=p.sibling;var U={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=U,s.deletions=null):(d=Li(p,U),d.subtreeFlags=p.subtreeFlags&14680064),D!==null?y=Li(D,y):(y=Os(y,E,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,E=r.child.memoizedState,E=E===null?ef(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Zh,d}return y=r.child,r=y.sibling,d=Li(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function tf(r,s){return s=Tc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function uc(r,s,l,d){return d!==null&&Ah(d),Mo(s,r.child,null,l),r=tf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function DI(r,s,l,d,p,y,E){if(l)return s.flags&256?(s.flags&=-257,d=Qh(Error(t(422))),uc(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Tc({mode:"visible",children:d.children},p,0,null),y=Os(y,p,E,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&Mo(s,r.child,null,E),s.child.memoizedState=ef(E),s.memoizedState=Zh,y);if((s.mode&1)===0)return uc(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;return d=D,y=Error(t(419)),d=Qh(y,d,void 0),uc(r,s,E,d)}if(D=(E&r.childLanes)!==0,sn||D){if(d=At,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Gr(r,p),Qn(d,r,p,-1))}return vf(),d=Qh(Error(t(421))),uc(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=KI.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,gn=Ii(p.nextSibling),mn=s,rt=!0,Hn=null,r!==null&&(xn[Cn++]=qr,xn[Cn++]=Kr,xn[Cn++]=Is,qr=r.id,Kr=r.overflow,Is=s),s=tf(s,d.children),s.flags|=4096,s)}function ky(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Nh(r.return,s,l)}function nf(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function Ny(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(Jt(r,s,d.children,l),d=st.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ky(r,l,s);else if(r.tag===19)ky(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Je(st,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&nc(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),nf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&nc(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}nf(s,!0,l,null,y);break;case"together":nf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Yr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ps|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Li(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Li(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function LI(r,s,l){switch(s.tag){case 3:Ay(s),Lo();break;case 5:qg(s);break;case 1:rn(s.type)&&qu(s);break;case 4:Lh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Je(Ju,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Je(st,st.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?by(r,s,l):(Je(st,st.current&1),r=Yr(r,s,l),r!==null?r.sibling:null);Je(st,st.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Ny(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Je(st,st.current),d)break;return null;case 22:case 23:return s.lanes=0,xy(r,s,l)}return Yr(r,s,l)}var Oy,rf,Dy,Ly;Oy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},rf=function(){},Dy=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Rs(gr.current);var y=null;switch(l){case"input":p=Qt(r,p),d=Qt(r,d),y=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),y=[];break;case"textarea":p=Aa(r,p),d=Aa(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=$u)}Da(l,d);var E;l=null;for(K in p)if(!d.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var D=p[K];for(E in D)D.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in d){var U=d[K];if(D=p?.[K],d.hasOwnProperty(K)&&U!==D&&(U!=null||D!=null))if(K==="style")if(D){for(E in D)!D.hasOwnProperty(E)||U&&U.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in U)U.hasOwnProperty(E)&&D[E]!==U[E]&&(l||(l={}),l[E]=U[E])}else l||(y||(y=[]),y.push(K,l)),l=U;else K==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,D=D?D.__html:void 0,U!=null&&D!==U&&(y=y||[]).push(K,U)):K==="children"?typeof U!="string"&&typeof U!="number"||(y=y||[]).push(K,""+U):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(U!=null&&K==="onScroll"&&Ze("scroll",r),y||D===U||(y=[])):(y=y||[]).push(K,U))}l&&(y=y||[]).push("style",l);var K=y;(s.updateQueue=K)&&(s.flags|=4)}},Ly=function(r,s,l,d){l!==d&&(s.flags|=4)};function pl(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function $t(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function MI(r,s,l){var d=s.pendingProps;switch(xh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return rn(s.type)&&Hu(),$t(s),null;case 3:return d=s.stateNode,jo(),et(nn),et(Bt),Fh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Yu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hn!==null&&(mf(Hn),Hn=null))),rf(r,s),$t(s),null;case 5:Mh(s);var p=Rs(ul.current);if(l=s.type,r!==null&&s.stateNode!=null)Dy(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(r=Rs(gr.current),Yu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[mr]=s,d[il]=y,r=(s.mode&1)!==0,l){case"dialog":Ze("cancel",d),Ze("close",d);break;case"iframe":case"object":case"embed":Ze("load",d);break;case"video":case"audio":for(p=0;p<tl.length;p++)Ze(tl[p],d);break;case"source":Ze("error",d);break;case"img":case"image":case"link":Ze("error",d),Ze("load",d);break;case"details":Ze("toggle",d);break;case"input":ar(d,y),Ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ze("invalid",d);break;case"textarea":to(d,y),Ze("invalid",d)}Da(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var D=y[E];E==="children"?typeof D=="string"?d.textContent!==D&&(y.suppressHydrationWarning!==!0&&zu(d.textContent,D,r),p=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&zu(d.textContent,D,r),p=["children",""+D]):o.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&Ze("scroll",d)}switch(l){case"input":Be(d),pu(d,y,!0);break;case"textarea":Be(d),Pa(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=$u)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_t(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[mr]=s,r[il]=d,Oy(r,s,!1,!1),s.stateNode=r;e:{switch(E=La(l,d),l){case"dialog":Ze("cancel",r),Ze("close",r),p=d;break;case"iframe":case"object":case"embed":Ze("load",r),p=d;break;case"video":case"audio":for(p=0;p<tl.length;p++)Ze(tl[p],r);p=d;break;case"source":Ze("error",r),p=d;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),p=d;break;case"details":Ze("toggle",r),p=d;break;case"input":ar(r,d),p=Qt(r,d),Ze("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),Ze("invalid",r);break;case"textarea":to(r,d),p=Aa(r,d),Ze("invalid",r);break;default:p=d}Da(l,p),D=p;for(y in D)if(D.hasOwnProperty(y)){var U=D[y];y==="style"?Na(r,U):y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&ba(r,U)):y==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&fi(r,U):typeof U=="number"&&fi(r,""+U):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?U!=null&&y==="onScroll"&&Ze("scroll",r):U!=null&&$(r,y,U,E))}switch(l){case"input":Be(r),pu(r,d,!1);break;case"textarea":Be(r),Pa(r);break;case"option":d.value!=null&&r.setAttribute("value",""+we(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Mr(r,!!d.multiple,y,!1):d.defaultValue!=null&&Mr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=$u)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(r&&s.stateNode!=null)Ly(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Rs(ul.current),Rs(gr.current),Yu(s)){if(d=s.stateNode,l=s.memoizedProps,d[mr]=s,(y=d.nodeValue!==l)&&(r=mn,r!==null))switch(r.tag){case 3:zu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&zu(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[mr]=s,s.stateNode=d}return $t(s),null;case 13:if(et(st),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Fg(),Lo(),s.flags|=98560,y=!1;else if(y=Yu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[mr]=s}else Lo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),y=!1}else Hn!==null&&(mf(Hn),Hn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(st.current&1)!==0?St===0&&(St=3):vf())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return jo(),rf(r,s),r===null&&nl(s.stateNode.containerInfo),$t(s),null;case 10:return kh(s.type._context),$t(s),null;case 17:return rn(s.type)&&Hu(),$t(s),null;case 19:if(et(st),y=s.memoizedState,y===null)return $t(s),null;if(d=(s.flags&128)!==0,E=y.rendering,E===null)if(d)pl(y,!1);else{if(St!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=nc(r),E!==null){for(s.flags|=128,pl(y,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Je(st,st.current&1|2),s.child}r=r.sibling}y.tail!==null&&Xe()>$o&&(s.flags|=128,d=!0,pl(y,!1),s.lanes=4194304)}else{if(!d)if(r=nc(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),pl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!rt)return $t(s),null}else 2*Xe()-y.renderingStartTime>$o&&l!==1073741824&&(s.flags|=128,d=!0,pl(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Xe(),s.sibling=null,l=st.current,Je(st,d?l&1|2:l&1),s):($t(s),null);case 22:case 23:return yf(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(yn&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function VI(r,s){switch(xh(s),s.tag){case 1:return rn(s.type)&&Hu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return jo(),et(nn),et(Bt),Fh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Mh(s),null;case 13:if(et(st),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Lo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return et(st),null;case 4:return jo(),null;case 10:return kh(s.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var dc=!1,Wt=!1,FI=typeof WeakSet=="function"?WeakSet:Set,de=null;function Bo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){lt(r,s,d)}else l.current=null}function sf(r,s,l){try{l()}catch(d){lt(r,s,d)}}var My=!1;function jI(r,s){if(gh=Ei,r=pg(),lh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,D=-1,U=-1,K=0,ee=0,ne=r,Z=null;t:for(;;){for(var ce;ne!==l||p!==0&&ne.nodeType!==3||(D=E+p),ne!==y||d!==0&&ne.nodeType!==3||(U=E+d),ne.nodeType===3&&(E+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)Z=ne,ne=ce;for(;;){if(ne===r)break t;if(Z===l&&++K===p&&(D=E),Z===y&&++ee===d&&(U=E),(ce=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ce}l=D===-1||U===-1?null:{start:D,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(yh={focusedElem:r,selectionRange:l},Ei=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var me=he.memoizedProps,ft=he.memoizedState,H=s.stateNode,B=H.getSnapshotBeforeUpdate(s.elementType===s.type?me:qn(s.type,me),ft);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){lt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return he=My,My=!1,he}function ml(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&sf(s,l,y)}p=p.next}while(p!==d)}}function hc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function of(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Vy(r){var s=r.alternate;s!==null&&(r.alternate=null,Vy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[mr],delete s[il],delete s[Eh],delete s[EI],delete s[TI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Fy(r){return r.tag===5||r.tag===3||r.tag===4}function jy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function af(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=$u));else if(d!==4&&(r=r.child,r!==null))for(af(r,s,l),r=r.sibling;r!==null;)af(r,s,l),r=r.sibling}function lf(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(lf(r,s,l),r=r.sibling;r!==null;)lf(r,s,l),r=r.sibling}var Ot=null,Kn=!1;function bi(r,s,l){for(l=l.child;l!==null;)Uy(r,s,l),l=l.sibling}function Uy(r,s,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ms,l)}catch{}switch(l.tag){case 5:Wt||Bo(l,s);case 6:var d=Ot,p=Kn;Ot=null,bi(r,s,l),Ot=d,Kn=p,Ot!==null&&(Kn?(r=Ot,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Kn?(r=Ot,l=l.stateNode,r.nodeType===8?wh(r.parentNode,l):r.nodeType===1&&wh(r,l),zn(r)):wh(Ot,l.stateNode));break;case 4:d=Ot,p=Kn,Ot=l.stateNode.containerInfo,Kn=!0,bi(r,s,l),Ot=d,Kn=p;break;case 0:case 11:case 14:case 15:if(!Wt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&sf(l,s,E),p=p.next}while(p!==d)}bi(r,s,l);break;case 1:if(!Wt&&(Bo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){lt(l,s,D)}bi(r,s,l);break;case 21:bi(r,s,l);break;case 22:l.mode&1?(Wt=(d=Wt)||l.memoizedState!==null,bi(r,s,l),Wt=d):bi(r,s,l);break;default:bi(r,s,l)}}function By(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new FI),s.forEach(function(d){var p=GI.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Gn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,E=s,D=E;e:for(;D!==null;){switch(D.tag){case 5:Ot=D.stateNode,Kn=!1;break e;case 3:Ot=D.stateNode.containerInfo,Kn=!0;break e;case 4:Ot=D.stateNode.containerInfo,Kn=!0;break e}D=D.return}if(Ot===null)throw Error(t(160));Uy(y,E,p),Ot=null,Kn=!1;var U=p.alternate;U!==null&&(U.return=null),p.return=null}catch(K){lt(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)zy(s,r),s=s.sibling}function zy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Gn(s,r),vr(r),d&4){try{ml(3,r,r.return),hc(3,r)}catch(me){lt(r,r.return,me)}try{ml(5,r,r.return)}catch(me){lt(r,r.return,me)}}break;case 1:Gn(s,r),vr(r),d&512&&l!==null&&Bo(l,l.return);break;case 5:if(Gn(s,r),vr(r),d&512&&l!==null&&Bo(l,l.return),r.flags&32){var p=r.stateNode;try{fi(p,"")}catch(me){lt(r,r.return,me)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,D=r.type,U=r.updateQueue;if(r.updateQueue=null,U!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&Or(p,y),La(D,E);var K=La(D,y);for(E=0;E<U.length;E+=2){var ee=U[E],ne=U[E+1];ee==="style"?Na(p,ne):ee==="dangerouslySetInnerHTML"?ba(p,ne):ee==="children"?fi(p,ne):$(p,ee,ne,K)}switch(D){case"input":Dr(p,y);break;case"textarea":no(p,y);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?Mr(p,!!y.multiple,ce,!1):Z!==!!y.multiple&&(y.defaultValue!=null?Mr(p,!!y.multiple,y.defaultValue,!0):Mr(p,!!y.multiple,y.multiple?[]:"",!1))}p[il]=y}catch(me){lt(r,r.return,me)}}break;case 6:if(Gn(s,r),vr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(me){lt(r,r.return,me)}}break;case 3:if(Gn(s,r),vr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{zn(s.containerInfo)}catch(me){lt(r,r.return,me)}break;case 4:Gn(s,r),vr(r);break;case 13:Gn(s,r),vr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(df=Xe())),d&4&&By(r);break;case 22:if(ee=l!==null&&l.memoizedState!==null,r.mode&1?(Wt=(K=Wt)||ee,Gn(s,r),Wt=K):Gn(s,r),vr(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!ee&&(r.mode&1)!==0)for(de=r,ee=r.child;ee!==null;){for(ne=de=ee;de!==null;){switch(Z=de,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:ml(4,Z,Z.return);break;case 1:Bo(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){d=Z,l=Z.return;try{s=d,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(me){lt(d,l,me)}}break;case 5:Bo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Hy(ne);continue}}ce!==null?(ce.return=Z,de=ce):Hy(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{p=ne.stateNode,K?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=ne.stateNode,U=ne.memoizedProps.style,E=U!=null&&U.hasOwnProperty("display")?U.display:null,D.style.display=ka("display",E))}catch(me){lt(r,r.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(me){lt(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Gn(s,r),vr(r),d&4&&By(r);break;case 21:break;default:Gn(s,r),vr(r)}}function vr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Fy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(fi(p,""),d.flags&=-33);var y=jy(r);lf(r,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,D=jy(r);af(r,D,E);break;default:throw Error(t(161))}}catch(U){lt(r,r.return,U)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function UI(r,s,l){de=r,$y(r)}function $y(r,s,l){for(var d=(r.mode&1)!==0;de!==null;){var p=de,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||dc;if(!E){var D=p.alternate,U=D!==null&&D.memoizedState!==null||Wt;D=dc;var K=Wt;if(dc=E,(Wt=U)&&!K)for(de=p;de!==null;)E=de,U=E.child,E.tag===22&&E.memoizedState!==null?qy(p):U!==null?(U.return=E,de=U):qy(p);for(;y!==null;)de=y,$y(y),y=y.sibling;de=p,dc=D,Wt=K}Wy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,de=y):Wy(r)}}function Wy(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Wt||hc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Wt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:qn(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Hg(s,y,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Hg(s,E,l)}break;case 5:var D=s.stateNode;if(l===null&&s.flags&4){l=D;var U=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ee=K.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&zn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||s.flags&512&&of(s)}catch(Z){lt(s,s.return,Z)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function Hy(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function qy(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{hc(4,s)}catch(U){lt(s,l,U)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(U){lt(s,p,U)}}var y=s.return;try{of(s)}catch(U){lt(s,y,U)}break;case 5:var E=s.return;try{of(s)}catch(U){lt(s,E,U)}}}catch(U){lt(s,s.return,U)}if(s===r){de=null;break}var D=s.sibling;if(D!==null){D.return=s.return,de=D;break}de=s.return}}var BI=Math.ceil,fc=G.ReactCurrentDispatcher,uf=G.ReactCurrentOwner,Pn=G.ReactCurrentBatchConfig,We=0,At=null,gt=null,Dt=0,yn=0,zo=xi(0),St=0,gl=null,Ps=0,pc=0,cf=0,yl=null,on=null,df=0,$o=1/0,Xr=null,mc=!1,hf=null,ki=null,gc=!1,Ni=null,yc=0,vl=0,ff=null,vc=-1,_c=0;function Zt(){return(We&6)!==0?Xe():vc!==-1?vc:vc=Xe()}function Oi(r){return(r.mode&1)===0?1:(We&2)!==0&&Dt!==0?Dt&-Dt:II.transition!==null?(_c===0&&(_c=ys()),_c):(r=je,r!==0||(r=window.event,r=r===void 0?16:qa(r.type)),r)}function Qn(r,s,l,d){if(50<vl)throw vl=0,ff=null,Error(t(185));yi(r,l,d),((We&2)===0||r!==At)&&(r===At&&((We&2)===0&&(pc|=l),St===4&&Di(r,Dt)),an(r,d),l===1&&We===0&&(s.mode&1)===0&&($o=Xe()+500,Ku&&Ri()))}function an(r,s){var l=r.callbackNode;jr(r,s);var d=gs(r,r===At?Dt:0);if(d===0)l!==null&&Ba(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Ba(l),s===1)r.tag===0?SI(Gy.bind(null,r)):Og(Gy.bind(null,r)),_I(function(){(We&6)===0&&Ri()}),l=null;else{switch(_i(d)){case 1:l=ps;break;case 4:l=pi;break;case 16:l=Tn;break;case 536870912:l=_u;break;default:l=Tn}l=nv(l,Ky.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Ky(r,s){if(vc=-1,_c=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Wo()&&r.callbackNode!==l)return null;var d=gs(r,r===At?Dt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=wc(r,d);else{s=d;var p=We;We|=2;var y=Yy();(At!==r||Dt!==s)&&(Xr=null,$o=Xe()+500,ks(r,s));do try{WI();break}catch(D){Qy(r,D)}while(!0);bh(),fc.current=y,We=p,gt!==null?s=0:(At=null,Dt=0,s=St)}if(s!==0){if(s===2&&(p=hn(r),p!==0&&(d=p,s=pf(r,p))),s===1)throw l=gl,ks(r,0),Di(r,d),an(r,Xe()),l;if(s===6)Di(r,d);else{if(p=r.current.alternate,(d&30)===0&&!zI(p)&&(s=wc(r,d),s===2&&(y=hn(r),y!==0&&(d=y,s=pf(r,y))),s===1))throw l=gl,ks(r,0),Di(r,d),an(r,Xe()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Ns(r,on,Xr);break;case 3:if(Di(r,d),(d&130023424)===d&&(s=df+500-Xe(),10<s)){if(gs(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Zt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=_h(Ns.bind(null,r,on,Xr),s);break}Ns(r,on,Xr);break;case 4:if(Di(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Yt(d);y=1<<E,E=s[E],E>p&&(p=E),d&=~y}if(d=p,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*BI(d/1960))-d,10<d){r.timeoutHandle=_h(Ns.bind(null,r,on,Xr),d);break}Ns(r,on,Xr);break;case 5:Ns(r,on,Xr);break;default:throw Error(t(329))}}}return an(r,Xe()),r.callbackNode===l?Ky.bind(null,r):null}function pf(r,s){var l=yl;return r.current.memoizedState.isDehydrated&&(ks(r,s).flags|=256),r=wc(r,s),r!==2&&(s=on,on=l,s!==null&&mf(s)),r}function mf(r){on===null?on=r:on.push.apply(on,r)}function zI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Wn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Di(r,s){for(s&=~cf,s&=~pc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Yt(s),d=1<<l;r[l]=-1,s&=~d}}function Gy(r){if((We&6)!==0)throw Error(t(327));Wo();var s=gs(r,0);if((s&1)===0)return an(r,Xe()),null;var l=wc(r,s);if(r.tag!==0&&l===2){var d=hn(r);d!==0&&(s=d,l=pf(r,d))}if(l===1)throw l=gl,ks(r,0),Di(r,s),an(r,Xe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ns(r,on,Xr),an(r,Xe()),null}function gf(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&($o=Xe()+500,Ku&&Ri())}}function bs(r){Ni!==null&&Ni.tag===0&&(We&6)===0&&Wo();var s=We;We|=1;var l=Pn.transition,d=je;try{if(Pn.transition=null,je=1,r)return r()}finally{je=d,Pn.transition=l,We=s,(We&6)===0&&Ri()}}function yf(){yn=zo.current,et(zo)}function ks(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,vI(l)),gt!==null)for(l=gt.return;l!==null;){var d=l;switch(xh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Hu();break;case 3:jo(),et(nn),et(Bt),Fh();break;case 5:Mh(d);break;case 4:jo();break;case 13:et(st);break;case 19:et(st);break;case 10:kh(d.type._context);break;case 22:case 23:yf()}l=l.return}if(At=r,gt=r=Li(r.current,null),Dt=yn=s,St=0,gl=null,cf=pc=Ps=0,on=yl=null,Cs!==null){for(s=0;s<Cs.length;s++)if(l=Cs[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}Cs=null}return r}function Qy(r,s){do{var l=gt;try{if(bh(),rc.current=ac,ic){for(var d=ot.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}ic=!1}if(As=0,Rt=Tt=ot=null,cl=!1,dl=0,uf.current=null,l===null||l.return===null){St=1,gl=s,gt=null;break}e:{var y=r,E=l.return,D=l,U=s;if(s=Dt,D.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var K=U,ee=D,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=wy(E);if(ce!==null){ce.flags&=-257,Ey(ce,E,D,y,s),ce.mode&1&&_y(y,K,s),s=ce,U=K;var he=s.updateQueue;if(he===null){var me=new Set;me.add(U),s.updateQueue=me}else he.add(U);break e}else{if((s&1)===0){_y(y,K,s),vf();break e}U=Error(t(426))}}else if(rt&&D.mode&1){var ft=wy(E);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Ey(ft,E,D,y,s),Ah(Uo(U,D));break e}}y=U=Uo(U,D),St!==4&&(St=2),yl===null?yl=[y]:yl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var H=yy(y,U,s);Wg(y,H);break e;case 1:D=U;var B=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ki===null||!ki.has(q)))){y.flags|=65536,s&=-s,y.lanes|=s;var se=vy(y,D,s);Wg(y,se);break e}}y=y.return}while(y!==null)}Jy(l)}catch(ye){s=ye,gt===l&&l!==null&&(gt=l=l.return);continue}break}while(!0)}function Yy(){var r=fc.current;return fc.current=ac,r===null?ac:r}function vf(){(St===0||St===3||St===2)&&(St=4),At===null||(Ps&268435455)===0&&(pc&268435455)===0||Di(At,Dt)}function wc(r,s){var l=We;We|=2;var d=Yy();(At!==r||Dt!==s)&&(Xr=null,ks(r,s));do try{$I();break}catch(p){Qy(r,p)}while(!0);if(bh(),We=l,fc.current=d,gt!==null)throw Error(t(261));return At=null,Dt=0,St}function $I(){for(;gt!==null;)Xy(gt)}function WI(){for(;gt!==null&&!yu();)Xy(gt)}function Xy(r){var s=tv(r.alternate,r,yn);r.memoizedProps=r.pendingProps,s===null?Jy(r):gt=s,uf.current=null}function Jy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=MI(l,s,yn),l!==null){gt=l;return}}else{if(l=VI(l,s),l!==null){l.flags&=32767,gt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{St=6,gt=null;return}}if(s=s.sibling,s!==null){gt=s;return}gt=s=r}while(s!==null);St===0&&(St=5)}function Ns(r,s,l){var d=je,p=Pn.transition;try{Pn.transition=null,je=1,HI(r,s,l,d)}finally{Pn.transition=p,je=d}return null}function HI(r,s,l,d){do Wo();while(Ni!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ye(r,y),r===At&&(gt=At=null,Dt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gc||(gc=!0,nv(Tn,function(){return Wo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Pn.transition,Pn.transition=null;var E=je;je=1;var D=We;We|=4,uf.current=null,jI(r,l),zy(l,r),dI(yh),Ei=!!gh,yh=gh=null,r.current=l,UI(l),eh(),We=D,je=E,Pn.transition=y}else r.current=l;if(gc&&(gc=!1,Ni=r,yc=p),y=r.pendingLanes,y===0&&(ki=null),wu(l.stateNode),an(r,Xe()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(mc)throw mc=!1,r=hf,hf=null,r;return(yc&1)!==0&&r.tag!==0&&Wo(),y=r.pendingLanes,(y&1)!==0?r===ff?vl++:(vl=0,ff=r):vl=0,Ri(),null}function Wo(){if(Ni!==null){var r=_i(yc),s=Pn.transition,l=je;try{if(Pn.transition=null,je=16>r?16:r,Ni===null)var d=!1;else{if(r=Ni,Ni=null,yc=0,(We&6)!==0)throw Error(t(331));var p=We;for(We|=4,de=r.current;de!==null;){var y=de,E=y.child;if((de.flags&16)!==0){var D=y.deletions;if(D!==null){for(var U=0;U<D.length;U++){var K=D[U];for(de=K;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:ml(8,ee,y)}var ne=ee.child;if(ne!==null)ne.return=ee,de=ne;else for(;de!==null;){ee=de;var Z=ee.sibling,ce=ee.return;if(Vy(ee),ee===K){de=null;break}if(Z!==null){Z.return=ce,de=Z;break}de=ce}}}var he=y.alternate;if(he!==null){var me=he.child;if(me!==null){he.child=null;do{var ft=me.sibling;me.sibling=null,me=ft}while(me!==null)}}de=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,de=E;else e:for(;de!==null;){if(y=de,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ml(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,de=H;break e}de=y.return}}var B=r.current;for(de=B;de!==null;){E=de;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,de=q;else e:for(E=B;de!==null;){if(D=de,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:hc(9,D)}}catch(ye){lt(D,D.return,ye)}if(D===E){de=null;break e}var se=D.sibling;if(se!==null){se.return=D.return,de=se;break e}de=D.return}}if(We=p,Ri(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ms,r)}catch{}d=!0}return d}finally{je=l,Pn.transition=s}}return!1}function Zy(r,s,l){s=Uo(l,s),s=yy(r,s,1),r=Pi(r,s,1),s=Zt(),r!==null&&(yi(r,1,s),an(r,s))}function lt(r,s,l){if(r.tag===3)Zy(r,r,l);else for(;s!==null;){if(s.tag===3){Zy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))){r=Uo(l,r),r=vy(s,r,1),s=Pi(s,r,1),r=Zt(),s!==null&&(yi(s,1,r),an(s,r));break}}s=s.return}}function qI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Zt(),r.pingedLanes|=r.suspendedLanes&l,At===r&&(Dt&l)===l&&(St===4||St===3&&(Dt&130023424)===Dt&&500>Xe()-df?ks(r,0):cf|=l),an(r,s)}function ev(r,s){s===0&&((r.mode&1)===0?s=1:(s=fo,fo<<=1,(fo&130023424)===0&&(fo=4194304)));var l=Zt();r=Gr(r,s),r!==null&&(yi(r,s,l),an(r,l))}function KI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),ev(r,l)}function GI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),ev(r,l)}var tv;tv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||nn.current)sn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return sn=!1,LI(r,s,l);sn=(r.flags&131072)!==0}else sn=!1,rt&&(s.flags&1048576)!==0&&Dg(s,Qu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;cc(r,s),r=s.pendingProps;var p=No(s,Bt.current);Fo(s,l),p=Bh(null,s,d,r,p,l);var y=zh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(d)?(y=!0,qu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Dh(s),p.updater=lc,s.stateNode=p,p._reactInternals=s,Gh(s,d,r,l),s=Jh(null,s,d,!0,y,l)):(s.tag=0,rt&&y&&Ih(s),Jt(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(cc(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=YI(d),r=qn(d,r),p){case 0:s=Xh(null,s,d,r,l);break e;case 1:s=Ry(null,s,d,r,l);break e;case 11:s=Ty(null,s,d,r,l);break e;case 14:s=Sy(null,s,d,qn(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:qn(d,p),Xh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:qn(d,p),Ry(r,s,d,p,l);case 3:e:{if(Ay(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,$g(r,s),tc(s,d,null,l);var E=s.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Uo(Error(t(423)),s),s=Py(r,s,d,l,p);break e}else if(d!==p){p=Uo(Error(t(424)),s),s=Py(r,s,d,l,p);break e}else for(gn=Ii(s.stateNode.containerInfo.firstChild),mn=s,rt=!0,Hn=null,l=Bg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Lo(),d===p){s=Yr(r,s,l);break e}Jt(r,s,d,l)}s=s.child}return s;case 5:return qg(s),r===null&&Rh(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,vh(d,p)?E=null:y!==null&&vh(d,y)&&(s.flags|=32),Cy(r,s),Jt(r,s,E,l),s.child;case 6:return r===null&&Rh(s),null;case 13:return by(r,s,l);case 4:return Lh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Mo(s,null,d,l):Jt(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:qn(d,p),Ty(r,s,d,p,l);case 7:return Jt(r,s,s.pendingProps,l),s.child;case 8:return Jt(r,s,s.pendingProps.children,l),s.child;case 12:return Jt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,Je(Ju,d._currentValue),d._currentValue=E,y!==null)if(Wn(y.value,E)){if(y.children===p.children&&!nn.current){s=Yr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var D=y.dependencies;if(D!==null){E=y.child;for(var U=D.firstContext;U!==null;){if(U.context===d){if(y.tag===1){U=Qr(-1,l&-l),U.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var ee=K.pending;ee===null?U.next=U:(U.next=ee.next,ee.next=U),K.pending=U}}y.lanes|=l,U=y.alternate,U!==null&&(U.lanes|=l),Nh(y.return,l,s),D.lanes|=l;break}U=U.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,D=E.alternate,D!==null&&(D.lanes|=l),Nh(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Jt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Fo(s,l),p=Rn(p),d=d(p),s.flags|=1,Jt(r,s,d,l),s.child;case 14:return d=s.type,p=qn(d,s.pendingProps),p=qn(d.type,p),Sy(r,s,d,p,l);case 15:return Iy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:qn(d,p),cc(r,s),s.tag=1,rn(d)?(r=!0,qu(s)):r=!1,Fo(s,l),my(s,d,p),Gh(s,d,p,l),Jh(null,s,d,!0,r,l);case 19:return Ny(r,s,l);case 22:return xy(r,s,l)}throw Error(t(156,s.tag))};function nv(r,s){return co(r,s)}function QI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(r,s,l,d){return new QI(r,s,l,d)}function _f(r){return r=r.prototype,!(!r||!r.isReactComponent)}function YI(r){if(typeof r=="function")return _f(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===Oe)return 14}return 2}function Li(r,s){var l=r.alternate;return l===null?(l=bn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ec(r,s,l,d,p,y){var E=2;if(d=r,typeof r=="function")_f(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case k:return Os(l.children,p,y,s);case P:E=8,p|=8;break;case N:return r=bn(12,l,s,p|2),r.elementType=N,r.lanes=y,r;case O:return r=bn(13,l,s,p),r.elementType=O,r.lanes=y,r;case ve:return r=bn(19,l,s,p),r.elementType=ve,r.lanes=y,r;case fe:return Tc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:E=10;break e;case F:E=9;break e;case V:E=11;break e;case Oe:E=14;break e;case _e:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=bn(E,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function Os(r,s,l,d){return r=bn(7,r,d,s),r.lanes=l,r}function Tc(r,s,l,d){return r=bn(22,r,d,s),r.elementType=fe,r.lanes=l,r.stateNode={isHidden:!1},r}function wf(r,s,l){return r=bn(6,r,null,s),r.lanes=l,r}function Ef(r,s,l){return s=bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function XI(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Tf(r,s,l,d,p,y,E,D,U){return r=new XI(r,s,l,D,U),s===1?(s=1,y===!0&&(s|=8)):s=0,y=bn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(y),r}function JI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function rv(r){if(!r)return Ci;r=r._reactInternals;e:{if(Vn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(rn(l))return kg(r,l,s)}return s}function iv(r,s,l,d,p,y,E,D,U){return r=Tf(l,d,!0,r,p,y,E,D,U),r.context=rv(null),l=r.current,d=Zt(),p=Oi(l),y=Qr(d,p),y.callback=s??null,Pi(l,y,p),r.current.lanes=p,yi(r,p,d),an(r,d),r}function Sc(r,s,l,d){var p=s.current,y=Zt(),E=Oi(p);return l=rv(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(y,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Pi(p,s,E),r!==null&&(Qn(r,p,E,y),ec(r,p,E)),E}function Ic(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function sv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Sf(r,s){sv(r,s),(r=r.alternate)&&sv(r,s)}function ZI(){return null}var ov=typeof reportError=="function"?reportError:function(r){console.error(r)};function If(r){this._internalRoot=r}xc.prototype.render=If.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Sc(r,s,null,null)},xc.prototype.unmount=If.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;bs(function(){Sc(null,r,null,null)}),s[Wr]=null}};function xc(r){this._internalRoot=r}xc.prototype.unstable_scheduleHydration=function(r){if(r){var s=xu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<dr.length&&s!==0&&s<dr[l].priority;l++);dr.splice(l,0,r),l===0&&Au(r)}};function xf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Cc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function av(){}function ex(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var K=Ic(E);y.call(K)}}var E=iv(s,d,r,0,null,!1,!1,"",av);return r._reactRootContainer=E,r[Wr]=E.current,nl(r.nodeType===8?r.parentNode:r),bs(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var D=d;d=function(){var K=Ic(U);D.call(K)}}var U=Tf(r,0,!1,null,null,!1,!1,"",av);return r._reactRootContainer=U,r[Wr]=U.current,nl(r.nodeType===8?r.parentNode:r),bs(function(){Sc(s,U,l,d)}),U}function Rc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var D=p;p=function(){var U=Ic(E);D.call(U)}}Sc(s,E,r,p)}else E=ex(l,s,r,p,d);return Ic(E)}Su=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=mi(s.pendingLanes);l!==0&&(vi(s,l|1),an(s,Xe()),(We&6)===0&&($o=Xe()+500,Ri()))}break;case 13:bs(function(){var d=Gr(r,1);if(d!==null){var p=Zt();Qn(d,r,1,p)}}),Sf(r,1)}},po=function(r){if(r.tag===13){var s=Gr(r,134217728);if(s!==null){var l=Zt();Qn(s,r,134217728,l)}Sf(r,134217728)}},Iu=function(r){if(r.tag===13){var s=Oi(r),l=Gr(r,s);if(l!==null){var d=Zt();Qn(l,r,s,d)}Sf(r,s)}},xu=function(){return je},Cu=function(r,s){var l=je;try{return je=r,s()}finally{je=l}},io=function(r,s,l){switch(s){case"input":if(Dr(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=Wu(d);if(!p)throw Error(t(90));Qe(d),Dr(d,p)}}}break;case"textarea":no(r,l);break;case"select":s=l.value,s!=null&&Mr(r,!!l.multiple,s,!1)}},cs=gf,Va=bs;var tx={usingClientEntryPoint:!1,Events:[sl,bo,Wu,ur,Ma,gf]},_l={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nx={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ua(r),r===null?null:r.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||ZI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{ms=Ac.inject(nx),dn=Ac}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx,ln.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(s))throw Error(t(200));return JI(r,s,null,l)},ln.createRoot=function(r,s){if(!xf(r))throw Error(t(299));var l=!1,d="",p=ov;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Tf(r,1,!1,null,null,l,!1,d,p),r[Wr]=s.current,nl(r.nodeType===8?r.parentNode:r),new If(s)},ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ua(s),r=r===null?null:r.stateNode,r},ln.flushSync=function(r){return bs(r)},ln.hydrate=function(r,s,l){if(!Cc(s))throw Error(t(200));return Rc(null,r,s,!0,l)},ln.hydrateRoot=function(r,s,l){if(!xf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=ov;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=iv(s,null,r,1,l??null,p,!1,y,E),r[Wr]=s.current,nl(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new xc(s)},ln.render=function(r,s,l){if(!Cc(s))throw Error(t(200));return Rc(null,r,s,!1,l)},ln.unmountComponentAtNode=function(r){if(!Cc(r))throw Error(t(40));return r._reactRootContainer?(bs(function(){Rc(null,null,r,!1,function(){r._reactRootContainer=null,r[Wr]=null})}),!0):!1},ln.unstable_batchedUpdates=gf,ln.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Cc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Rc(r,s,l,!1,d)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var mv;function Rw(){if(mv)return Af.exports;mv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Af.exports=cx(),Af.exports}var gv;function dx(){if(gv)return Pc;gv=1;var n=Rw();return Pc.createRoot=n.createRoot,Pc.hydrateRoot=n.hydrateRoot,Pc}var hx=dx(),T=Up();const Ui=Cw(T),Aw=ix({__proto__:null,default:Ui},[T]),fx="/assets/24b0ce647cc38b3904beeda35147b930b1688d81-BQqRuCwP.png",Pw="/assets/be0089ef2be8ba12e1e7b021047e4ab156b62992-CnswqoYp.png";function yv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function bw(...n){return e=>{let t=!1;const i=n.map(o=>{const a=yv(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():yv(n[o],null)}}}}function Ft(...n){return T.useCallback(bw(...n),n)}function Vl(n){const e=mx(n),t=T.forwardRef((i,o)=>{const{children:a,...u}=i,h=T.Children.toArray(a),f=h.find(yx);if(f){const m=f.props.children,v=h.map(w=>w===f?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:w);return S.jsx(e,{...u,ref:o,children:T.isValidElement(m)?T.cloneElement(m,void 0,v):null})}return S.jsx(e,{...u,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var px=Vl("Slot");function mx(n){const e=T.forwardRef((t,i)=>{const{children:o,...a}=t;if(T.isValidElement(o)){const u=_x(o),h=vx(a,o.props);return o.type!==T.Fragment&&(h.ref=i?bw(i,u):u),T.cloneElement(o,h)}return T.Children.count(o)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var gx=Symbol("radix.slottable");function yx(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===gx}function vx(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function _x(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function kw(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=kw(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Nw(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=kw(n))&&(i&&(i+=" "),i+=e);return i}const vv=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,_v=Nw,Ow=(n,e)=>t=>{var i;if(e?.variants==null)return _v(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(m=>{const v=t?.[m],w=a?.[m];if(v===null)return null;const I=vv(v)||vv(w);return o[m][I]}),h=t&&Object.entries(t).reduce((m,v)=>{let[w,I]=v;return I===void 0||(m[w]=I),m},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,v)=>{let{class:w,className:I,...R}=v;return Object.entries(R).every(b=>{let[x,A]=b;return Array.isArray(A)?A.includes({...a,...h}[x]):{...a,...h}[x]===A})?[...m,w,I]:m},[]);return _v(n,u,f,t?.class,t?.className)},Bp="-",wx=n=>{const e=Tx(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const h=u.split(Bp);return h[0]===""&&h.length!==1&&h.shift(),Dw(h,e)||Ex(u)},getConflictingClassGroupIds:(u,h)=>{const f=t[u]||[];return h&&i[u]?[...f,...i[u]]:f}}},Dw=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?Dw(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(Bp);return e.validators.find(({validator:u})=>u(a))?.classGroupId},wv=/^\[(.+)\]$/,Ex=n=>{if(wv.test(n)){const e=wv.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Tx=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return Ix(Object.entries(n.classGroups),t).forEach(([a,u])=>{rp(u,i,a,e)}),i},rp=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Ev(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(Sx(o)){rp(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,u])=>{rp(u,Ev(e,a),t,i)})})},Ev=(n,e)=>{let t=n;return e.split(Bp).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},Sx=n=>n.isThemeGetter,Ix=(n,e)=>e?n.map(([t,i])=>{const o=i.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[e+u,h])):a);return[t,o]}):n,xx=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,i=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=i.get(a))!==void 0)return o(a,u),u},set(a,u){t.has(a)?t.set(a,u):o(a,u)}}},Lw="!",Cx=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,o=e[0],a=e.length,u=h=>{const f=[];let m=0,v=0,w;for(let A=0;A<h.length;A++){let j=h[A];if(m===0){if(j===o&&(i||h.slice(A,A+a)===e)){f.push(h.slice(v,A)),v=A+a;continue}if(j==="/"){w=A;continue}}j==="["?m++:j==="]"&&m--}const I=f.length===0?h:h.substring(v),R=I.startsWith(Lw),b=R?I.substring(1):I,x=w&&w>v?w-v:void 0;return{modifiers:f,hasImportantModifier:R,baseClassName:b,maybePostfixModifierPosition:x}};return t?h=>t({className:h,parseClassName:u}):u},Rx=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},Ax=n=>({cache:xx(n.cacheSize),parseClassName:Cx(n),...wx(n)}),Px=/\s+/,bx=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o}=e,a=[],u=n.trim().split(Px);let h="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{modifiers:v,hasImportantModifier:w,baseClassName:I,maybePostfixModifierPosition:R}=t(m);let b=!!R,x=i(b?I.substring(0,R):I);if(!x){if(!b){h=m+(h.length>0?" "+h:h);continue}if(x=i(I),!x){h=m+(h.length>0?" "+h:h);continue}b=!1}const A=Rx(v).join(":"),j=w?A+Lw:A,M=j+x;if(a.includes(M))continue;a.push(M);const $=o(x,b);for(let G=0;G<$.length;++G){const J=$[G];a.push(j+J)}h=m+(h.length>0?" "+h:h)}return h};function kx(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Mw(e))&&(i&&(i+=" "),i+=t);return i}const Mw=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=Mw(n[i]))&&(t&&(t+=" "),t+=e);return t};function Nx(n,...e){let t,i,o,a=u;function u(f){const m=e.reduce((v,w)=>w(v),n());return t=Ax(m),i=t.cache.get,o=t.cache.set,a=h,h(f)}function h(f){const m=i(f);if(m)return m;const v=bx(f,t);return o(f,v),v}return function(){return a(kx.apply(null,arguments))}}const tt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Vw=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ox=/^\d+\/\d+$/,Dx=new Set(["px","full","screen"]),Lx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=n=>Zo(n)||Dx.has(n)||Ox.test(n),Vi=n=>ma(n,"length",Kx),Zo=n=>!!n&&!Number.isNaN(Number(n)),kf=n=>ma(n,"number",Zo),El=n=>!!n&&Number.isInteger(Number(n)),Ux=n=>n.endsWith("%")&&Zo(n.slice(0,-1)),Me=n=>Vw.test(n),Fi=n=>Lx.test(n),Bx=new Set(["length","size","percentage"]),zx=n=>ma(n,Bx,Fw),$x=n=>ma(n,"position",Fw),Wx=new Set(["image","url"]),Hx=n=>ma(n,Wx,Qx),qx=n=>ma(n,"",Gx),Tl=()=>!0,ma=(n,e,t)=>{const i=Vw.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},Kx=n=>Mx.test(n)&&!Vx.test(n),Fw=()=>!1,Gx=n=>Fx.test(n),Qx=n=>jx.test(n),Yx=()=>{const n=tt("colors"),e=tt("spacing"),t=tt("blur"),i=tt("brightness"),o=tt("borderColor"),a=tt("borderRadius"),u=tt("borderSpacing"),h=tt("borderWidth"),f=tt("contrast"),m=tt("grayscale"),v=tt("hueRotate"),w=tt("invert"),I=tt("gap"),R=tt("gradientColorStops"),b=tt("gradientColorStopPositions"),x=tt("inset"),A=tt("margin"),j=tt("opacity"),M=tt("padding"),$=tt("saturate"),G=tt("scale"),J=tt("sepia"),ie=tt("skew"),k=tt("space"),P=tt("translate"),N=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Me,e],V=()=>[Me,e],O=()=>["",Jr,Vi],ve=()=>["auto",Zo,Me],Oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Me],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Zo,Me];return{cacheSize:500,separator:":",theme:{colors:[Tl],spacing:[Jr,Vi],blur:["none","",Fi,Me],brightness:z(),borderColor:[n],borderRadius:["none","","full",Fi,Me],borderSpacing:V(),borderWidth:O(),contrast:z(),grayscale:ae(),hueRotate:z(),invert:ae(),gap:V(),gradientColorStops:[n],gradientColorStopPositions:[Ux,Vi],inset:F(),margin:F(),opacity:z(),padding:V(),saturate:z(),scale:z(),sepia:ae(),skew:z(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Fi]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Oe(),Me]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El,Me]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",El,Me]}],"grid-cols":[{"grid-cols":[Tl]}],"col-start-end":[{col:["auto",{span:["full",El,Me]},Me]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[Tl]}],"row-start-end":[{row:["auto",{span:[El,Me]},Me]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[M]}],px:[{px:[M]}],py:[{py:[M]}],ps:[{ps:[M]}],pe:[{pe:[M]}],pt:[{pt:[M]}],pr:[{pr:[M]}],pb:[{pb:[M]}],pl:[{pl:[M]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,e]}],"min-w":[{"min-w":[Me,e,"min","max","fit"]}],"max-w":[{"max-w":[Me,e,"none","full","min","max","fit","prose",{screen:[Fi]},Fi]}],h:[{h:[Me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fi,Vi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kf]}],"font-family":[{font:[Tl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Zo,kf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,Vi]}],"underline-offset":[{"underline-offset":["auto",Jr,Me]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Oe(),$x]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hx]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:_e()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[Jr,Me]}],"outline-w":[{outline:[Jr,Vi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Jr,Vi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Fi,qx]}],"shadow-color":[{shadow:[Tl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Fi,Me]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[$]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[G]}],"scale-x":[{"scale-x":[G]}],"scale-y":[{"scale-y":[G]}],rotate:[{rotate:[El,Me]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[ie]}],"skew-y":[{"skew-y":[ie]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Jr,Vi,kf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Xx=Nx(Yx);function Dn(...n){return Xx(Nw(n))}const Jx=Ow("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Qi({className:n,variant:e,size:t,asChild:i=!1,...o}){const a=i?px:"button";return S.jsx(a,{"data-slot":"button",className:Dn(Jx({variant:e,size:t,className:n})),...o})}function $i({className:n,type:e,...t}){return S.jsx("input",{type:e,"data-slot":"input",className:Dn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Jl=Rw();const Zx=Cw(Jl);var eC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=eC.reduce((n,e)=>{const t=Vl(`Primitive.${e}`),i=T.forwardRef((o,a)=>{const{asChild:u,...h}=o,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(f,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function tC(n,e){n&&Jl.flushSync(()=>n.dispatchEvent(e))}var nC="Label",jw=T.forwardRef((n,e)=>S.jsx(ct.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));jw.displayName=nC;var rC=jw;function Yn({className:n,...e}){return S.jsx(rC,{"data-slot":"label",className:Dn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function Tv(n,[e,t]){return Math.min(t,Math.max(e,n))}function vt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function zp(n,e=[]){let t=[];function i(a,u){const h=T.createContext(u),f=t.length;t=[...t,u];const m=w=>{const{scope:I,children:R,...b}=w,x=I?.[n]?.[f]||h,A=T.useMemo(()=>b,Object.values(b));return S.jsx(x.Provider,{value:A,children:R})};m.displayName=a+"Provider";function v(w,I){const R=I?.[n]?.[f]||h,b=T.useContext(R);if(b)return b;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[m,v]}const o=()=>{const a=t.map(u=>T.createContext(u));return function(h){const f=h?.[n]||a;return T.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[i,iC(o,...e)]}function iC(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=i.reduce((h,{useScope:f,scopeName:m})=>{const w=f(a)[`__scope${m}`];return{...h,...w}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function sC(n){const e=n+"CollectionProvider",[t,i]=zp(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:A,children:j}=x,M=Ui.useRef(null),$=Ui.useRef(new Map).current;return S.jsx(o,{scope:A,itemMap:$,collectionRef:M,children:j})};u.displayName=e;const h=n+"CollectionSlot",f=Vl(h),m=Ui.forwardRef((x,A)=>{const{scope:j,children:M}=x,$=a(h,j),G=Ft(A,$.collectionRef);return S.jsx(f,{ref:G,children:M})});m.displayName=h;const v=n+"CollectionItemSlot",w="data-radix-collection-item",I=Vl(v),R=Ui.forwardRef((x,A)=>{const{scope:j,children:M,...$}=x,G=Ui.useRef(null),J=Ft(A,G),ie=a(v,j);return Ui.useEffect(()=>(ie.itemMap.set(G,{ref:G,...$}),()=>void ie.itemMap.delete(G))),S.jsx(I,{[w]:"",ref:J,children:M})});R.displayName=v;function b(x){const A=a(n+"CollectionConsumer",x);return Ui.useCallback(()=>{const M=A.collectionRef.current;if(!M)return[];const $=Array.from(M.querySelectorAll(`[${w}]`));return Array.from(A.itemMap.values()).sort((ie,k)=>$.indexOf(ie.ref.current)-$.indexOf(k.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:u,Slot:m,ItemSlot:R},b,i]}var oC=T.createContext(void 0);function aC(n){const e=T.useContext(oC);return n||e||"ltr"}function Fs(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>e.current?.(...t),[])}function lC(n,e=globalThis?.document){const t=Fs(n);T.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var uC="DismissableLayer",ip="dismissableLayer.update",cC="dismissableLayer.pointerDownOutside",dC="dismissableLayer.focusOutside",Sv,Uw=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bw=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...f}=n,m=T.useContext(Uw),[v,w]=T.useState(null),I=v?.ownerDocument??globalThis?.document,[,R]=T.useState({}),b=Ft(e,k=>w(k)),x=Array.from(m.layers),[A]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(A),M=v?x.indexOf(v):-1,$=m.layersWithOutsidePointerEventsDisabled.size>0,G=M>=j,J=pC(k=>{const P=k.target,N=[...m.branches].some(L=>L.contains(P));!G||N||(o?.(k),u?.(k),k.defaultPrevented||h?.())},I),ie=mC(k=>{const P=k.target;[...m.branches].some(L=>L.contains(P))||(a?.(k),u?.(k),k.defaultPrevented||h?.())},I);return lC(k=>{M===m.layers.size-1&&(i?.(k),!k.defaultPrevented&&h&&(k.preventDefault(),h()))},I),T.useEffect(()=>{if(v)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Sv=I.body.style.pointerEvents,I.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),Iv(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(I.body.style.pointerEvents=Sv)}},[v,I,t,m]),T.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),Iv())},[v,m]),T.useEffect(()=>{const k=()=>R({});return document.addEventListener(ip,k),()=>document.removeEventListener(ip,k)},[]),S.jsx(ct.div,{...f,ref:b,style:{pointerEvents:$?G?"auto":"none":void 0,...n.style},onFocusCapture:vt(n.onFocusCapture,ie.onFocusCapture),onBlurCapture:vt(n.onBlurCapture,ie.onBlurCapture),onPointerDownCapture:vt(n.onPointerDownCapture,J.onPointerDownCapture)})});Bw.displayName=uC;var hC="DismissableLayerBranch",fC=T.forwardRef((n,e)=>{const t=T.useContext(Uw),i=T.useRef(null),o=Ft(e,i);return T.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),S.jsx(ct.div,{...n,ref:o})});fC.displayName=hC;function pC(n,e=globalThis?.document){const t=Fs(n),i=T.useRef(!1),o=T.useRef(()=>{});return T.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let f=function(){zw(cC,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function mC(n,e=globalThis?.document){const t=Fs(n),i=T.useRef(!1);return T.useEffect(()=>{const o=a=>{a.target&&!i.current&&zw(dC,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Iv(){const n=new CustomEvent(ip);document.dispatchEvent(n)}function zw(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?tC(o,a):o.dispatchEvent(a)}var Nf=0;function gC(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??xv()),document.body.insertAdjacentElement("beforeend",n[1]??xv()),Nf++,()=>{Nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nf--}},[])}function xv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Of="focusScope.autoFocusOnMount",Df="focusScope.autoFocusOnUnmount",Cv={bubbles:!1,cancelable:!0},yC="FocusScope",$w=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=n,[h,f]=T.useState(null),m=Fs(o),v=Fs(a),w=T.useRef(null),I=Ft(e,x=>f(x)),R=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(i){let x=function($){if(R.paused||!h)return;const G=$.target;h.contains(G)?w.current=G:Bi(w.current,{select:!0})},A=function($){if(R.paused||!h)return;const G=$.relatedTarget;G!==null&&(h.contains(G)||Bi(w.current,{select:!0}))},j=function($){if(document.activeElement===document.body)for(const J of $)J.removedNodes.length>0&&Bi(h)};document.addEventListener("focusin",x),document.addEventListener("focusout",A);const M=new MutationObserver(j);return h&&M.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",A),M.disconnect()}}},[i,h,R.paused]),T.useEffect(()=>{if(h){Av.add(R);const x=document.activeElement;if(!h.contains(x)){const j=new CustomEvent(Of,Cv);h.addEventListener(Of,m),h.dispatchEvent(j),j.defaultPrevented||(vC(SC(Ww(h)),{select:!0}),document.activeElement===x&&Bi(h))}return()=>{h.removeEventListener(Of,m),setTimeout(()=>{const j=new CustomEvent(Df,Cv);h.addEventListener(Df,v),h.dispatchEvent(j),j.defaultPrevented||Bi(x??document.body,{select:!0}),h.removeEventListener(Df,v),Av.remove(R)},0)}}},[h,m,v,R]);const b=T.useCallback(x=>{if(!t&&!i||R.paused)return;const A=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(A&&j){const M=x.currentTarget,[$,G]=_C(M);$&&G?!x.shiftKey&&j===G?(x.preventDefault(),t&&Bi($,{select:!0})):x.shiftKey&&j===$&&(x.preventDefault(),t&&Bi(G,{select:!0})):j===M&&x.preventDefault()}},[t,i,R.paused]);return S.jsx(ct.div,{tabIndex:-1,...u,ref:I,onKeyDown:b})});$w.displayName=yC;function vC(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Bi(i,{select:e}),document.activeElement!==t)return}function _C(n){const e=Ww(n),t=Rv(e,n),i=Rv(e.reverse(),n);return[t,i]}function Ww(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Rv(n,e){for(const t of n)if(!wC(t,{upTo:e}))return t}function wC(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function EC(n){return n instanceof HTMLInputElement&&"select"in n}function Bi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&EC(n)&&e&&n.select()}}var Av=TC();function TC(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Pv(n,e),n.unshift(e)},remove(e){n=Pv(n,e),n[0]?.resume()}}}function Pv(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function SC(n){return n.filter(e=>e.tagName!=="A")}var cn=globalThis?.document?T.useLayoutEffect:()=>{},IC=Aw[" useId ".trim().toString()]||(()=>{}),xC=0;function $p(n){const[e,t]=T.useState(IC());return cn(()=>{t(i=>i??String(xC++))},[n]),n||(e?`radix-${e}`:"")}const CC=["top","right","bottom","left"],Zi=Math.min,vn=Math.max,td=Math.round,bc=Math.floor,Tr=n=>({x:n,y:n}),RC={left:"right",right:"left",bottom:"top",top:"bottom"},AC={start:"end",end:"start"};function sp(n,e,t){return vn(n,Zi(e,t))}function si(n,e){return typeof n=="function"?n(e):n}function oi(n){return n.split("-")[0]}function ga(n){return n.split("-")[1]}function Wp(n){return n==="x"?"y":"x"}function Hp(n){return n==="y"?"height":"width"}const PC=new Set(["top","bottom"]);function wr(n){return PC.has(oi(n))?"y":"x"}function qp(n){return Wp(wr(n))}function bC(n,e,t){t===void 0&&(t=!1);const i=ga(n),o=qp(n),a=Hp(o);let u=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=nd(u)),[u,nd(u)]}function kC(n){const e=nd(n);return[op(n),e,op(e)]}function op(n){return n.replace(/start|end/g,e=>AC[e])}const bv=["left","right"],kv=["right","left"],NC=["top","bottom"],OC=["bottom","top"];function DC(n,e,t){switch(n){case"top":case"bottom":return t?e?kv:bv:e?bv:kv;case"left":case"right":return e?NC:OC;default:return[]}}function LC(n,e,t,i){const o=ga(n);let a=DC(oi(n),t==="start",i);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(op)))),a}function nd(n){return n.replace(/left|right|bottom|top/g,e=>RC[e])}function MC(n){return{top:0,right:0,bottom:0,left:0,...n}}function Hw(n){return typeof n!="number"?MC(n):{top:n,right:n,bottom:n,left:n}}function rd(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function Nv(n,e,t){let{reference:i,floating:o}=n;const a=wr(e),u=qp(e),h=Hp(u),f=oi(e),m=a==="y",v=i.x+i.width/2-o.width/2,w=i.y+i.height/2-o.height/2,I=i[h]/2-o[h]/2;let R;switch(f){case"top":R={x:v,y:i.y-o.height};break;case"bottom":R={x:v,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:w};break;case"left":R={x:i.x-o.width,y:w};break;default:R={x:i.x,y:i.y}}switch(ga(e)){case"start":R[u]-=I*(t&&m?-1:1);break;case"end":R[u]+=I*(t&&m?-1:1);break}return R}const VC=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:u}=t,h=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:n,floating:e,strategy:o}),{x:v,y:w}=Nv(m,i,f),I=i,R={},b=0;for(let x=0;x<h.length;x++){const{name:A,fn:j}=h[x],{x:M,y:$,data:G,reset:J}=await j({x:v,y:w,initialPlacement:i,placement:I,strategy:o,middlewareData:R,rects:m,platform:u,elements:{reference:n,floating:e}});v=M??v,w=$??w,R={...R,[A]:{...R[A],...G}},J&&b<=50&&(b++,typeof J=="object"&&(J.placement&&(I=J.placement),J.rects&&(m=J.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):J.rects),{x:v,y:w}=Nv(m,I,f)),x=-1)}return{x:v,y:w,placement:I,strategy:o,middlewareData:R}};async function Fl(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:u,elements:h,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:I=!1,padding:R=0}=si(e,n),b=Hw(R),A=h[I?w==="floating"?"reference":"floating":w],j=rd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:v,strategy:f})),M=w==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),G=await(a.isElement==null?void 0:a.isElement($))?await(a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},J=rd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:M,offsetParent:$,strategy:f}):M);return{top:(j.top-J.top+b.top)/G.y,bottom:(J.bottom-j.bottom+b.bottom)/G.y,left:(j.left-J.left+b.left)/G.x,right:(J.right-j.right+b.right)/G.x}}const FC=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:a,platform:u,elements:h,middlewareData:f}=e,{element:m,padding:v=0}=si(n,e)||{};if(m==null)return{};const w=Hw(v),I={x:t,y:i},R=qp(o),b=Hp(R),x=await u.getDimensions(m),A=R==="y",j=A?"top":"left",M=A?"bottom":"right",$=A?"clientHeight":"clientWidth",G=a.reference[b]+a.reference[R]-I[R]-a.floating[b],J=I[R]-a.reference[R],ie=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let k=ie?ie[$]:0;(!k||!await(u.isElement==null?void 0:u.isElement(ie)))&&(k=h.floating[$]||a.floating[b]);const P=G/2-J/2,N=k/2-x[b]/2-1,L=Zi(w[j],N),F=Zi(w[M],N),V=L,O=k-x[b]-F,ve=k/2-x[b]/2+P,Oe=sp(V,ve,O),_e=!f.arrow&&ga(o)!=null&&ve!==Oe&&a.reference[b]/2-(ve<V?L:F)-x[b]/2<0,fe=_e?ve<V?ve-V:ve-O:0;return{[R]:I[R]+fe,data:{[R]:Oe,centerOffset:ve-Oe-fe,..._e&&{alignmentOffset:fe}},reset:_e}}}),jC=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:a,rects:u,initialPlacement:h,platform:f,elements:m}=e,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:I,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...A}=si(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const j=oi(o),M=wr(h),$=oi(h)===h,G=await(f.isRTL==null?void 0:f.isRTL(m.floating)),J=I||($||!x?[nd(h)]:kC(h)),ie=b!=="none";!I&&ie&&J.push(...LC(h,x,b,G));const k=[h,...J],P=await Fl(e,A),N=[];let L=((i=a.flip)==null?void 0:i.overflows)||[];if(v&&N.push(P[j]),w){const ve=bC(o,u,G);N.push(P[ve[0]],P[ve[1]])}if(L=[...L,{placement:o,overflows:N}],!N.every(ve=>ve<=0)){var F,V;const ve=(((F=a.flip)==null?void 0:F.index)||0)+1,Oe=k[ve];if(Oe&&(!(w==="alignment"?M!==wr(Oe):!1)||L.every(Y=>wr(Y.placement)===M?Y.overflows[0]>0:!0)))return{data:{index:ve,overflows:L},reset:{placement:Oe}};let _e=(V=L.filter(fe=>fe.overflows[0]<=0).sort((fe,Y)=>fe.overflows[1]-Y.overflows[1])[0])==null?void 0:V.placement;if(!_e)switch(R){case"bestFit":{var O;const fe=(O=L.filter(Y=>{if(ie){const ae=wr(Y.placement);return ae===M||ae==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ae=>ae>0).reduce((ae,oe)=>ae+oe,0)]).sort((Y,ae)=>Y[1]-ae[1])[0])==null?void 0:O[0];fe&&(_e=fe);break}case"initialPlacement":_e=h;break}if(o!==_e)return{reset:{placement:_e}}}return{}}}};function Ov(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Dv(n){return CC.some(e=>n[e]>=0)}const UC=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...o}=si(n,e);switch(i){case"referenceHidden":{const a=await Fl(e,{...o,elementContext:"reference"}),u=Ov(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Dv(u)}}}case"escaped":{const a=await Fl(e,{...o,altBoundary:!0}),u=Ov(a,t.floating);return{data:{escapedOffsets:u,escaped:Dv(u)}}}default:return{}}}}},qw=new Set(["left","top"]);async function BC(n,e){const{placement:t,platform:i,elements:o}=n,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=oi(t),h=ga(t),f=wr(t)==="y",m=qw.has(u)?-1:1,v=a&&f?-1:1,w=si(e,n);let{mainAxis:I,crossAxis:R,alignmentAxis:b}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof b=="number"&&(R=h==="end"?b*-1:b),f?{x:R*v,y:I*m}:{x:I*m,y:R*v}}const zC=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:a,placement:u,middlewareData:h}=e,f=await BC(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:u}}}}},$C=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:A=>{let{x:j,y:M}=A;return{x:j,y:M}}},...f}=si(n,e),m={x:t,y:i},v=await Fl(e,f),w=wr(oi(o)),I=Wp(w);let R=m[I],b=m[w];if(a){const A=I==="y"?"top":"left",j=I==="y"?"bottom":"right",M=R+v[A],$=R-v[j];R=sp(M,R,$)}if(u){const A=w==="y"?"top":"left",j=w==="y"?"bottom":"right",M=b+v[A],$=b-v[j];b=sp(M,b,$)}const x=h.fn({...e,[I]:R,[w]:b});return{...x,data:{x:x.x-t,y:x.y-i,enabled:{[I]:a,[w]:u}}}}}},WC=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:a,middlewareData:u}=e,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=si(n,e),v={x:t,y:i},w=wr(o),I=Wp(w);let R=v[I],b=v[w];const x=si(h,e),A=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(f){const $=I==="y"?"height":"width",G=a.reference[I]-a.floating[$]+A.mainAxis,J=a.reference[I]+a.reference[$]-A.mainAxis;R<G?R=G:R>J&&(R=J)}if(m){var j,M;const $=I==="y"?"width":"height",G=qw.has(oi(o)),J=a.reference[w]-a.floating[$]+(G&&((j=u.offset)==null?void 0:j[w])||0)+(G?0:A.crossAxis),ie=a.reference[w]+a.reference[$]+(G?0:((M=u.offset)==null?void 0:M[w])||0)-(G?A.crossAxis:0);b<J?b=J:b>ie&&(b=ie)}return{[I]:R,[w]:b}}}},HC=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:a,platform:u,elements:h}=e,{apply:f=()=>{},...m}=si(n,e),v=await Fl(e,m),w=oi(o),I=ga(o),R=wr(o)==="y",{width:b,height:x}=a.floating;let A,j;w==="top"||w==="bottom"?(A=w,j=I===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(j=w,A=I==="end"?"top":"bottom");const M=x-v.top-v.bottom,$=b-v.left-v.right,G=Zi(x-v[A],M),J=Zi(b-v[j],$),ie=!e.middlewareData.shift;let k=G,P=J;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=$),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(k=M),ie&&!I){const L=vn(v.left,0),F=vn(v.right,0),V=vn(v.top,0),O=vn(v.bottom,0);R?P=b-2*(L!==0||F!==0?L+F:vn(v.left,v.right)):k=x-2*(V!==0||O!==0?V+O:vn(v.top,v.bottom))}await f({...e,availableWidth:P,availableHeight:k});const N=await u.getDimensions(h.floating);return b!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function xd(){return typeof window<"u"}function ya(n){return Kw(n)?(n.nodeName||"").toLowerCase():"#document"}function _n(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function kr(n){var e;return(e=(Kw(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Kw(n){return xd()?n instanceof Node||n instanceof _n(n).Node:!1}function Zn(n){return xd()?n instanceof Element||n instanceof _n(n).Element:!1}function Rr(n){return xd()?n instanceof HTMLElement||n instanceof _n(n).HTMLElement:!1}function Lv(n){return!xd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof _n(n).ShadowRoot}const qC=new Set(["inline","contents"]);function Zl(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=er(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!qC.has(o)}const KC=new Set(["table","td","th"]);function GC(n){return KC.has(ya(n))}const QC=[":popover-open",":modal"];function Cd(n){return QC.some(e=>{try{return n.matches(e)}catch{return!1}})}const YC=["transform","translate","scale","rotate","perspective"],XC=["transform","translate","scale","rotate","perspective","filter"],JC=["paint","layout","strict","content"];function Kp(n){const e=Gp(),t=Zn(n)?er(n):n;return YC.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||XC.some(i=>(t.willChange||"").includes(i))||JC.some(i=>(t.contain||"").includes(i))}function ZC(n){let e=es(n);for(;Rr(e)&&!oa(e);){if(Kp(e))return e;if(Cd(e))return null;e=es(e)}return null}function Gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eR=new Set(["html","body","#document"]);function oa(n){return eR.has(ya(n))}function er(n){return _n(n).getComputedStyle(n)}function Rd(n){return Zn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function es(n){if(ya(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Lv(n)&&n.host||kr(n);return Lv(e)?e.host:e}function Gw(n){const e=es(n);return oa(e)?n.ownerDocument?n.ownerDocument.body:n.body:Rr(e)&&Zl(e)?e:Gw(e)}function jl(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=Gw(n),a=o===((i=n.ownerDocument)==null?void 0:i.body),u=_n(o);if(a){const h=ap(u);return e.concat(u,u.visualViewport||[],Zl(o)?o:[],h&&t?jl(h):[])}return e.concat(o,jl(o,[],t))}function ap(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Qw(n){const e=er(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=Rr(n),a=o?n.offsetWidth:t,u=o?n.offsetHeight:i,h=td(t)!==a||td(i)!==u;return h&&(t=a,i=u),{width:t,height:i,$:h}}function Qp(n){return Zn(n)?n:n.contextElement}function ea(n){const e=Qp(n);if(!Rr(e))return Tr(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:a}=Qw(e);let u=(a?td(t.width):t.width)/i,h=(a?td(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const tR=Tr(0);function Yw(n){const e=_n(n);return!Gp()||!e.visualViewport?tR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nR(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==_n(n)?!1:e}function js(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=Qp(n);let u=Tr(1);e&&(i?Zn(i)&&(u=ea(i)):u=ea(n));const h=nR(a,t,i)?Yw(a):Tr(0);let f=(o.left+h.x)/u.x,m=(o.top+h.y)/u.y,v=o.width/u.x,w=o.height/u.y;if(a){const I=_n(a),R=i&&Zn(i)?_n(i):i;let b=I,x=ap(b);for(;x&&i&&R!==b;){const A=ea(x),j=x.getBoundingClientRect(),M=er(x),$=j.left+(x.clientLeft+parseFloat(M.paddingLeft))*A.x,G=j.top+(x.clientTop+parseFloat(M.paddingTop))*A.y;f*=A.x,m*=A.y,v*=A.x,w*=A.y,f+=$,m+=G,b=_n(x),x=ap(b)}}return rd({width:v,height:w,x:f,y:m})}function Ad(n,e){const t=Rd(n).scrollLeft;return e?e.left+t:js(kr(n)).left+t}function Xw(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-Ad(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function rR(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const a=o==="fixed",u=kr(i),h=e?Cd(e.floating):!1;if(i===u||h&&a)return t;let f={scrollLeft:0,scrollTop:0},m=Tr(1);const v=Tr(0),w=Rr(i);if((w||!w&&!a)&&((ya(i)!=="body"||Zl(u))&&(f=Rd(i)),Rr(i))){const R=js(i);m=ea(i),v.x=R.x+i.clientLeft,v.y=R.y+i.clientTop}const I=u&&!w&&!a?Xw(u,f):Tr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+v.x+I.x,y:t.y*m.y-f.scrollTop*m.y+v.y+I.y}}function iR(n){return Array.from(n.getClientRects())}function sR(n){const e=kr(n),t=Rd(n),i=n.ownerDocument.body,o=vn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=vn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-t.scrollLeft+Ad(n);const h=-t.scrollTop;return er(i).direction==="rtl"&&(u+=vn(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:u,y:h}}const Mv=25;function oR(n,e){const t=_n(n),i=kr(n),o=t.visualViewport;let a=i.clientWidth,u=i.clientHeight,h=0,f=0;if(o){a=o.width,u=o.height;const v=Gp();(!v||v&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const m=Ad(i);if(m<=0){const v=i.ownerDocument,w=v.body,I=getComputedStyle(w),R=v.compatMode==="CSS1Compat"&&parseFloat(I.marginLeft)+parseFloat(I.marginRight)||0,b=Math.abs(i.clientWidth-w.clientWidth-R);b<=Mv&&(a-=b)}else m<=Mv&&(a+=m);return{width:a,height:u,x:h,y:f}}const aR=new Set(["absolute","fixed"]);function lR(n,e){const t=js(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,a=Rr(n)?ea(n):Tr(1),u=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,m=i*a.y;return{width:u,height:h,x:f,y:m}}function Vv(n,e,t){let i;if(e==="viewport")i=oR(n,t);else if(e==="document")i=sR(kr(n));else if(Zn(e))i=lR(e,t);else{const o=Yw(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return rd(i)}function Jw(n,e){const t=es(n);return t===e||!Zn(t)||oa(t)?!1:er(t).position==="fixed"||Jw(t,e)}function uR(n,e){const t=e.get(n);if(t)return t;let i=jl(n,[],!1).filter(h=>Zn(h)&&ya(h)!=="body"),o=null;const a=er(n).position==="fixed";let u=a?es(n):n;for(;Zn(u)&&!oa(u);){const h=er(u),f=Kp(u);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&aR.has(o.position)||Zl(u)&&!f&&Jw(n,u))?i=i.filter(v=>v!==u):o=h,u=es(u)}return e.set(n,i),i}function cR(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const u=[...t==="clippingAncestors"?Cd(e)?[]:uR(e,this._c):[].concat(t),i],h=u[0],f=u.reduce((m,v)=>{const w=Vv(e,v,o);return m.top=vn(w.top,m.top),m.right=Zi(w.right,m.right),m.bottom=Zi(w.bottom,m.bottom),m.left=vn(w.left,m.left),m},Vv(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function dR(n){const{width:e,height:t}=Qw(n);return{width:e,height:t}}function hR(n,e,t){const i=Rr(e),o=kr(e),a=t==="fixed",u=js(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=Tr(0);function m(){f.x=Ad(o)}if(i||!i&&!a)if((ya(e)!=="body"||Zl(o))&&(h=Rd(e)),i){const R=js(e,!0,a,e);f.x=R.x+e.clientLeft,f.y=R.y+e.clientTop}else o&&m();a&&!i&&o&&m();const v=o&&!i&&!a?Xw(o,h):Tr(0),w=u.left+h.scrollLeft-f.x-v.x,I=u.top+h.scrollTop-f.y-v.y;return{x:w,y:I,width:u.width,height:u.height}}function Lf(n){return er(n).position==="static"}function Fv(n,e){if(!Rr(n)||er(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return kr(n)===t&&(t=t.ownerDocument.body),t}function Zw(n,e){const t=_n(n);if(Cd(n))return t;if(!Rr(n)){let o=es(n);for(;o&&!oa(o);){if(Zn(o)&&!Lf(o))return o;o=es(o)}return t}let i=Fv(n,e);for(;i&&GC(i)&&Lf(i);)i=Fv(i,e);return i&&oa(i)&&Lf(i)&&!Kp(i)?t:i||ZC(n)||t}const fR=async function(n){const e=this.getOffsetParent||Zw,t=this.getDimensions,i=await t(n.floating);return{reference:hR(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function pR(n){return er(n).direction==="rtl"}const mR={convertOffsetParentRelativeRectToViewportRelativeRect:rR,getDocumentElement:kr,getClippingRect:cR,getOffsetParent:Zw,getElementRects:fR,getClientRects:iR,getDimensions:dR,getScale:ea,isElement:Zn,isRTL:pR};function e0(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function gR(n,e){let t=null,i;const o=kr(n);function a(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function u(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:v,top:w,width:I,height:R}=m;if(h||e(),!I||!R)return;const b=bc(w),x=bc(o.clientWidth-(v+I)),A=bc(o.clientHeight-(w+R)),j=bc(v),$={rootMargin:-b+"px "+-x+"px "+-A+"px "+-j+"px",threshold:vn(0,Zi(1,f))||1};let G=!0;function J(ie){const k=ie[0].intersectionRatio;if(k!==f){if(!G)return u();k?u(!1,k):i=setTimeout(()=>{u(!1,1e-7)},1e3)}k===1&&!e0(m,n.getBoundingClientRect())&&u(),G=!1}try{t=new IntersectionObserver(J,{...$,root:o.ownerDocument})}catch{t=new IntersectionObserver(J,$)}t.observe(n)}return u(!0),a}function yR(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,m=Qp(n),v=o||a?[...m?jl(m):[],...jl(e)]:[];v.forEach(j=>{o&&j.addEventListener("scroll",t,{passive:!0}),a&&j.addEventListener("resize",t)});const w=m&&h?gR(m,t):null;let I=-1,R=null;u&&(R=new ResizeObserver(j=>{let[M]=j;M&&M.target===m&&R&&(R.unobserve(e),cancelAnimationFrame(I),I=requestAnimationFrame(()=>{var $;($=R)==null||$.observe(e)})),t()}),m&&!f&&R.observe(m),R.observe(e));let b,x=f?js(n):null;f&&A();function A(){const j=js(n);x&&!e0(x,j)&&t(),x=j,b=requestAnimationFrame(A)}return t(),()=>{var j;v.forEach(M=>{o&&M.removeEventListener("scroll",t),a&&M.removeEventListener("resize",t)}),w?.(),(j=R)==null||j.disconnect(),R=null,f&&cancelAnimationFrame(b)}}const vR=zC,_R=$C,wR=jC,ER=HC,TR=UC,jv=FC,SR=WC,IR=(n,e,t)=>{const i=new Map,o={platform:mR,...t},a={...o.platform,_c:i};return VC(n,e,{...o,platform:a})};var xR=typeof document<"u",CR=function(){},zc=xR?T.useLayoutEffect:CR;function id(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!id(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const a=o[i];if(!(a==="_owner"&&n.$$typeof)&&!id(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function t0(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Uv(n,e){const t=t0(n);return Math.round(e*t)/t}function Mf(n){const e=T.useRef(n);return zc(()=>{e.current=n}),e}function RR(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:f,open:m}=n,[v,w]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[I,R]=T.useState(i);id(I,i)||R(i);const[b,x]=T.useState(null),[A,j]=T.useState(null),M=T.useCallback(Y=>{Y!==ie.current&&(ie.current=Y,x(Y))},[]),$=T.useCallback(Y=>{Y!==k.current&&(k.current=Y,j(Y))},[]),G=a||b,J=u||A,ie=T.useRef(null),k=T.useRef(null),P=T.useRef(v),N=f!=null,L=Mf(f),F=Mf(o),V=Mf(m),O=T.useCallback(()=>{if(!ie.current||!k.current)return;const Y={placement:e,strategy:t,middleware:I};F.current&&(Y.platform=F.current),IR(ie.current,k.current,Y).then(ae=>{const oe={...ae,isPositioned:V.current!==!1};ve.current&&!id(P.current,oe)&&(P.current=oe,Jl.flushSync(()=>{w(oe)}))})},[I,e,t,F,V]);zc(()=>{m===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[m]);const ve=T.useRef(!1);zc(()=>(ve.current=!0,()=>{ve.current=!1}),[]),zc(()=>{if(G&&(ie.current=G),J&&(k.current=J),G&&J){if(L.current)return L.current(G,J,O);O()}},[G,J,O,L,N]);const Oe=T.useMemo(()=>({reference:ie,floating:k,setReference:M,setFloating:$}),[M,$]),_e=T.useMemo(()=>({reference:G,floating:J}),[G,J]),fe=T.useMemo(()=>{const Y={position:t,left:0,top:0};if(!_e.floating)return Y;const ae=Uv(_e.floating,v.x),oe=Uv(_e.floating,v.y);return h?{...Y,transform:"translate("+ae+"px, "+oe+"px)",...t0(_e.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:oe}},[t,h,_e.floating,v.x,v.y]);return T.useMemo(()=>({...v,update:O,refs:Oe,elements:_e,floatingStyles:fe}),[v,O,Oe,_e,fe])}const AR=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?jv({element:i.current,padding:o}).fn(t):{}:i?jv({element:i,padding:o}).fn(t):{}}}},PR=(n,e)=>({...vR(n),options:[n,e]}),bR=(n,e)=>({..._R(n),options:[n,e]}),kR=(n,e)=>({...SR(n),options:[n,e]}),NR=(n,e)=>({...wR(n),options:[n,e]}),OR=(n,e)=>({...ER(n),options:[n,e]}),DR=(n,e)=>({...TR(n),options:[n,e]}),LR=(n,e)=>({...AR(n),options:[n,e]});var MR="Arrow",n0=T.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...a}=n;return S.jsx(ct.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});n0.displayName=MR;var VR=n0;function FR(n){const[e,t]=T.useState(void 0);return cn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,h;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,h=m.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Yp="Popper",[r0,i0]=zp(Yp),[jR,s0]=r0(Yp),o0=n=>{const{__scopePopper:e,children:t}=n,[i,o]=T.useState(null);return S.jsx(jR,{scope:e,anchor:i,onAnchorChange:o,children:t})};o0.displayName=Yp;var a0="PopperAnchor",l0=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,a=s0(a0,t),u=T.useRef(null),h=Ft(e,u),f=T.useRef(null);return T.useEffect(()=>{const m=f.current;f.current=i?.current||u.current,m!==f.current&&a.onAnchorChange(f.current)}),i?null:S.jsx(ct.div,{...o,ref:h})});l0.displayName=a0;var Xp="PopperContent",[UR,BR]=r0(Xp),u0=T.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:I=!1,updatePositionStrategy:R="optimized",onPlaced:b,...x}=n,A=s0(Xp,t),[j,M]=T.useState(null),$=Ft(e,ue=>M(ue)),[G,J]=T.useState(null),ie=FR(G),k=ie?.width??0,P=ie?.height??0,N=i+(a!=="center"?"-"+a:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},F=Array.isArray(m)?m:[m],V=F.length>0,O={padding:L,boundary:F.filter($R),altBoundary:V},{refs:ve,floatingStyles:Oe,placement:_e,isPositioned:fe,middlewareData:Y}=RR({strategy:"fixed",placement:N,whileElementsMounted:(...ue)=>yR(...ue,{animationFrame:R==="always"}),elements:{reference:A.anchor},middleware:[PR({mainAxis:o+P,alignmentAxis:u}),f&&bR({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?kR():void 0,...O}),f&&NR({...O}),OR({...O,apply:({elements:ue,rects:we,availableWidth:Le,availableHeight:be})=>{const{width:Be,height:Qe}=we.reference,dt=ue.floating.style;dt.setProperty("--radix-popper-available-width",`${Le}px`),dt.setProperty("--radix-popper-available-height",`${be}px`),dt.setProperty("--radix-popper-anchor-width",`${Be}px`),dt.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),G&&LR({element:G,padding:h}),WR({arrowWidth:k,arrowHeight:P}),I&&DR({strategy:"referenceHidden",...O})]}),[ae,oe]=h0(_e),z=Fs(b);cn(()=>{fe&&z?.()},[fe,z]);const X=Y.arrow?.x,pe=Y.arrow?.y,xe=Y.arrow?.centerOffset!==0,[Ae,De]=T.useState();return cn(()=>{j&&De(window.getComputedStyle(j).zIndex)},[j]),S.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:fe?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:S.jsx(UR,{scope:t,placedSide:ae,onArrowChange:J,arrowX:X,arrowY:pe,shouldHideArrow:xe,children:S.jsx(ct.div,{"data-side":ae,"data-align":oe,...x,ref:$,style:{...x.style,animation:fe?void 0:"none"}})})})});u0.displayName=Xp;var c0="PopperArrow",zR={top:"bottom",right:"left",bottom:"top",left:"right"},d0=T.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,a=BR(c0,i),u=zR[a.placedSide];return S.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:S.jsx(VR,{...o,ref:t,style:{...o.style,display:"block"}})})});d0.displayName=c0;function $R(n){return n!==null}var WR=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,h=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[m,v]=h0(t),w={start:"0%",center:"50%",end:"100%"}[v],I=(o.arrow?.x??0)+h/2,R=(o.arrow?.y??0)+f/2;let b="",x="";return m==="bottom"?(b=u?w:`${I}px`,x=`${-f}px`):m==="top"?(b=u?w:`${I}px`,x=`${i.floating.height+f}px`):m==="right"?(b=`${-f}px`,x=u?w:`${R}px`):m==="left"&&(b=`${i.floating.width+f}px`,x=u?w:`${R}px`),{data:{x:b,y:x}}}});function h0(n){const[e,t="center"]=n.split("-");return[e,t]}var HR=o0,qR=l0,KR=u0,GR=d0,QR="Portal",f0=T.forwardRef((n,e)=>{const{container:t,...i}=n,[o,a]=T.useState(!1);cn(()=>a(!0),[]);const u=t||o&&globalThis?.document?.body;return u?Zx.createPortal(S.jsx(ct.div,{...i,ref:e}),u):null});f0.displayName=QR;var YR=Aw[" useInsertionEffect ".trim().toString()]||cn;function Bv({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,u]=XR({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const v=T.useRef(n!==void 0);T.useEffect(()=>{const w=v.current;w!==h&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=h},[h,i])}const m=T.useCallback(v=>{if(h){const w=JR(v)?v(n):v;w!==n&&u.current?.(w)}else a(v)},[h,n,a,u]);return[f,m]}function XR({defaultProp:n,onChange:e}){const[t,i]=T.useState(n),o=T.useRef(t),a=T.useRef(e);return YR(()=>{a.current=e},[e]),T.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,i,a]}function JR(n){return typeof n=="function"}function ZR(n){const e=T.useRef({value:n,previous:n});return T.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var p0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eA="VisuallyHidden",tA=T.forwardRef((n,e)=>S.jsx(ct.span,{...n,ref:e,style:{...p0,...n.style}}));tA.displayName=eA;var nA=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ho=new WeakMap,kc=new WeakMap,Nc={},Vf=0,m0=function(n){return n&&(n.host||m0(n.parentNode))},rA=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=m0(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},iA=function(n,e,t,i){var o=rA(e,Array.isArray(n)?n:[n]);Nc[t]||(Nc[t]=new WeakMap);var a=Nc[t],u=[],h=new Set,f=new Set(o),m=function(w){!w||h.has(w)||(h.add(w),m(w.parentNode))};o.forEach(m);var v=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(I){if(h.has(I))v(I);else try{var R=I.getAttribute(i),b=R!==null&&R!=="false",x=(Ho.get(I)||0)+1,A=(a.get(I)||0)+1;Ho.set(I,x),a.set(I,A),u.push(I),x===1&&b&&kc.set(I,!0),A===1&&I.setAttribute(t,"true"),b||I.setAttribute(i,"true")}catch(j){console.error("aria-hidden: cannot operate on ",I,j)}})};return v(e),h.clear(),Vf++,function(){u.forEach(function(w){var I=Ho.get(w)-1,R=a.get(w)-1;Ho.set(w,I),a.set(w,R),I||(kc.has(w)||w.removeAttribute(i),kc.delete(w)),R||w.removeAttribute(t)}),Vf--,Vf||(Ho=new WeakMap,Ho=new WeakMap,kc=new WeakMap,Nc={})}},sA=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=nA(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),iA(i,o,t,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_r.apply(this,arguments)};function eu(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function oA(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var $c="right-scroll-bar-position",Wc="width-before-scroll-bar",aA="with-scroll-bars-hidden",lA="--removed-body-scroll-bar-size";function Ff(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function uA(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var cA=typeof window<"u"?T.useLayoutEffect:T.useEffect,zv=new WeakMap;function dA(n,e){var t=uA(null,function(i){return n.forEach(function(o){return Ff(o,i)})});return cA(function(){var i=zv.get(t);if(i){var o=new Set(i),a=new Set(n),u=t.current;o.forEach(function(h){a.has(h)||Ff(h,null)}),a.forEach(function(h){o.has(h)||Ff(h,u)})}zv.set(t,n)},[n]),t}function hA(n){return n}function fA(n,e){e===void 0&&(e=hA);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,i);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(a){for(i=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(a),u=t}var f=function(){var v=u;u=[],v.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),t}}}};return o}function pA(n){n===void 0&&(n={});var e=fA(null);return e.options=_r({async:!0,ssr:!1},n),e}var g0=function(n){var e=n.sideCar,t=eu(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,_r({},t))};g0.isSideCarExport=!0;function mA(n,e){return n.useMedium(e),g0}var y0=pA(),jf=function(){},Pd=T.forwardRef(function(n,e){var t=T.useRef(null),i=T.useState({onScrollCapture:jf,onWheelCapture:jf,onTouchMoveCapture:jf}),o=i[0],a=i[1],u=n.forwardProps,h=n.children,f=n.className,m=n.removeScrollBar,v=n.enabled,w=n.shards,I=n.sideCar,R=n.noRelative,b=n.noIsolation,x=n.inert,A=n.allowPinchZoom,j=n.as,M=j===void 0?"div":j,$=n.gapMode,G=eu(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=I,ie=dA([t,e]),k=_r(_r({},G),o);return T.createElement(T.Fragment,null,v&&T.createElement(J,{sideCar:y0,removeScrollBar:m,shards:w,noRelative:R,noIsolation:b,inert:x,setCallbacks:a,allowPinchZoom:!!A,lockRef:t,gapMode:$}),u?T.cloneElement(T.Children.only(h),_r(_r({},k),{ref:ie})):T.createElement(M,_r({},k,{className:f,ref:ie}),h))});Pd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pd.classNames={fullWidth:Wc,zeroRight:$c};var gA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yA(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=gA();return e&&n.setAttribute("nonce",e),n}function vA(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function _A(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var wA=function(){var n=0,e=null;return{add:function(t){n==0&&(e=yA())&&(vA(e,t),_A(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},EA=function(){var n=wA();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},v0=function(){var n=EA(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},TA={left:0,top:0,right:0,gap:0},Uf=function(n){return parseInt(n||"",10)||0},SA=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Uf(t),Uf(i),Uf(o)]},IA=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return TA;var e=SA(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},xA=v0(),ta="data-scroll-locked",CA=function(n,e,t,i){var o=n.left,a=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(aA,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($c,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Wc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat($c," .").concat($c,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(lA,": ").concat(h,`px;
  }
`)},$v=function(){var n=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(n)?n:0},RA=function(){T.useEffect(function(){return document.body.setAttribute(ta,($v()+1).toString()),function(){var n=$v()-1;n<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,n.toString())}},[])},AA=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;RA();var a=T.useMemo(function(){return IA(o)},[o]);return T.createElement(xA,{styles:CA(a,!e,o,t?"":"!important")})},lp=!1;if(typeof window<"u")try{var Oc=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",Oc,Oc),window.removeEventListener("test",Oc,Oc)}catch{lp=!1}var qo=lp?{passive:!1}:!1,PA=function(n){return n.tagName==="TEXTAREA"},_0=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!PA(n)&&t[e]==="visible")},bA=function(n){return _0(n,"overflowY")},kA=function(n){return _0(n,"overflowX")},Wv=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=w0(n,i);if(o){var a=E0(n,i),u=a[1],h=a[2];if(u>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},NA=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},OA=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},w0=function(n,e){return n==="v"?bA(e):kA(e)},E0=function(n,e){return n==="v"?NA(e):OA(e)},DA=function(n,e){return n==="h"&&e==="rtl"?-1:1},LA=function(n,e,t,i,o){var a=DA(n,window.getComputedStyle(e).direction),u=a*i,h=t.target,f=e.contains(h),m=!1,v=u>0,w=0,I=0;do{if(!h)break;var R=E0(n,h),b=R[0],x=R[1],A=R[2],j=x-A-a*b;(b||j)&&w0(n,h)&&(w+=j,I+=b);var M=h.parentNode;h=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(v&&Math.abs(w)<1||!v&&Math.abs(I)<1)&&(m=!0),m},Dc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Hv=function(n){return[n.deltaX,n.deltaY]},qv=function(n){return n&&"current"in n?n.current:n},MA=function(n,e){return n[0]===e[0]&&n[1]===e[1]},VA=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},FA=0,Ko=[];function jA(n){var e=T.useRef([]),t=T.useRef([0,0]),i=T.useRef(),o=T.useState(FA++)[0],a=T.useState(v0)[0],u=T.useRef(n);T.useEffect(function(){u.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var x=oA([n.lockRef.current],(n.shards||[]).map(qv),!0).filter(Boolean);return x.forEach(function(A){return A.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=T.useCallback(function(x,A){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!u.current.allowPinchZoom;var j=Dc(x),M=t.current,$="deltaX"in x?x.deltaX:M[0]-j[0],G="deltaY"in x?x.deltaY:M[1]-j[1],J,ie=x.target,k=Math.abs($)>Math.abs(G)?"h":"v";if("touches"in x&&k==="h"&&ie.type==="range")return!1;var P=Wv(k,ie);if(!P)return!0;if(P?J=k:(J=k==="v"?"h":"v",P=Wv(k,ie)),!P)return!1;if(!i.current&&"changedTouches"in x&&($||G)&&(i.current=J),!J)return!0;var N=i.current||J;return LA(N,A,x,N==="h"?$:G)},[]),f=T.useCallback(function(x){var A=x;if(!(!Ko.length||Ko[Ko.length-1]!==a)){var j="deltaY"in A?Hv(A):Dc(A),M=e.current.filter(function(J){return J.name===A.type&&(J.target===A.target||A.target===J.shadowParent)&&MA(J.delta,j)})[0];if(M&&M.should){A.cancelable&&A.preventDefault();return}if(!M){var $=(u.current.shards||[]).map(qv).filter(Boolean).filter(function(J){return J.contains(A.target)}),G=$.length>0?h(A,$[0]):!u.current.noIsolation;G&&A.cancelable&&A.preventDefault()}}},[]),m=T.useCallback(function(x,A,j,M){var $={name:x,delta:A,target:j,should:M,shadowParent:UA(j)};e.current.push($),setTimeout(function(){e.current=e.current.filter(function(G){return G!==$})},1)},[]),v=T.useCallback(function(x){t.current=Dc(x),i.current=void 0},[]),w=T.useCallback(function(x){m(x.type,Hv(x),x.target,h(x,n.lockRef.current))},[]),I=T.useCallback(function(x){m(x.type,Dc(x),x.target,h(x,n.lockRef.current))},[]);T.useEffect(function(){return Ko.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:I}),document.addEventListener("wheel",f,qo),document.addEventListener("touchmove",f,qo),document.addEventListener("touchstart",v,qo),function(){Ko=Ko.filter(function(x){return x!==a}),document.removeEventListener("wheel",f,qo),document.removeEventListener("touchmove",f,qo),document.removeEventListener("touchstart",v,qo)}},[]);var R=n.removeScrollBar,b=n.inert;return T.createElement(T.Fragment,null,b?T.createElement(a,{styles:VA(o)}):null,R?T.createElement(AA,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function UA(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const BA=mA(y0,jA);var T0=T.forwardRef(function(n,e){return T.createElement(Pd,_r({},n,{ref:e,sideCar:BA}))});T0.classNames=Pd.classNames;var zA=[" ","Enter","ArrowUp","ArrowDown"],$A=[" ","Enter"],Us="Select",[bd,kd,WA]=sC(Us),[va]=zp(Us,[WA,i0]),Nd=i0(),[HA,is]=va(Us),[qA,KA]=va(Us),S0=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:a,value:u,defaultValue:h,onValueChange:f,dir:m,name:v,autoComplete:w,disabled:I,required:R,form:b}=n,x=Nd(e),[A,j]=T.useState(null),[M,$]=T.useState(null),[G,J]=T.useState(!1),ie=aC(m),[k,P]=Bv({prop:i,defaultProp:o??!1,onChange:a,caller:Us}),[N,L]=Bv({prop:u,defaultProp:h,onChange:f,caller:Us}),F=T.useRef(null),V=A?b||!!A.closest("form"):!0,[O,ve]=T.useState(new Set),Oe=Array.from(O).map(_e=>_e.props.value).join(";");return S.jsx(HR,{...x,children:S.jsxs(HA,{required:R,scope:e,trigger:A,onTriggerChange:j,valueNode:M,onValueNodeChange:$,valueNodeHasChildren:G,onValueNodeHasChildrenChange:J,contentId:$p(),value:N,onValueChange:L,open:k,onOpenChange:P,dir:ie,triggerPointerDownPosRef:F,disabled:I,children:[S.jsx(bd.Provider,{scope:e,children:S.jsx(qA,{scope:n.__scopeSelect,onNativeOptionAdd:T.useCallback(_e=>{ve(fe=>new Set(fe).add(_e))},[]),onNativeOptionRemove:T.useCallback(_e=>{ve(fe=>{const Y=new Set(fe);return Y.delete(_e),Y})},[]),children:t})}),V?S.jsxs(H0,{"aria-hidden":!0,required:R,tabIndex:-1,name:v,autoComplete:w,value:N,onChange:_e=>L(_e.target.value),disabled:I,form:b,children:[N===void 0?S.jsx("option",{value:""}):null,Array.from(O)]},Oe):null]})})};S0.displayName=Us;var I0="SelectTrigger",x0=T.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,a=Nd(t),u=is(I0,t),h=u.disabled||i,f=Ft(e,u.onTriggerChange),m=kd(t),v=T.useRef("touch"),[w,I,R]=K0(x=>{const A=m().filter($=>!$.disabled),j=A.find($=>$.value===u.value),M=G0(A,x,j);M!==void 0&&u.onValueChange(M.value)}),b=x=>{h||(u.onOpenChange(!0),R()),x&&(u.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return S.jsx(qR,{asChild:!0,...a,children:S.jsx(ct.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":q0(u.value)?"":void 0,...o,ref:f,onClick:vt(o.onClick,x=>{x.currentTarget.focus(),v.current!=="mouse"&&b(x)}),onPointerDown:vt(o.onPointerDown,x=>{v.current=x.pointerType;const A=x.target;A.hasPointerCapture(x.pointerId)&&A.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:vt(o.onKeyDown,x=>{const A=w.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&I(x.key),!(A&&x.key===" ")&&zA.includes(x.key)&&(b(),x.preventDefault())})})})});x0.displayName=I0;var C0="SelectValue",R0=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:a,placeholder:u="",...h}=n,f=is(C0,t),{onValueNodeHasChildrenChange:m}=f,v=a!==void 0,w=Ft(e,f.onValueNodeChange);return cn(()=>{m(v)},[m,v]),S.jsx(ct.span,{...h,ref:w,style:{pointerEvents:"none"},children:q0(f.value)?S.jsx(S.Fragment,{children:u}):a})});R0.displayName=C0;var GA="SelectIcon",A0=T.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return S.jsx(ct.span,{"aria-hidden":!0,...o,ref:e,children:i||"▼"})});A0.displayName=GA;var QA="SelectPortal",P0=n=>S.jsx(f0,{asChild:!0,...n});P0.displayName=QA;var Bs="SelectContent",b0=T.forwardRef((n,e)=>{const t=is(Bs,n.__scopeSelect),[i,o]=T.useState();if(cn(()=>{o(new DocumentFragment)},[]),!t.open){const a=i;return a?Jl.createPortal(S.jsx(k0,{scope:n.__scopeSelect,children:S.jsx(bd.Slot,{scope:n.__scopeSelect,children:S.jsx("div",{children:n.children})})}),a):null}return S.jsx(N0,{...n,ref:e})});b0.displayName=Bs;var Xn=10,[k0,ss]=va(Bs),YA="SelectContentImpl",XA=Vl("SelectContent.RemoveScroll"),N0=T.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:u,side:h,sideOffset:f,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:I,collisionPadding:R,sticky:b,hideWhenDetached:x,avoidCollisions:A,...j}=n,M=is(Bs,t),[$,G]=T.useState(null),[J,ie]=T.useState(null),k=Ft(e,ue=>G(ue)),[P,N]=T.useState(null),[L,F]=T.useState(null),V=kd(t),[O,ve]=T.useState(!1),Oe=T.useRef(!1);T.useEffect(()=>{if($)return sA($)},[$]),gC();const _e=T.useCallback(ue=>{const[we,...Le]=V().map(Qe=>Qe.ref.current),[be]=Le.slice(-1),Be=document.activeElement;for(const Qe of ue)if(Qe===Be||(Qe?.scrollIntoView({block:"nearest"}),Qe===we&&J&&(J.scrollTop=0),Qe===be&&J&&(J.scrollTop=J.scrollHeight),Qe?.focus(),document.activeElement!==Be))return},[V,J]),fe=T.useCallback(()=>_e([P,$]),[_e,P,$]);T.useEffect(()=>{O&&fe()},[O,fe]);const{onOpenChange:Y,triggerPointerDownPosRef:ae}=M;T.useEffect(()=>{if($){let ue={x:0,y:0};const we=be=>{ue={x:Math.abs(Math.round(be.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(ae.current?.y??0))}},Le=be=>{ue.x<=10&&ue.y<=10?be.preventDefault():$.contains(be.target)||Y(!1),document.removeEventListener("pointermove",we),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Le,{capture:!0})}}},[$,Y,ae]),T.useEffect(()=>{const ue=()=>Y(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Y]);const[oe,z]=K0(ue=>{const we=V().filter(Be=>!Be.disabled),Le=we.find(Be=>Be.ref.current===document.activeElement),be=G0(we,ue,Le);be&&setTimeout(()=>be.ref.current.focus())}),X=T.useCallback((ue,we,Le)=>{const be=!Oe.current&&!Le;(M.value!==void 0&&M.value===we||be)&&(N(ue),be&&(Oe.current=!0))},[M.value]),pe=T.useCallback(()=>$?.focus(),[$]),xe=T.useCallback((ue,we,Le)=>{const be=!Oe.current&&!Le;(M.value!==void 0&&M.value===we||be)&&F(ue)},[M.value]),Ae=i==="popper"?up:O0,De=Ae===up?{side:h,sideOffset:f,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:I,collisionPadding:R,sticky:b,hideWhenDetached:x,avoidCollisions:A}:{};return S.jsx(k0,{scope:t,content:$,viewport:J,onViewportChange:ie,itemRefCallback:X,selectedItem:P,onItemLeave:pe,itemTextRefCallback:xe,focusSelectedItem:fe,selectedItemText:L,position:i,isPositioned:O,searchRef:oe,children:S.jsx(T0,{as:XA,allowPinchZoom:!0,children:S.jsx($w,{asChild:!0,trapped:M.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:vt(o,ue=>{M.trigger?.focus({preventScroll:!0}),ue.preventDefault()}),children:S.jsx(Bw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:S.jsx(Ae,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:ue=>ue.preventDefault(),...j,...De,onPlaced:()=>ve(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:vt(j.onKeyDown,ue=>{const we=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!we&&ue.key.length===1&&z(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let be=V().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Be=ue.target,Qe=be.indexOf(Be);be=be.slice(Qe+1)}setTimeout(()=>_e(be)),ue.preventDefault()}})})})})})})});N0.displayName=YA;var JA="SelectItemAlignedPosition",O0=T.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,a=is(Bs,t),u=ss(Bs,t),[h,f]=T.useState(null),[m,v]=T.useState(null),w=Ft(e,k=>v(k)),I=kd(t),R=T.useRef(!1),b=T.useRef(!0),{viewport:x,selectedItem:A,selectedItemText:j,focusSelectedItem:M}=u,$=T.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&m&&x&&A&&j){const k=a.trigger.getBoundingClientRect(),P=m.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),L=j.getBoundingClientRect();if(a.dir!=="rtl"){const Be=L.left-P.left,Qe=N.left-Be,dt=k.left-Qe,Qt=k.width+dt,ar=Math.max(Qt,P.width),Or=window.innerWidth-Xn,Dr=Tv(Qe,[Xn,Math.max(Xn,Or-ar)]);h.style.minWidth=Qt+"px",h.style.left=Dr+"px"}else{const Be=P.right-L.right,Qe=window.innerWidth-N.right-Be,dt=window.innerWidth-k.right-Qe,Qt=k.width+dt,ar=Math.max(Qt,P.width),Or=window.innerWidth-Xn,Dr=Tv(Qe,[Xn,Math.max(Xn,Or-ar)]);h.style.minWidth=Qt+"px",h.style.right=Dr+"px"}const F=I(),V=window.innerHeight-Xn*2,O=x.scrollHeight,ve=window.getComputedStyle(m),Oe=parseInt(ve.borderTopWidth,10),_e=parseInt(ve.paddingTop,10),fe=parseInt(ve.borderBottomWidth,10),Y=parseInt(ve.paddingBottom,10),ae=Oe+_e+O+Y+fe,oe=Math.min(A.offsetHeight*5,ae),z=window.getComputedStyle(x),X=parseInt(z.paddingTop,10),pe=parseInt(z.paddingBottom,10),xe=k.top+k.height/2-Xn,Ae=V-xe,De=A.offsetHeight/2,ue=A.offsetTop+De,we=Oe+_e+ue,Le=ae-we;if(we<=xe){const Be=F.length>0&&A===F[F.length-1].ref.current;h.style.bottom="0px";const Qe=m.clientHeight-x.offsetTop-x.offsetHeight,dt=Math.max(Ae,De+(Be?pe:0)+Qe+fe),Qt=we+dt;h.style.height=Qt+"px"}else{const Be=F.length>0&&A===F[0].ref.current;h.style.top="0px";const dt=Math.max(xe,Oe+x.offsetTop+(Be?X:0)+De)+Le;h.style.height=dt+"px",x.scrollTop=we-xe+x.offsetTop}h.style.margin=`${Xn}px 0`,h.style.minHeight=oe+"px",h.style.maxHeight=V+"px",i?.(),requestAnimationFrame(()=>R.current=!0)}},[I,a.trigger,a.valueNode,h,m,x,A,j,a.dir,i]);cn(()=>$(),[$]);const[G,J]=T.useState();cn(()=>{m&&J(window.getComputedStyle(m).zIndex)},[m]);const ie=T.useCallback(k=>{k&&b.current===!0&&($(),M?.(),b.current=!1)},[$,M]);return S.jsx(eP,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:R,onScrollButtonChange:ie,children:S.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G},children:S.jsx(ct.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});O0.displayName=JA;var ZA="SelectPopperPosition",up=T.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Xn,...a}=n,u=Nd(t);return S.jsx(KR,{...u,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});up.displayName=ZA;var[eP,Jp]=va(Bs,{}),cp="SelectViewport",D0=T.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,a=ss(cp,t),u=Jp(cp,t),h=Ft(e,a.onViewportChange),f=T.useRef(0);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),S.jsx(bd.Slot,{scope:t,children:S.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:vt(o.onScroll,m=>{const v=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:I}=u;if(I?.current&&w){const R=Math.abs(f.current-v.scrollTop);if(R>0){const b=window.innerHeight-Xn*2,x=parseFloat(w.style.minHeight),A=parseFloat(w.style.height),j=Math.max(x,A);if(j<b){const M=j+R,$=Math.min(b,M),G=M-$;w.style.height=$+"px",w.style.bottom==="0px"&&(v.scrollTop=G>0?G:0,w.style.justifyContent="flex-end")}}}f.current=v.scrollTop})})})]})});D0.displayName=cp;var L0="SelectGroup",[tP,nP]=va(L0),rP=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=$p();return S.jsx(tP,{scope:t,id:o,children:S.jsx(ct.div,{role:"group","aria-labelledby":o,...i,ref:e})})});rP.displayName=L0;var M0="SelectLabel",iP=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=nP(M0,t);return S.jsx(ct.div,{id:o.id,...i,ref:e})});iP.displayName=M0;var sd="SelectItem",[sP,V0]=va(sd),F0=T.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:a,...u}=n,h=is(sd,t),f=ss(sd,t),m=h.value===i,[v,w]=T.useState(a??""),[I,R]=T.useState(!1),b=Ft(e,M=>f.itemRefCallback?.(M,i,o)),x=$p(),A=T.useRef("touch"),j=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return S.jsx(sP,{scope:t,value:i,disabled:o,textId:x,isSelected:m,onItemTextChange:T.useCallback(M=>{w($=>$||(M?.textContent??"").trim())},[]),children:S.jsx(bd.ItemSlot,{scope:t,value:i,disabled:o,textValue:v,children:S.jsx(ct.div,{role:"option","aria-labelledby":x,"data-highlighted":I?"":void 0,"aria-selected":m&&I,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:b,onFocus:vt(u.onFocus,()=>R(!0)),onBlur:vt(u.onBlur,()=>R(!1)),onClick:vt(u.onClick,()=>{A.current!=="mouse"&&j()}),onPointerUp:vt(u.onPointerUp,()=>{A.current==="mouse"&&j()}),onPointerDown:vt(u.onPointerDown,M=>{A.current=M.pointerType}),onPointerMove:vt(u.onPointerMove,M=>{A.current=M.pointerType,o?f.onItemLeave?.():A.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vt(u.onPointerLeave,M=>{M.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:vt(u.onKeyDown,M=>{f.searchRef?.current!==""&&M.key===" "||($A.includes(M.key)&&j(),M.key===" "&&M.preventDefault())})})})})});F0.displayName=sd;var xl="SelectItemText",j0=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...a}=n,u=is(xl,t),h=ss(xl,t),f=V0(xl,t),m=KA(xl,t),[v,w]=T.useState(null),I=Ft(e,j=>w(j),f.onItemTextChange,j=>h.itemTextRefCallback?.(j,f.value,f.disabled)),R=v?.textContent,b=T.useMemo(()=>S.jsx("option",{value:f.value,disabled:f.disabled,children:R},f.value),[f.disabled,f.value,R]),{onNativeOptionAdd:x,onNativeOptionRemove:A}=m;return cn(()=>(x(b),()=>A(b)),[x,A,b]),S.jsxs(S.Fragment,{children:[S.jsx(ct.span,{id:f.textId,...a,ref:I}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Jl.createPortal(a.children,u.valueNode):null]})});j0.displayName=xl;var U0="SelectItemIndicator",B0=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return V0(U0,t).isSelected?S.jsx(ct.span,{"aria-hidden":!0,...i,ref:e}):null});B0.displayName=U0;var dp="SelectScrollUpButton",z0=T.forwardRef((n,e)=>{const t=ss(dp,n.__scopeSelect),i=Jp(dp,n.__scopeSelect),[o,a]=T.useState(!1),u=Ft(e,i.onScrollButtonChange);return cn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=f.scrollTop>0;a(m)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?S.jsx(W0,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});z0.displayName=dp;var hp="SelectScrollDownButton",$0=T.forwardRef((n,e)=>{const t=ss(hp,n.__scopeSelect),i=Jp(hp,n.__scopeSelect),[o,a]=T.useState(!1),u=Ft(e,i.onScrollButtonChange);return cn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=f.scrollHeight-f.clientHeight,v=Math.ceil(f.scrollTop)<m;a(v)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?S.jsx(W0,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});$0.displayName=hp;var W0=T.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,a=ss("SelectScrollButton",t),u=T.useRef(null),h=kd(t),f=T.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return T.useEffect(()=>()=>f(),[f]),cn(()=>{h().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),S.jsx(ct.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:vt(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:vt(o.onPointerMove,()=>{a.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:vt(o.onPointerLeave,()=>{f()})})}),oP="SelectSeparator",aP=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return S.jsx(ct.div,{"aria-hidden":!0,...i,ref:e})});aP.displayName=oP;var fp="SelectArrow",lP=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=Nd(t),a=is(fp,t),u=ss(fp,t);return a.open&&u.position==="popper"?S.jsx(GR,{...o,...i,ref:e}):null});lP.displayName=fp;var uP="SelectBubbleInput",H0=T.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=T.useRef(null),a=Ft(i,o),u=ZR(e);return T.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==e&&v){const w=new Event("change",{bubbles:!0});v.call(h,e),h.dispatchEvent(w)}},[u,e]),S.jsx(ct.select,{...t,style:{...p0,...t.style},ref:a,defaultValue:e})});H0.displayName=uP;function q0(n){return n===""||n===void 0}function K0(n){const e=Fs(n),t=T.useRef(""),i=T.useRef(0),o=T.useCallback(u=>{const h=t.current+u;e(h),(function f(m){t.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=T.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,a]}function G0(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let u=cP(n,Math.max(a,0));o.length===1&&(u=u.filter(m=>m!==t));const f=u.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function cP(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var dP=S0,hP=x0,fP=R0,pP=A0,mP=P0,gP=b0,yP=D0,vP=F0,_P=j0,wP=B0,EP=z0,TP=$0;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Kv=n=>{const e=IP(n);return e.charAt(0).toUpperCase()+e.slice(1)},Q0=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...h},f)=>T.createElement("svg",{ref:f,...xP,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Q0("lucide",o),...h},[...u.map(([m,v])=>T.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=(n,e)=>{const t=T.forwardRef(({className:i,...o},a)=>T.createElement(CP,{ref:a,iconNode:e,className:Q0(`lucide-${SP(Kv(n))}`,`lucide-${n}`,i),...o}));return t.displayName=Kv(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AP=Zp("check",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Y0=Zp("chevron-down",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kP=Zp("chevron-up",bP);function Gv({...n}){return S.jsx(dP,{"data-slot":"select",...n})}function Qv({...n}){return S.jsx(fP,{"data-slot":"select-value",...n})}function Yv({className:n,size:e="default",children:t,...i}){return S.jsxs(hP,{"data-slot":"select-trigger","data-size":e,className:Dn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,S.jsx(pP,{asChild:!0,children:S.jsx(Y0,{className:"size-4 opacity-50"})})]})}function Xv({className:n,children:e,position:t="popper",...i}){return S.jsx(mP,{children:S.jsxs(gP,{"data-slot":"select-content",className:Dn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[S.jsx(NP,{}),S.jsx(yP,{className:Dn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),S.jsx(OP,{})]})})}function Go({className:n,children:e,...t}){return S.jsxs(vP,{"data-slot":"select-item",className:Dn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[S.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:S.jsx(wP,{children:S.jsx(AP,{className:"size-4"})})}),S.jsx(_P,{children:e})]})}function NP({className:n,...e}){return S.jsx(EP,{"data-slot":"select-scroll-up-button",className:Dn("flex cursor-default items-center justify-center py-1",n),...e,children:S.jsx(kP,{className:"size-4"})})}function OP({className:n,...e}){return S.jsx(TP,{"data-slot":"select-scroll-down-button",className:Dn("flex cursor-default items-center justify-center py-1",n),...e,children:S.jsx(Y0,{className:"size-4"})})}function DP({className:n,...e}){return S.jsx("textarea",{"data-slot":"textarea",className:Dn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},LP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},J0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|h>>4;let I=(h&15)<<2|m>>6,R=m&63;f||(R=64,u||(I=64)),i.push(t[v],t[w],t[I],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(X0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):LP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||w==null)throw new MP;const I=a<<2|h>>4;if(i.push(I),m!==64){const R=h<<4&240|m>>2;if(i.push(R),w!==64){const b=m<<6&192|w;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VP=function(n){const e=X0(n);return J0.encodeByteArray(e,!0)},od=function(n){return VP(n).replace(/\./g,"")},Z0=function(n){try{return J0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=()=>FP().__FIREBASE_DEFAULTS__,UP=()=>{if(typeof process>"u"||typeof Jv>"u")return;const n=Jv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Z0(n[1]);return e&&JSON.parse(e)},Od=()=>{try{return jP()||UP()||BP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eE=n=>{var e,t;return(t=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zP=n=>{const e=eE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},tE=()=>{var n;return(n=Od())===null||n===void 0?void 0:n.config},nE=n=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[od(JSON.stringify(t)),od(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function qP(){var n;const e=(n=Od())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QP(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function YP(){return!qP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iE(){try{return typeof indexedDB=="object"}catch{return!1}}function sE(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function XP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="FirebaseError";class ir extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=JP,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qs.prototype.create)}}class Qs{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?ZP(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new ir(o,h,i)}}function ZP(n,e){return n.replace(eb,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const eb=/\{\$([^}]+)}/g;function tb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ul(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(Zv(a)&&Zv(u)){if(!Ul(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Zv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Cl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Rl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function nb(n,e){const t=new rb(n,e);return t.subscribe.bind(t)}class rb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ib(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Bf),o.error===void 0&&(o.error=Bf),o.complete===void 0&&(o.complete=Bf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ib(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1e3,ob=2,ab=14400*1e3,lb=.5;function e_(n,e=sb,t=ob){const i=e*Math.pow(t,n),o=Math.round(lb*i*(Math.random()-.5)*2);return Math.min(ab,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class tr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new $P;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(db(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cb(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cb(n){return n===Ds?void 0:n}function db(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ub(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const fb={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},pb=Ue.INFO,mb={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},gb=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=mb[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=pb,this._logHandler=gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const yb=(n,e)=>e.some(t=>n instanceof t);let t_,n_;function vb(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _b(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,pp=new WeakMap,aE=new WeakMap,zf=new WeakMap,em=new WeakMap;function wb(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Yi(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&oE.set(t,n)}).catch(()=>{}),em.set(e,n),e}function Eb(n){if(pp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});pp.set(n,e)}let mp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return pp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Tb(n){mp=n(mp)}function Sb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call($f(this),e,...t);return aE.set(i,e.sort?e.sort():[e]),Yi(i)}:_b().includes(n)?function(...e){return n.apply($f(this),e),Yi(oE.get(this))}:function(...e){return Yi(n.apply($f(this),e))}}function Ib(n){return typeof n=="function"?Sb(n):(n instanceof IDBTransaction&&Eb(n),yb(n,vb())?new Proxy(n,mp):n)}function Yi(n){if(n instanceof IDBRequest)return wb(n);if(zf.has(n))return zf.get(n);const e=Ib(n);return e!==n&&(zf.set(n,e),em.set(e,n)),e}const $f=n=>em.get(n);function lE(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=Yi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Yi(u.result),f.oldVersion,f.newVersion,Yi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const xb=["get","getKey","getAll","getAllKeys","count"],Cb=["put","add","delete","clear"],Wf=new Map;function r_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Cb.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||xb.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return Wf.set(e,a),a}Tb(n=>({...n,get:(e,t,i)=>r_(e,t)||n.get(e,t,i),has:(e,t)=>!!r_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ab(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Ab(n){const e=n.getComponent();return e?.type==="VERSION"}const gp="@firebase/app",i_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Dd("@firebase/app"),Pb="@firebase/app-compat",bb="@firebase/analytics-compat",kb="@firebase/analytics",Nb="@firebase/app-check-compat",Ob="@firebase/app-check",Db="@firebase/auth",Lb="@firebase/auth-compat",Mb="@firebase/database",Vb="@firebase/data-connect",Fb="@firebase/database-compat",jb="@firebase/functions",Ub="@firebase/functions-compat",Bb="@firebase/installations",zb="@firebase/installations-compat",$b="@firebase/messaging",Wb="@firebase/messaging-compat",Hb="@firebase/performance",qb="@firebase/performance-compat",Kb="@firebase/remote-config",Gb="@firebase/remote-config-compat",Qb="@firebase/storage",Yb="@firebase/storage-compat",Xb="@firebase/firestore",Jb="@firebase/vertexai-preview",Zb="@firebase/firestore-compat",ek="firebase",tk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",nk={[gp]:"fire-core",[Pb]:"fire-core-compat",[kb]:"fire-analytics",[bb]:"fire-analytics-compat",[Ob]:"fire-app-check",[Nb]:"fire-app-check-compat",[Db]:"fire-auth",[Lb]:"fire-auth-compat",[Mb]:"fire-rtdb",[Vb]:"fire-data-connect",[Fb]:"fire-rtdb-compat",[jb]:"fire-fn",[Ub]:"fire-fn-compat",[Bb]:"fire-iid",[zb]:"fire-iid-compat",[$b]:"fire-fcm",[Wb]:"fire-fcm-compat",[Hb]:"fire-perf",[qb]:"fire-perf-compat",[Kb]:"fire-rc",[Gb]:"fire-rc-compat",[Qb]:"fire-gcs",[Yb]:"fire-gcs-compat",[Xb]:"fire-fst",[Zb]:"fire-fst-compat",[Jb]:"fire-vertex","fire-js":"fire-js",[ek]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map,rk=new Map,vp=new Map;function s_(n,e){try{n.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ar(n){const e=n.name;if(vp.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,n);for(const t of ad.values())s_(t,n);for(const t of rk.values())s_(t,n);return!0}function Ys(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Er(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Qs("app","Firebase",ik);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=tk;function uE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:yp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(t||(t=tE()),!t)throw Xi.create("no-options");const a=ad.get(o);if(a){if(Ul(t,a.options)&&Ul(i,a.config))return a;throw Xi.create("duplicate-app",{appName:o})}const u=new hb(o);for(const f of vp.values())u.addComponent(f);const h=new sk(t,i,u);return ad.set(o,h),h}function tm(n=yp){const e=ad.get(n);if(!e&&n===yp&&tE())return uE();if(!e)throw Xi.create("no-app",{appName:n});return e}function Nn(n,e,t){var i;let o=(i=nk[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(h.join(" "));return}Ar(new tr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firebase-heartbeat-database",ak=1,Bl="firebase-heartbeat-store";let Hf=null;function cE(){return Hf||(Hf=lE(ok,ak,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xi.create("idb-open",{originalErrorMessage:n.message})})),Hf}async function lk(n){try{const t=(await cE()).transaction(Bl),i=await t.objectStore(Bl).get(dE(n));return await t.done,i}catch(e){if(e instanceof ir)ai.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e?.message});ai.warn(t.message)}}}async function o_(n,e){try{const i=(await cE()).transaction(Bl,"readwrite");await i.objectStore(Bl).put(e,dE(n)),await i.done}catch(t){if(t instanceof ir)ai.warn(t.message);else{const i=Xi.create("idb-set",{originalErrorMessage:t?.message});ai.warn(i.message)}}}function dE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=1024,ck=720*60*60*1e3;class dk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=ck}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ai.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a_(),{heartbeatsToSend:i,unsentEntries:o}=hk(this._heartbeatsCache.heartbeats),a=od(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ai.warn(t),""}}}function a_(){return new Date().toISOString().substring(0,10)}function hk(n,e=uk){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),l_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),l_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class fk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iE()?sE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return o_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return o_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function l_(n){return od(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n){Ar(new tr("platform-logger",e=>new Rb(e),"PRIVATE")),Ar(new tr("heartbeat",e=>new dk(e),"PRIVATE")),Nn(gp,i_,n),Nn(gp,i_,"esm2017"),Nn("fire-js","")}pk("");function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mk=hE,fE=new Qs("auth","Firebase",hE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Dd("@firebase/auth");function gk(n,...e){ld.logLevel<=Ue.WARN&&ld.warn(`Auth (${_a}): ${n}`,...e)}function Hc(n,...e){ld.logLevel<=Ue.ERROR&&ld.error(`Auth (${_a}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw nm(n,...e)}function Sr(n,...e){return nm(n,...e)}function pE(n,e,t){const i=Object.assign(Object.assign({},mk()),{[e]:t});return new Qs("auth","Firebase",i).create(e,{appName:n.name})}function ni(n){return pE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return fE.create(n,...e)}function Ce(n,e,...t){if(!n)throw nm(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hc(e),new Error(e)}function li(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yk(){return u_()==="http:"||u_()==="https:"}function u_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yk()||rE()||"connection"in navigator)?navigator.onLine:!0}function _k(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=HP()||GP()}get(){return vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new nu(3e4,6e4);function hi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Nr(n,e,t,i,o={}){return gE(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=tu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return KP()||(m.referrerPolicy="no-referrer"),mE.fetch()(yE(n,n.config.apiHost,t,h),m)})}async function gE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wk),e);try{const o=new Sk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Lc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Lc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Lc(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw pE(n,v,m);nr(n,v)}}catch(o){if(o instanceof ir)throw o;nr(n,"network-request-failed",{message:String(o)})}}async function ru(n,e,t,i,o={}){const a=await Nr(n,e,t,i,o);return"mfaPendingCredential"in a&&nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function yE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?rm(n.config,o):`${n.config.apiScheme}://${o}`}function Tk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Sr(this.auth,"network-request-failed")),Ek.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Sr(n,e,i);return o.customData._tokenResponse=t,o}function c_(n){return n!==void 0&&n.enterprise!==void 0}class Ik{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Tk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xk(n,e){return Nr(n,"GET","/v2/recaptchaConfig",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(n,e){return Nr(n,"POST","/v1/accounts:delete",e)}async function vE(n,e){return Nr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rk(n,e=!1){const t=jt(n),i=await t.getIdToken(e),o=im(i);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:i,authTime:kl(qf(o.auth_time)),issuedAtTime:kl(qf(o.iat)),expirationTime:kl(qf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function qf(n){return Number(n)*1e3}function im(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Z0(t);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d_(n){const e=im(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ir&&Ak(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Ak({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(n){var e;const t=n.auth,i=await n.getIdToken(),o=await aa(n,vE(t,{idToken:i}));Ce(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?_E(a.providerUserInfo):[],h=kk(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!h?.length,v=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new wp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function bk(n){const e=jt(n);await ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kk(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function _E(n){return n.map(e=>{var{providerId:t}=e,i=eu(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,e){const t=await gE(n,{},async()=>{const i=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=yE(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",mE.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ok(n,e){return Nr(n,"POST","/v2/accounts:revokeToken",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=d_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await Nk(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new na;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ce(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=eu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await aa(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Rk(this,e)}reload(){return bk(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ud(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await aa(this,Ck(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,h,f,m,v;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,x=(h=t.tenantId)!==null&&h!==void 0?h:void 0,A=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,j=(m=t.createdAt)!==null&&m!==void 0?m:void 0,M=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:G,isAnonymous:J,providerData:ie,stsTokenManager:k}=t;Ce($&&k,e,"internal-error");const P=na.fromJSON(this.name,k);Ce(typeof $=="string",e,"internal-error"),ji(w,e.name),ji(I,e.name),Ce(typeof G=="boolean",e,"internal-error"),Ce(typeof J=="boolean",e,"internal-error"),ji(R,e.name),ji(b,e.name),ji(x,e.name),ji(A,e.name),ji(j,e.name),ji(M,e.name);const N=new ei({uid:$,auth:e,email:I,emailVerified:G,displayName:w,isAnonymous:J,photoURL:b,phoneNumber:R,tenantId:x,stsTokenManager:P,createdAt:j,lastLoginAt:M});return ie&&Array.isArray(ie)&&(N.providerData=ie.map(L=>Object.assign({},L))),A&&(N._redirectEventId=A),N}static async _fromIdTokenResponse(e,t,i=!1){const o=new na;o.updateFromServerResponse(t);const a=new ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ud(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?_E(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new na;h.updateFromIdToken(i);const f=new ei({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;function ti(n){li(n instanceof Function,"Expected a class definition");let e=h_.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wE.type="NONE";const f_=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n,e,t){return`firebase:${n}:${e}:${t}`}class ra{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,a),this.fullPersistenceKey=qc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ra(ti(f_),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ti(f_);const u=qc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){const w=ei._fromJSON(e,v);m!==a&&(h=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ra(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ra(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(RE(e))return"Webos";if(TE(e))return"Safari";if((e.includes("chrome/")||SE(e))&&!e.includes("edge/"))return"Chrome";if(xE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function EE(n=Gt()){return/firefox\//i.test(n)}function TE(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SE(n=Gt()){return/crios\//i.test(n)}function IE(n=Gt()){return/iemobile/i.test(n)}function xE(n=Gt()){return/android/i.test(n)}function CE(n=Gt()){return/blackberry/i.test(n)}function RE(n=Gt()){return/webos/i.test(n)}function sm(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Dk(n=Gt()){var e;return sm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lk(){return QP()&&document.documentMode===10}function AE(n=Gt()){return sm(n)||xE(n)||RE(n)||CE(n)||/windows phone/i.test(n)||IE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(n,e=[]){let t;switch(n){case"Browser":t=p_(Gt());break;case"Worker":t=`${p_(Gt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_a}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(n,e={}){return Nr(n,"GET","/v2/passwordPolicy",hi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=6;class jk{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Fk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new Mk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vE(this,{idToken:e}),i=await ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Er(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&f?.user&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ud(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_k()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(ni(this));const t=e?jt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vk(this),t=new jk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qs("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ok(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&gk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xs(n){return jt(n)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=nb(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bk(n){Ld=n}function bE(n){return Ld.loadJS(n)}function zk(){return Ld.recaptchaEnterpriseScript}function $k(){return Ld.gapiScript}function Wk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const Hk="recaptcha-enterprise",qk="NO_RECAPTCHA";class Kk{constructor(e){this.type=Hk,this.auth=Xs(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{xk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new Ik(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;c_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(qk)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&c_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=zk();f.length!==0&&(f+=h),bE(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function g_(n,e,t,i=!1){const o=new Kk(n);let a;try{a=await o.verify(t)}catch{a=await o.verify(t,!0)}const u=Object.assign({},e);return i?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ep(n,e,t,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await g_(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await g_(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n,e){const t=Ys(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ul(a,e??{}))return o;nr(o,"already-initialized")}return t.initialize({options:e})}function Qk(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Yk(n,e,t){const i=Xs(n);Ce(i._canInitEmulator,i,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=kE(e),{host:u,port:h}=Xk(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),Jk()}function kE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Xk(n){const e=kE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:y_(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:y_(u)}}}function y_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Jk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function Zk(n,e){return Nr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(n,e){return ru(n,"POST","/v1/accounts:signInWithPassword",hi(n,e))}async function t1(n,e){return Nr(n,"POST","/v1/accounts:sendOobCode",hi(n,e))}async function n1(n,e){return t1(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(n,e){return ru(n,"POST","/v1/accounts:signInWithEmailLink",hi(n,e))}async function i1(n,e){return ru(n,"POST","/v1/accounts:signInWithEmailLink",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends om{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new zl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new zl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,t,"signInWithPassword",e1);case"emailLink":return r1(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,i,"signUpPassword",Zk);case"emailLink":return i1(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n,e){return ru(n,"POST","/v1/accounts:signInWithIdp",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="http://localhost";class zs extends om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=eu(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new zs(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ia(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:s1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a1(n){const e=Cl(Rl(n)).link,t=e?Cl(Rl(e)).deep_link_id:null,i=Cl(Rl(n)).deep_link_id;return(i?Cl(Rl(i)).link:null)||i||t||e||n}class am{constructor(e){var t,i,o,a,u,h;const f=Cl(Rl(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,w=o1((o=f.mode)!==null&&o!==void 0?o:null);Ce(m&&v&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=a1(e);try{return new am(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,t){return zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=am.parseLink(t);return Ce(i,"argument-error"),zl._fromEmailAndCode(e,i.code,i.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends NE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends iu{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Hi.credential(t,i)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends iu{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends iu{constructor(){super("twitter.com")}static credential(e,t){return zs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ki.credential(t,i)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(n,e){return ru(n,"POST","/v1/accounts:signUp",hi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ei._fromIdTokenResponse(e,i,o),u=v_(i);return new $s({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=v_(i);return new $s({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function v_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends ir{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new cd(e,t,i,o)}}function OE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(n,a,e,i):a})}async function u1(n,e,t=!1){const i=await aa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $s._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(n,e,t=!1){const{auth:i}=n;if(Er(i.app))return Promise.reject(ni(i));const o="reauthenticate";try{const a=await aa(n,OE(i,o,e,n),t);Ce(a.idToken,i,"internal-error");const u=im(a.idToken);Ce(u,i,"internal-error");const{sub:h}=u;return Ce(n.uid===h,i,"user-mismatch"),$s._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&nr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(n,e,t=!1){if(Er(n.app))return Promise.reject(ni(n));const i="signIn",o=await OE(n,i,e),a=await $s._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function d1(n,e){return DE(Xs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(n){const e=Xs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function h1(n,e,t){if(Er(n.app))return Promise.reject(ni(n));const i=Xs(n),u=await Ep(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l1).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&LE(n),f}),h=await $s._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function f1(n,e,t){return Er(n.app)?Promise.reject(ni(n)):d1(jt(n),wa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&LE(n),i})}async function p1(n,e){const t=jt(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await n1(t.auth,o);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(n,e){return Nr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=jt(n),a={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await aa(i,m1(i.auth,a));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function y1(n,e,t,i){return jt(n).onIdTokenChanged(e,t,i)}function v1(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function _1(n,e,t,i){return jt(n).onAuthStateChanged(e,t,i)}function w1(n){return jt(n).signOut()}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=1e3,T1=10;class VE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);Lk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,T1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},E1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const S1=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}FE.type="SESSION";const jE=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Md(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await I1(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=lm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function C1(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function R1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A1(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function P1(){return UE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firebaseLocalStorageDb",b1=1,hd="firebaseLocalStorage",zE="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vd(n,e){return n.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function k1(){const n=indexedDB.deleteDatabase(BE);return new su(n).toPromise()}function Tp(){const n=indexedDB.open(BE,b1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(hd,{keyPath:zE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(hd)?e(i):(i.close(),await k1(),e(await Tp()))})})}async function __(n,e,t){const i=Vd(n,!0).put({[zE]:e,value:t});return new su(i).toPromise()}async function N1(n,e){const t=Vd(n,!1).get(e),i=await new su(t).toPromise();return i===void 0?null:i.value}function w_(n,e){const t=Vd(n,!0).delete(e);return new su(t).toPromise()}const O1=800,D1=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>D1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(P1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await R1(),!this.activeServiceWorker)return;this.sender=new x1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await __(e,dd,"1"),await w_(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>N1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>w_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Vd(o,!1).getAll();return new su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const L1=$E;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n,e){return e?ti(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function V1(n){return DE(n.auth,new um(n),n.bypassAuthState)}function F1(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),c1(t,new um(n),n.bypassAuthState)}async function j1(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),u1(t,new um(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V1;case"linkViaPopup":case"linkViaRedirect":return j1;case"reauthViaPopup":case"reauthViaRedirect":return F1;default:nr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new nu(2e3,1e4);class Jo extends WE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U1.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="pendingRedirect",Kc=new Map;class z1 extends WE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const i=await $1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $1(n,e){const t=q1(e),i=H1(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function W1(n,e){Kc.set(n._key(),e)}function H1(n){return ti(n._redirectPersistence)}function q1(n){return qc(B1,n.config.apiKey,n.name)}async function K1(n,e,t=!1){if(Er(n.app))return Promise.reject(ni(n));const i=Xs(n),o=M1(i,e),u=await new z1(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=600*1e3;class Q1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!HE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G1&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(e))}saveEventToCache(e){this.cachedEventUids.add(E_(e)),this.lastProcessedEventTime=Date.now()}}function E_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Y1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(n,e={}){return Nr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z1=/^https?/;async function eN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await X1(n);for(const t of e)try{if(tN(t))return}catch{}nr(n,"unauthorized-domain")}function tN(n){const e=_p(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Z1.test(t))return!1;if(J1.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new nu(3e4,6e4);function T_(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rN(n){return new Promise((e,t)=>{var i,o,a;function u(){T_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T_(),t(Sr(n,"network-request-failed"))},timeout:nN.get()})}if(!((o=(i=Ir().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Ir().gapi)===null||a===void 0)&&a.load)u();else{const h=Wk("iframefcb");return Ir()[h]=()=>{gapi.load?u():t(Sr(n,"network-request-failed"))},bE(`${$k()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function iN(n){return Gc=Gc||rN(n),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new nu(5e3,15e3),oN="__/auth/iframe",aN="emulator/auth/iframe",lN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cN(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rm(e,aN):`https://${n.config.authDomain}/${oN}`,i={apiKey:e.apiKey,appName:n.name,v:_a},o=uN.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${tu(i).slice(1)}`}async function dN(n){const e=await iN(n),t=Ir().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:cN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lN,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Sr(n,"network-request-failed"),h=Ir().setTimeout(()=>{a(u)},sN.get());function f(){Ir().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fN=500,pN=600,mN="_blank",gN="http://localhost";class S_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yN(n,e,t,i=fN,o=pN){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},hN),{width:i.toString(),height:o.toString(),top:a,left:u}),m=Gt().toLowerCase();t&&(h=SE(m)?mN:t),EE(m)&&(e=e||gN,f.scrollbars="yes");const v=Object.entries(f).reduce((I,[R,b])=>`${I}${R}=${b},`,"");if(Dk(m)&&h!=="_self")return vN(e||"",h),new S_(null);const w=window.open(e||"",h,v);Ce(w,n,"popup-blocked");try{w.focus()}catch{}return new S_(w)}function vN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="__/auth/handler",wN="emulator/auth/handler",EN=encodeURIComponent("fac");async function I_(n,e,t,i,o,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:_a,eventId:o};if(e instanceof NE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",tb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof iu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${EN}=${encodeURIComponent(f)}`:"";return`${TN(n)}?${tu(h).slice(1)}${m}`}function TN({config:n}){return n.emulator?rm(n,wN):`https://${n.authDomain}/${_N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="webStorageSupport";class SN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=K1,this._overrideRedirectResult=W1}async _openPopup(e,t,i,o){var a;li((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await I_(e,t,i,_p(),o);return yN(e,u,lm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await I_(e,t,i,_p(),o);return C1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(li(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await dN(e),i=new Q1(e);return t.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kf,{type:Kf},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[Kf];u!==void 0&&t(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AE()||TE()||sm()}}const IN=SN;var x_="@firebase/auth",C_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RN(n){Ar(new tr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PE(n)},m=new Uk(i,o,a,f);return Qk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ar(new tr("auth-internal",e=>{const t=Xs(e.getProvider("auth").getImmediate());return(i=>new xN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(x_,C_,CN(n)),Nn(x_,C_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=300,PN=nE("authIdTokenMaxAge")||AN;let R_=null;const bN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>PN)return;const o=t?.token;R_!==o&&(R_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kN(n=tm()){const e=Ys(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Gk(n,{popupRedirectResolver:IN,persistence:[L1,S1,jE]}),i=nE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=bN(a.toString());v1(t,u,()=>u(t.currentUser)),y1(t,h=>u(h))}}const o=eE("auth");return o&&Yk(t,`http://${o}`),t}function NN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Bk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Sr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",NN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RN("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,qE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function N(){}N.prototype=P.prototype,k.D=P.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(L,F,V){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return P.prototype[F].apply(L,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,P,N){N||(N=0);var L=Array(16);if(typeof P=="string")for(var F=0;16>F;++F)L[F]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(F=0;16>F;++F)L[F]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=k.g[0],N=k.g[1],F=k.g[2];var V=k.g[3],O=P+(V^N&(F^V))+L[0]+3614090360&4294967295;P=N+(O<<7&4294967295|O>>>25),O=V+(F^P&(N^F))+L[1]+3905402710&4294967295,V=P+(O<<12&4294967295|O>>>20),O=F+(N^V&(P^N))+L[2]+606105819&4294967295,F=V+(O<<17&4294967295|O>>>15),O=N+(P^F&(V^P))+L[3]+3250441966&4294967295,N=F+(O<<22&4294967295|O>>>10),O=P+(V^N&(F^V))+L[4]+4118548399&4294967295,P=N+(O<<7&4294967295|O>>>25),O=V+(F^P&(N^F))+L[5]+1200080426&4294967295,V=P+(O<<12&4294967295|O>>>20),O=F+(N^V&(P^N))+L[6]+2821735955&4294967295,F=V+(O<<17&4294967295|O>>>15),O=N+(P^F&(V^P))+L[7]+4249261313&4294967295,N=F+(O<<22&4294967295|O>>>10),O=P+(V^N&(F^V))+L[8]+1770035416&4294967295,P=N+(O<<7&4294967295|O>>>25),O=V+(F^P&(N^F))+L[9]+2336552879&4294967295,V=P+(O<<12&4294967295|O>>>20),O=F+(N^V&(P^N))+L[10]+4294925233&4294967295,F=V+(O<<17&4294967295|O>>>15),O=N+(P^F&(V^P))+L[11]+2304563134&4294967295,N=F+(O<<22&4294967295|O>>>10),O=P+(V^N&(F^V))+L[12]+1804603682&4294967295,P=N+(O<<7&4294967295|O>>>25),O=V+(F^P&(N^F))+L[13]+4254626195&4294967295,V=P+(O<<12&4294967295|O>>>20),O=F+(N^V&(P^N))+L[14]+2792965006&4294967295,F=V+(O<<17&4294967295|O>>>15),O=N+(P^F&(V^P))+L[15]+1236535329&4294967295,N=F+(O<<22&4294967295|O>>>10),O=P+(F^V&(N^F))+L[1]+4129170786&4294967295,P=N+(O<<5&4294967295|O>>>27),O=V+(N^F&(P^N))+L[6]+3225465664&4294967295,V=P+(O<<9&4294967295|O>>>23),O=F+(P^N&(V^P))+L[11]+643717713&4294967295,F=V+(O<<14&4294967295|O>>>18),O=N+(V^P&(F^V))+L[0]+3921069994&4294967295,N=F+(O<<20&4294967295|O>>>12),O=P+(F^V&(N^F))+L[5]+3593408605&4294967295,P=N+(O<<5&4294967295|O>>>27),O=V+(N^F&(P^N))+L[10]+38016083&4294967295,V=P+(O<<9&4294967295|O>>>23),O=F+(P^N&(V^P))+L[15]+3634488961&4294967295,F=V+(O<<14&4294967295|O>>>18),O=N+(V^P&(F^V))+L[4]+3889429448&4294967295,N=F+(O<<20&4294967295|O>>>12),O=P+(F^V&(N^F))+L[9]+568446438&4294967295,P=N+(O<<5&4294967295|O>>>27),O=V+(N^F&(P^N))+L[14]+3275163606&4294967295,V=P+(O<<9&4294967295|O>>>23),O=F+(P^N&(V^P))+L[3]+4107603335&4294967295,F=V+(O<<14&4294967295|O>>>18),O=N+(V^P&(F^V))+L[8]+1163531501&4294967295,N=F+(O<<20&4294967295|O>>>12),O=P+(F^V&(N^F))+L[13]+2850285829&4294967295,P=N+(O<<5&4294967295|O>>>27),O=V+(N^F&(P^N))+L[2]+4243563512&4294967295,V=P+(O<<9&4294967295|O>>>23),O=F+(P^N&(V^P))+L[7]+1735328473&4294967295,F=V+(O<<14&4294967295|O>>>18),O=N+(V^P&(F^V))+L[12]+2368359562&4294967295,N=F+(O<<20&4294967295|O>>>12),O=P+(N^F^V)+L[5]+4294588738&4294967295,P=N+(O<<4&4294967295|O>>>28),O=V+(P^N^F)+L[8]+2272392833&4294967295,V=P+(O<<11&4294967295|O>>>21),O=F+(V^P^N)+L[11]+1839030562&4294967295,F=V+(O<<16&4294967295|O>>>16),O=N+(F^V^P)+L[14]+4259657740&4294967295,N=F+(O<<23&4294967295|O>>>9),O=P+(N^F^V)+L[1]+2763975236&4294967295,P=N+(O<<4&4294967295|O>>>28),O=V+(P^N^F)+L[4]+1272893353&4294967295,V=P+(O<<11&4294967295|O>>>21),O=F+(V^P^N)+L[7]+4139469664&4294967295,F=V+(O<<16&4294967295|O>>>16),O=N+(F^V^P)+L[10]+3200236656&4294967295,N=F+(O<<23&4294967295|O>>>9),O=P+(N^F^V)+L[13]+681279174&4294967295,P=N+(O<<4&4294967295|O>>>28),O=V+(P^N^F)+L[0]+3936430074&4294967295,V=P+(O<<11&4294967295|O>>>21),O=F+(V^P^N)+L[3]+3572445317&4294967295,F=V+(O<<16&4294967295|O>>>16),O=N+(F^V^P)+L[6]+76029189&4294967295,N=F+(O<<23&4294967295|O>>>9),O=P+(N^F^V)+L[9]+3654602809&4294967295,P=N+(O<<4&4294967295|O>>>28),O=V+(P^N^F)+L[12]+3873151461&4294967295,V=P+(O<<11&4294967295|O>>>21),O=F+(V^P^N)+L[15]+530742520&4294967295,F=V+(O<<16&4294967295|O>>>16),O=N+(F^V^P)+L[2]+3299628645&4294967295,N=F+(O<<23&4294967295|O>>>9),O=P+(F^(N|~V))+L[0]+4096336452&4294967295,P=N+(O<<6&4294967295|O>>>26),O=V+(N^(P|~F))+L[7]+1126891415&4294967295,V=P+(O<<10&4294967295|O>>>22),O=F+(P^(V|~N))+L[14]+2878612391&4294967295,F=V+(O<<15&4294967295|O>>>17),O=N+(V^(F|~P))+L[5]+4237533241&4294967295,N=F+(O<<21&4294967295|O>>>11),O=P+(F^(N|~V))+L[12]+1700485571&4294967295,P=N+(O<<6&4294967295|O>>>26),O=V+(N^(P|~F))+L[3]+2399980690&4294967295,V=P+(O<<10&4294967295|O>>>22),O=F+(P^(V|~N))+L[10]+4293915773&4294967295,F=V+(O<<15&4294967295|O>>>17),O=N+(V^(F|~P))+L[1]+2240044497&4294967295,N=F+(O<<21&4294967295|O>>>11),O=P+(F^(N|~V))+L[8]+1873313359&4294967295,P=N+(O<<6&4294967295|O>>>26),O=V+(N^(P|~F))+L[15]+4264355552&4294967295,V=P+(O<<10&4294967295|O>>>22),O=F+(P^(V|~N))+L[6]+2734768916&4294967295,F=V+(O<<15&4294967295|O>>>17),O=N+(V^(F|~P))+L[13]+1309151649&4294967295,N=F+(O<<21&4294967295|O>>>11),O=P+(F^(N|~V))+L[4]+4149444226&4294967295,P=N+(O<<6&4294967295|O>>>26),O=V+(N^(P|~F))+L[11]+3174756917&4294967295,V=P+(O<<10&4294967295|O>>>22),O=F+(P^(V|~N))+L[2]+718787259&4294967295,F=V+(O<<15&4294967295|O>>>17),O=N+(V^(F|~P))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+V&4294967295}i.prototype.u=function(k,P){P===void 0&&(P=k.length);for(var N=P-this.blockSize,L=this.B,F=this.h,V=0;V<P;){if(F==0)for(;V<=N;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<P;)if(L[F++]=k.charCodeAt(V++),F==this.blockSize){o(this,L),F=0;break}}else for(;V<P;)if(L[F++]=k[V++],F==this.blockSize){o(this,L),F=0;break}}this.h=F,this.o+=P},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;var N=8*this.o;for(P=k.length-8;P<k.length;++P)k[P]=N&255,N/=256;for(this.u(k),k=Array(16),P=N=0;4>P;++P)for(var L=0;32>L;L+=8)k[N++]=this.g[P]>>>L&255;return k};function a(k,P){var N=h;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=P(k)}function u(k,P){this.h=P;for(var N=[],L=!0,F=k.length-1;0<=F;F--){var V=k[F]|0;L&&V==P||(N[F]=V,L=!1)}this.g=N}var h={};function f(k){return-128<=k&&128>k?a(k,function(P){return new u([P|0],0>P?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return A(m(-k));for(var P=[],N=1,L=0;k>=N;L++)P[L]=k/N|0,N*=4294967296;return new u(P,0)}function v(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return A(v(k.substring(1),P));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(P,8)),L=w,F=0;F<k.length;F+=8){var V=Math.min(8,k.length-F),O=parseInt(k.substring(F,F+V),P);8>V?(V=m(Math.pow(P,V)),L=L.j(V).add(m(O))):(L=L.j(N),L=L.add(m(O)))}return L}var w=f(0),I=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(x(this))return-A(this).m();for(var k=0,P=1,N=0;N<this.g.length;N++){var L=this.i(N);k+=(0<=L?L:4294967296+L)*P,P*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(x(this))return"-"+A(this).toString(k);for(var P=m(Math.pow(k,6)),N=this,L="";;){var F=G(N,P).g;N=j(N,F.j(P));var V=((0<N.g.length?N.g[0]:N.h)>>>0).toString(k);if(N=F,b(N))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(var P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function x(k){return k.h==-1}n.l=function(k){return k=j(this,k),x(k)?-1:b(k)?0:1};function A(k){for(var P=k.g.length,N=[],L=0;L<P;L++)N[L]=~k.g[L];return new u(N,~k.h).add(I)}n.abs=function(){return x(this)?A(this):this},n.add=function(k){for(var P=Math.max(this.g.length,k.g.length),N=[],L=0,F=0;F<=P;F++){var V=L+(this.i(F)&65535)+(k.i(F)&65535),O=(V>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);L=O>>>16,V&=65535,O&=65535,N[F]=O<<16|V}return new u(N,N[N.length-1]&-2147483648?-1:0)};function j(k,P){return k.add(A(P))}n.j=function(k){if(b(this)||b(k))return w;if(x(this))return x(k)?A(this).j(A(k)):A(A(this).j(k));if(x(k))return A(this.j(A(k)));if(0>this.l(R)&&0>k.l(R))return m(this.m()*k.m());for(var P=this.g.length+k.g.length,N=[],L=0;L<2*P;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<k.g.length;F++){var V=this.i(L)>>>16,O=this.i(L)&65535,ve=k.i(F)>>>16,Oe=k.i(F)&65535;N[2*L+2*F]+=O*Oe,M(N,2*L+2*F),N[2*L+2*F+1]+=V*Oe,M(N,2*L+2*F+1),N[2*L+2*F+1]+=O*ve,M(N,2*L+2*F+1),N[2*L+2*F+2]+=V*ve,M(N,2*L+2*F+2)}for(L=0;L<P;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=P;L<2*P;L++)N[L]=0;return new u(N,0)};function M(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function $(k,P){this.g=k,this.h=P}function G(k,P){if(b(P))throw Error("division by zero");if(b(k))return new $(w,w);if(x(k))return P=G(A(k),P),new $(A(P.g),A(P.h));if(x(P))return P=G(k,A(P)),new $(A(P.g),P.h);if(30<k.g.length){if(x(k)||x(P))throw Error("slowDivide_ only works with positive integers.");for(var N=I,L=P;0>=L.l(k);)N=J(N),L=J(L);var F=ie(N,1),V=ie(L,1);for(L=ie(L,2),N=ie(N,2);!b(L);){var O=V.add(L);0>=O.l(k)&&(F=F.add(N),V=O),L=ie(L,1),N=ie(N,1)}return P=j(k,F.j(P)),new $(F,P)}for(F=w;0<=k.l(P);){for(N=Math.max(1,Math.floor(k.m()/P.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=m(N),O=V.j(P);x(O)||0<O.l(k);)N-=L,V=m(N),O=V.j(P);b(V)&&(V=I),F=F.add(V),k=j(k,O)}return new $(F,k)}n.A=function(k){return G(this,k).h},n.and=function(k){for(var P=Math.max(this.g.length,k.g.length),N=[],L=0;L<P;L++)N[L]=this.i(L)&k.i(L);return new u(N,this.h&k.h)},n.or=function(k){for(var P=Math.max(this.g.length,k.g.length),N=[],L=0;L<P;L++)N[L]=this.i(L)|k.i(L);return new u(N,this.h|k.h)},n.xor=function(k){for(var P=Math.max(this.g.length,k.g.length),N=[],L=0;L<P;L++)N[L]=this.i(L)^k.i(L);return new u(N,this.h^k.h)};function J(k){for(var P=k.g.length+1,N=[],L=0;L<P;L++)N[L]=k.i(L)<<1|k.i(L-1)>>>31;return new u(N,k.h)}function ie(k,P){var N=P>>5;P%=32;for(var L=k.g.length-N,F=[],V=0;V<L;V++)F[V]=0<P?k.i(V+N)>>>P|k.i(V+N+1)<<32-P:k.i(V+N);return new u(F,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Vs=u}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,Al,GE,Qc,Sp,QE,YE,XE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var C=0;C<c.length-1;C++){var W=c[C];if(!(W in _))break e;_=_[W]}c=c[c.length-1],C=_[c],g=g(C),g!=C&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,C=!1,W={next:function(){if(!C&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function I(c,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,I.apply(null,arguments)}function R(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function b(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(C,W,Q){for(var le=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)le[Ke-2]=arguments[Ke];return g.prototype[W].apply(C,le)}}function x(c){const g=c.length;if(0<g){const _=Array(g);for(let C=0;C<g;C++)_[C]=c[C];return _}return[]}function A(c,g){for(let _=1;_<arguments.length;_++){const C=arguments[_];if(f(C)){const W=c.length||0,Q=C.length||0;c.length=W+Q;for(let le=0;le<Q;le++)c[W+le]=C[le]}else c.push(C)}}class j{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var J=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ie(c,g,_){for(const C in c)g.call(_,c[C],C,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function P(c){const g={};for(const _ in c)g[_]=c[_];return g}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,g){let _,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(_ in C)c[_]=C[_];for(let Q=0;Q<N.length;Q++)_=N[Q],Object.prototype.hasOwnProperty.call(C,_)&&(c[_]=C[_])}}function F(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function V(c){h.setTimeout(()=>{throw c},0)}function O(){var c=ae;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ve{constructor(){this.h=this.g=null}add(g,_){const C=Oe.get();C.set(g,_),this.h?this.h.next=C:this.g=C,this.h=C}}var Oe=new j(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Y=!1,ae=new ve,oe=()=>{const c=h.Promise.resolve(void 0);fe=()=>{c.then(z)}};var z=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){V(_)}var g=Oe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Y=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var xe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c})();function Ae(c,g){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(J){e:{try{G(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}b(Ae,pe);var De={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),we=0;function Le(c,g,_,C,W){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!C,this.ha=W,this.key=++we,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c){this.src=c,this.g={},this.h=0}Be.prototype.add=function(c,g,_,C,W){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var le=dt(c,g,C,W);return-1<le?(g=c[le],_||(g.fa=!1)):(g=new Le(g,this.src,Q,!!C,W),g.fa=_,c.push(g)),g};function Qe(c,g){var _=g.type;if(_ in c.g){var C=c.g[_],W=Array.prototype.indexOf.call(C,g,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(C,W,1),Q&&(be(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function dt(c,g,_,C){for(var W=0;W<c.length;++W){var Q=c[W];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==C)return W}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),ar={};function Or(c,g,_,C,W){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)Or(c,g[Q],_,C,W);return null}return _=Pa(_),c&&c[ue]?c.K(g,_,m(C)?!!C.capture:!1,W):Dr(c,g,_,!1,C,W)}function Dr(c,g,_,C,W,Q){if(!g)throw Error("Invalid event type");var le=m(W)?!!W.capture:!!W,Ke=to(c);if(Ke||(c[Qt]=Ke=new Be(c)),_=Ke.add(g,_,C,le,Q),_.proxy)return _;if(C=pu(),_.proxy=C,C.src=c,C.listener=_,c.addEventListener)xe||(W=le),W===void 0&&(W=!1),c.addEventListener(g.toString(),C,W);else if(c.attachEvent)c.attachEvent(Mr(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function pu(){function c(_){return g.call(c.src,c.listener,_)}const g=Aa;return c}function eo(c,g,_,C,W){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)eo(c,g[Q],_,C,W);else C=m(C)?!!C.capture:!!C,_=Pa(_),c&&c[ue]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=dt(Q,_,C,W),-1<_&&(be(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=to(c))&&(g=c.g[g.toString()],c=-1,g&&(c=dt(g,_,C,W)),(_=-1<c?g[c]:null)&&Lr(_))}function Lr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ue])Qe(g.i,c);else{var _=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(_,C,c.capture):g.detachEvent?g.detachEvent(Mr(_),C):g.addListener&&g.removeListener&&g.removeListener(C),(_=to(g))?(Qe(_,c),_.h==0&&(_.src=null,g[Qt]=null)):be(c)}}}function Mr(c){return c in ar?ar[c]:ar[c]="on"+c}function Aa(c,g){if(c.da)c=!0;else{g=new Ae(g,this);var _=c.listener,C=c.ha||c.src;c.fa&&Lr(c),c=_.call(C,g)}return c}function to(c){return c=c[Qt],c instanceof Be?c:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pa(c){return typeof c=="function"?c:(c[no]||(c[no]=function(g){return c.handleEvent(g)}),c[no])}function _t(){X.call(this),this.i=new Be(this),this.M=this,this.F=null}b(_t,X),_t.prototype[ue]=!0,_t.prototype.removeEventListener=function(c,g,_,C){eo(this,c,g,_,C)};function wt(c,g){var _,C=c.F;if(C)for(_=[];C;C=C.F)_.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new pe(g,c);else if(g instanceof pe)g.target=g.target||c;else{var W=g;g=new pe(C,c),L(g,W)}if(W=!0,_)for(var Q=_.length-1;0<=Q;Q--){var le=g.g=_[Q];W=Vr(le,C,!0,g)&&W}if(le=g.g=c,W=Vr(le,C,!0,g)&&W,W=Vr(le,C,!1,g)&&W,_)for(Q=0;Q<_.length;Q++)le=g.g=_[Q],W=Vr(le,C,!1,g)&&W}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],C=0;C<_.length;C++)be(_[C]);delete c.g[g],c.h--}}this.F=null},_t.prototype.K=function(c,g,_,C){return this.i.add(String(c),g,!1,_,C)},_t.prototype.L=function(c,g,_,C){return this.i.add(String(c),g,!0,_,C)};function Vr(c,g,_,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,Q=0;Q<g.length;++Q){var le=g[Q];if(le&&!le.da&&le.capture==_){var Ke=le.listener,Et=le.ha||le.src;le.fa&&Qe(c.i,le),W=Ke.call(Et,C)!==!1&&W}}return W&&!C.defaultPrevented}function ba(c,g,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function fi(c){c.g=ba(()=>{c.g=null,c.i&&(c.i=!1,fi(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class as extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){X.call(this),this.h=c,this.g={}}b(ls,X);var ka=[];function Na(c){ie(c.g,function(g,_){this.g.hasOwnProperty(_)&&Lr(g)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),Na(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=h.JSON.stringify,Da=h.JSON.parse,La=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function us(){}us.prototype.h=null;function ro(c){return c.h||(c.h=c.i())}function io(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){pe.call(this,"d")}b(lr,pe);function so(){pe.call(this,"c")}b(so,pe);var ur={},Ma=null;function cs(){return Ma=Ma||new _t}ur.La="serverreachability";function Va(c){pe.call(this,ur.La,c)}b(Va,pe);function Fr(c){const g=cs();wt(g,new Va(g))}ur.STAT_EVENT="statevent";function Fa(c,g){pe.call(this,ur.STAT_EVENT,c),this.stat=g}b(Fa,pe);function ht(c){const g=cs();wt(g,new Fa(g,c))}ur.Ma="timingevent";function oo(c,g){pe.call(this,ur.Ma,c),this.size=g}b(oo,pe);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function ds(){this.g=!0}ds.prototype.xa=function(){this.g=!1};function hs(c,g,_,C,W,Q){c.info(function(){if(c.g)if(Q)for(var le="",Ke=Q.split("&"),Et=0;Et<Ke.length;Et++){var ze=Ke[Et].split("=");if(1<ze.length){var Ct=ze[0];ze=ze[1];var mt=Ct.split("_");le=2<=mt.length&&mt[1]=="type"?le+(Ct+"="+ze+"&"):le+(Ct+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+g+`
`+_+`
`+le})}function ao(c,g,_,C,W,Q,le){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+g+`
`+_+`
`+Q+" "+le})}function Mn(c,g,_,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Zd(c,_)+(C?" "+C:"")})}function ja(c,g){c.info(function(){return"TIMEOUT: "+g})}ds.prototype.info=function(){};function Zd(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var C=_[c];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<W.length;le++)W[le]=""}}}}return Oa(_)}catch{return g}}var lo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vn;function fs(){}b(fs,us),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},Vn=new fs;function Fn(c,g,_,C){this.j=c,this.i=g,this.l=_,this.R=C||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gu}function gu(){this.i=null,this.g="",this.h=!1}var Ua={},uo={};function co(c,g,_){c.L=1,c.v=vi(hn(g)),c.m=_,c.P=!0,Ba(c,null)}function Ba(c,g){c.F=Date.now(),Xe(c),c.A=hn(c.v);var _=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),wi(_.i,"t",C),c.C=0,_=c.j.J,c.h=new gu,c.g=Du(c.j,_?g:null,!c.m),0<c.O&&(c.M=new as(I(c.Y,c,c.g),c.O)),g=c.U,_=c.g,C=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(ka[0]=W.toString()),W=ka);for(var Q=0;Q<W.length;Q++){var le=Or(_,W[Q],C||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Fr(),hs(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&tn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const mt=tn(this.g);var g=this.g.Ba();const In=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||Ka(this.g)))){this.J||mt!=4||g==7||(g==8||0>=In?Fr(3):Fr(2)),ps(this);var _=this.g.Z();this.X=_;t:if(yu(this)){var C=Ka(this.g);c="";var W=C.length,Q=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),pi(this);var le="";break t}this.h.i=new h.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(Q&&g==W-1)});C.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,ao(this.i,this.u,this.A,this.l,this.R,mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Et=this.g;if((Ke=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ke)){var ze=Ke;break t}}ze=null}if(_=ze)Mn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,za(this,_);else{this.o=!1,this.s=3,ht(12),Tn(this),pi(this);break e}}if(this.P){_=!0;let pn;for(;!this.J&&this.C<le.length;)if(pn=eh(this,le),pn==uo){mt==4&&(this.s=4,ht(14),_=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Ua){this.s=4,ht(15),Mn(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Mn(this.i,this.l,pn,null),za(this,pn);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||le.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)Mn(this.i,this.l,le,"[Invalid Chunked Response]"),Tn(this),pi(this);else if(0<le.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Qa(Ct),Ct.M=!0,ht(11))}}else Mn(this.i,this.l,le,null),za(this,le);mt==4&&Tn(this),this.o&&!this.J&&(mt==4?To(this.j,this):(this.o=!1,Xe(this)))}else yo(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Tn(this),pi(this)}}}catch{}finally{}};function yu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eh(c,g){var _=c.C,C=g.indexOf(`
`,_);return C==-1?uo:(_=Number(g.substring(_,C)),isNaN(_)?Ua:(C+=1,C+_>g.length?uo:(g=g.slice(C,C+_),c.C=C+_,g)))}Fn.prototype.cancel=function(){this.J=!0,Tn(this)};function Xe(c){c.S=Date.now()+c.I,vu(c,c.I)}function vu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(I(c.ba,c),g)}function ps(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ja(this.i,this.A),this.L!=2&&(Fr(),ht(17)),Tn(this),this.s=2,pi(this)):vu(this,this.S-c)};function pi(c){c.j.G==0||c.J||To(c.j,c)}function Tn(c){ps(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Na(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function za(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Yt(_.h,c))){if(!c.K&&Yt(_.h,c)&&_.G==3){try{var C=_.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Eo(_),$n(_);else break e;wo(_),ht(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ln(I(_.Za,_),6e3));if(1>=wu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $r(_,11)}else if((c.K||_.g==c)&&Eo(_),!M(g))for(W=_.Da.g.parse(g),g=0;g<W.length;g++){let ze=W[g];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Ct=ze[3];Ct!=null&&(_.la=Ct,_.j.info("VER="+_.la));const mt=ze[4];mt!=null&&(_.Aa=mt,_.j.info("SVER="+_.Aa));const In=ze[5];In!=null&&typeof In=="number"&&0<In&&(C=1.5*In,_.L=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const pn=c.g;if(pn){const Es=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var Q=C.h;Q.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&($a(Q,Q.h),Q.h=null))}if(C.D){const Io=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(C.ya=Io,Ye(C.I,C.D,Io))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),C=_;var le=c;if(C.qa=Ou(C,C.J?C.ia:null,C.W),le.K){Eu(C.h,le);var Ke=le,Et=C.L;Et&&(Ke.I=Et),Ke.B&&(ps(Ke),Xe(Ke)),C.g=le}else ws(C);0<_.i.length&&fr(_)}else ze[0]!="stop"&&ze[0]!="close"||$r(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?$r(_,7):Nt(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}Fr(4)}catch{}}var _u=class{constructor(c,g){this.g=c,this.map=g}};function ms(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wu(c){return c.h?1:c.g?c.g.size:0}function Yt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function $a(c,g){c.g?c.g.add(g):c.h=g}function Eu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ms.prototype.cancel=function(){if(this.i=Tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return x(c.i)}function ho(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,C=0;C<_;C++)g.push(c[C]);return g}g=[],_=0;for(C in c)g[_++]=c[C];return g}function fo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const C in c)g[_++]=C;return g}}}function mi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=fo(c),C=ho(c),W=C.length,Q=0;Q<W;Q++)g.call(void 0,C[Q],_&&_[Q],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var C=c[_].indexOf("="),W=null;if(0<=C){var Q=c[_].substring(0,C);W=c[_].substring(C+1)}else Q=c[_];g(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof jr){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,gi(this,c.s),this.l=c.l;var g=c.i,_=new cr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),yi(this,_),this.m=c.m}else c&&(g=String(c).match(gs))?(this.h=!1,ys(this,g[1]||"",!0),this.o=je(g[2]||""),this.g=je(g[3]||"",!0),gi(this,g[4]),this.l=je(g[5]||"",!0),yi(this,g[6]||"",!0),this.m=je(g[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}jr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(_i(g,po,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(_i(g,po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(_i(_,_.charAt(0)=="/"?xu:Iu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",_i(_,Wa)),c.join("")};function hn(c){return new jr(c)}function ys(c,g,_){c.j=_?je(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function gi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function yi(c,g,_){g instanceof cr?(c.i=g,dr(c.i,c.h)):(_||(g=_i(g,Cu)),c.i=new cr(g,c.h))}function Ye(c,g,_){c.i.set(g,_)}function vi(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function je(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Su),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var po=/[#\/\?@]/g,Iu=/[#\?:]/g,xu=/[#\?]/g,Cu=/[#\?@]/g,Wa=/#/g;function cr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function kt(c){c.g||(c.g=new Map,c.h=0,c.i&&th(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=cr.prototype,n.add=function(c,g){kt(this),this.i=null,c=Sn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function jn(c,g){kt(c),g=Sn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Un(c,g){return kt(c),g=Sn(c,g),c.g.has(g)}n.forEach=function(c,g){kt(this),this.g.forEach(function(_,C){_.forEach(function(W){c.call(g,W,C,this)},this)},this)},n.na=function(){kt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let C=0;C<g.length;C++){const W=c[C];for(let Q=0;Q<W.length;Q++)_.push(g[C])}return _},n.V=function(c){kt(this);let g=[];if(typeof c=="string")Un(this,c)&&(g=g.concat(this.g.get(Sn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return kt(this),this.i=null,c=Sn(this,c),Un(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function wi(c,g,_){jn(c,g),0<_.length&&(c.i=null,c.g.set(Sn(c,g),x(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var C=g[_];const Q=encodeURIComponent(String(C)),le=this.V(C);for(C=0;C<le.length;C++){var W=Q;le[C]!==""&&(W+="="+encodeURIComponent(String(le[C]))),c.push(W)}}return this.i=c.join("&")};function Sn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function dr(c,g){g&&!c.j&&(kt(c),c.i=null,c.g.forEach(function(_,C){var W=C.toLowerCase();C!=W&&(jn(this,C),wi(this,W,_))},c)),c.j=g}function nh(c,g){const _=new ds;if(h.Image){const C=new Image;C.onload=R(en,_,"TestLoadImage: loaded",!0,g,C),C.onerror=R(en,_,"TestLoadImage: error",!1,g,C),C.onabort=R(en,_,"TestLoadImage: abort",!1,g,C),C.ontimeout=R(en,_,"TestLoadImage: timeout",!1,g,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function Ru(c,g){const _=new ds,C=new AbortController,W=setTimeout(()=>{C.abort(),en(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(Q=>{clearTimeout(W),Q.ok?en(_,"TestPingServer: ok",!0,g):en(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),en(_,"TestPingServer: error",!1,g)})}function en(c,g,_,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(_)}catch{}}function rh(){this.g=new La}function Au(c,g,_){const C=_||"";try{mi(c,function(W,Q){let le=W;m(W)&&(le=Oa(W)),g.push(C+Q+"="+encodeURIComponent(le))})}catch(W){throw g.push(C+"type="+encodeURIComponent("_badmap")),W}}function Ur(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Ur,us),Ur.prototype.g=function(){return new vs(this.l,this.j)},Ur.prototype.i=(function(c){return function(){return c}})({});function vs(c,g){_t.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(vs,_t),n=vs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Bn(this):zn(this),this.readyState==3&&Pu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Bn(this))},n.Qa=function(c){this.g&&(this.response=c,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Br(c){let g="";return ie(c,function(_,C){g+=C,g+=":",g+=_,g+=`\r
`}),g}function Ei(c,g,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=Br(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,g,_))}function nt(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(nt,_t);var ih=/^https?$/i,Ha=["POST","PUT"];n=nt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?ro(this.o):ro(Vn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){_s(this,Q);return}if(c=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)_.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Q of C.keys())_.set(Q,C.get(Q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ha,g,void 0))||C||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of _)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{go(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){_s(this,Q)}};function _s(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,mo(c),fn(c)}function mo(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},n.bb=function(){qa(this)};function qa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)ba(c.Ea,0,c);else if(wt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var C;if(C=le===0){var W=String(c.D).match(gs)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),C=!ih.test(W?W.toLowerCase():"")}_=C}if(_)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var Q=2<tn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",mo(c)}}finally{fn(c)}}}}function fn(c,g){if(c.g){go(c);const _=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||wt(c,"ready");try{_.onreadystatechange=C}catch{}}}function go(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Da(g)}};function Ka(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(c){const g={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(M(c[C]))continue;var _=F(c[C]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[W]||[];g[W]=Q,Q.push(_)}k(g,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ga(c){this.Aa=0,this.i=[],this.j=new ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,c),this.cb=hr("retryDelaySeedMs",1e4,c),this.Wa=hr("forwardChannelMaxRetries",2,c),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(c&&c.concurrentRequestLimit),this.Da=new rh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ga.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,C){ht(0),this.W=c,this.H=g||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.I=Ou(this,null,this.W),fr(this)};function Nt(c){if(vo(c),c.G==3){var g=c.U++,_=hn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",g),Ye(_,"TYPE","terminate"),zr(c,_),g=new Fn(c,c.j,g),g.L=2,g.v=vi(hn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Du(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Xe(g)}Nu(c)}function $n(c){c.g&&(Qa(c),c.g.cancel(),c.g=null)}function vo(c){$n(c),c.u&&(h.clearTimeout(c.u),c.u=null),Eo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function fr(c){if(!dn(c.h)&&!c.s){c.s=!0;var g=c.Ga;fe||oe(),Y||(fe(),Y=!0),ae.add(g,c),c.B=0}}function sh(c,g){return wu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(I(c.Ga,c,g),ku(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new Fn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=P(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ti(this,W,g),_=hn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),zr(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(Br(Q)))+"&"+g:this.m&&Ei(_,this.m,Q)),$a(this.h,W),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",g),Ye(_,"SID","null"),W.T=!0,co(W,_,null)):co(W,_,g),this.G=2}}else this.G==3&&(c?_o(this,c):this.i.length==0||dn(this.h)||_o(this))};function _o(c,g){var _;g?_=g.l:_=c.U++;const C=hn(c.I);Ye(C,"SID",c.K),Ye(C,"RID",_),Ye(C,"AID",c.T),zr(c,C),c.m&&c.o&&Ei(C,c.m,c.o),_=new Fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ti(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$a(c.h,_),co(_,C,g)}function zr(c,g){c.H&&ie(c.H,function(_,C){Ye(g,C,_)}),c.l&&mi({},function(_,C){Ye(g,C,_)})}function Ti(c,g,_){_=Math.min(c.i.length,_);var C=c.l?I(c.l.Na,c.l,c):null;e:{var W=c.i;let Q=-1;for(;;){const le=["count="+_];Q==-1?0<_?(Q=W[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Ke=!0;for(let Et=0;Et<_;Et++){let ze=W[Et].g;const Ct=W[Et].map;if(ze-=Q,0>ze)Q=Math.max(0,W[Et].g-100),Ke=!1;else try{Au(Ct,le,"req"+ze+"_")}catch{C&&C(Ct)}}if(Ke){C=le.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,C}function ws(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;fe||oe(),Y||(fe(),Y=!0),ae.add(g,c),c.v=0}}function wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(I(c.Fa,c),ku(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(I(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),$n(this),bu(this))};function Qa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function bu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=hn(c.qa);Ye(g,"RID","rpc"),Ye(g,"SID",c.K),Ye(g,"AID",c.T),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(g,"TO",c.ja),Ye(g,"TYPE","xmlhttp"),zr(c,g),c.m&&c.o&&Ei(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vi(hn(g)),_.m=null,_.P=!0,Ba(_,c)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),wo(this),ht(19))};function Eo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function To(c,g){var _=null;if(c.g==g){Eo(c),Qa(c),c.g=null;var C=2}else if(Yt(c.h,g))_=g.D,Eu(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;C=cs(),wt(C,new oo(C,_)),fr(c)}else ws(c);else if(W=g.s,W==3||W==0&&0<g.X||!(C==1&&sh(c,g)||C==2&&wo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),W){case 1:$r(c,5);break;case 4:$r(c,10);break;case 3:$r(c,6);break;default:$r(c,2)}}}function ku(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function $r(c,g){if(c.j.info("Error code "+g),g==2){var _=I(c.fb,c),C=c.Xa;const W=!C;C=new jr(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ys(C,"https"),vi(C),W?nh(C.toString(),_):Ru(C.toString(),_)}else ht(2);c.G=0,c.l&&c.l.sa(g),Nu(c),vo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const g=Tu(c.h);(g.length!=0||c.i.length!=0)&&(A(c.ka,g),A(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function Ou(c,g,_){var C=_ instanceof jr?hn(_):new jr(_);if(C.g!="")g&&(C.g=g+"."+C.g),gi(C,C.s);else{var W=h.location;C=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var Q=new jr(null);C&&ys(Q,C),g&&(Q.g=g),W&&gi(Q,W),_&&(Q.l=_),C=Q}return _=c.D,g=c.ya,_&&g&&Ye(C,_,g),Ye(C,"VER",c.la),zr(c,C),C}function Du(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new nt(new Ur({eb:_})):new nt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ya(){}n=Ya.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function So(){}So.prototype.g=function(c,g){return new Xt(c,g)};function Xt(c,g){_t.call(this),this.g=new Ga(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!M(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new pr(this)}b(Xt,_t),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Nt(this.g)},Xt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Oa(c),c=_);g.i.push(new _u(g.Ya++,c)),g.G==3&&fr(g)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Xt.aa.N.call(this)};function Lu(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(Lu,lr);function Mu(){so.call(this),this.status=1}b(Mu,so);function pr(c){this.g=c}b(pr,Ya),pr.prototype.ua=function(){wt(this.g,"a")},pr.prototype.ta=function(c){wt(this.g,new Lu(c))},pr.prototype.sa=function(c){wt(this.g,new Mu)},pr.prototype.ra=function(){wt(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,XE=function(){return new So},YE=function(){return cs()},QE=ur,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,Qc=lo,mu.COMPLETE="complete",GE=mu,io.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Al=io,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,KE=nt}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Dd("@firebase/firestore");function Sl(){return Ws.logLevel}function ge(n,...e){if(Ws.logLevel<=Ue.DEBUG){const t=e.map(cm);Ws.debug(`Firestore (${Ea}): ${n}`,...t)}}function ui(n,...e){if(Ws.logLevel<=Ue.ERROR){const t=e.map(cm);Ws.error(`Firestore (${Ea}): ${n}`,...t)}}function la(n,...e){if(Ws.logLevel<=Ue.WARN){const t=e.map(cm);Ws.warn(`Firestore (${Ea}): ${n}`,...t)}}function cm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function Ge(n,e){n||Pe()}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ON{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qt.UNAUTHENTICATED)))}shutdown(){}}class DN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LN{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ji,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ji)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new JE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new qt(e)}}class MN{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VN{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new MN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const i=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new FN(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=UN(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function ua(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new xt(0,0))}static max(){return new ke(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(),i===void 0?i=e.length-t:i>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return $l.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ut extends $l{construct(e,t,i){return new ut(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const BN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends $l{construct(e,t,i){return new Mt(e,t,i)}static isValidIdentifier(e){return BN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Se(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Se(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new Se(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ut.fromString(e))}static fromName(e){return new Ie(ut.fromString(e).popFirst(5))}static empty(){return new Ie(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ut(e.slice()))}}function zN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new ts(o,Ie.empty(),e)}function $N(n){return new ts(n.readTime,n.key,-1)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(ke.min(),Ie.empty(),-1)}static max(){return new ts(ke.max(),Ie.empty(),-1)}}function WN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==HN)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,i)=>{t(e)}))}static reject(e){return new te(((t,i)=>{i(e)}))}static waitFor(e){return new te(((t,i)=>{let o=0,a=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++a,u&&a===o&&t()}),(f=>i(f)))})),u=!0,a===o&&t()}))}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next((o=>o?te.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new te(((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((v=>{u[m]=v,++h,h===a&&i(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new te(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function KN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function au(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dm.oe=-1;function Fd(n){return n==null}function fd(n){return n===0&&1/n==-1/0}function GN(n){return typeof n=="number"&&Number.isInteger(n)&&!fd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ta(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Vt(Mt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tT("Invalid base64 string: "+a):a}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const QN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Ge(!!n),typeof n=="string"){let e=0;const t=QN.exec(n);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hs(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function fm(n){const e=n.mapValue.fields.__previous_value__;return hm(e)?fm(e):e}function Wl(n){const e=ns(n.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,i,o,a,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class Hl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc={mapValue:{}};function qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hm(n)?4:JN(n)?9007199254740991:XN(n)?10:11:Pe()}function Pr(n,e){if(n===e)return!0;const t=qs(n);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wl(n).isEqual(Wl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ns(o.timestampValue),h=ns(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Hs(o.bytesValue).isEqual(Hs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return pt(o.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return pt(o.integerValue)===pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=pt(o.doubleValue),h=pt(a.doubleValue);return u===h?fd(u)===fd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return ua(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(b_(u)!==b_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Pr(u[f],h[f])))return!1;return!0})(n,e);default:return Pe()}}function ql(n,e){return(n.values||[]).find((t=>Pr(t,e)))!==void 0}function ca(n,e){if(n===e)return 0;const t=qs(n),i=qs(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=pt(a.integerValue||a.doubleValue),f=pt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return N_(n.timestampValue,e.timestampValue);case 4:return N_(Wl(n),Wl(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Hs(a),f=Hs(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=qe(h[m],f[m]);if(v!==0)return v}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=qe(pt(a.latitude),pt(u.latitude));return h!==0?h:qe(pt(a.longitude),pt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return O_(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var h,f,m,v;const w=a.fields||{},I=u.fields||{},R=(h=w.value)===null||h===void 0?void 0:h.arrayValue,b=(f=I.value)===null||f===void 0?void 0:f.arrayValue,x=qe(((m=R?.values)===null||m===void 0?void 0:m.length)||0,((v=b?.values)===null||v===void 0?void 0:v.length)||0);return x!==0?x:O_(R,b)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Fc.mapValue&&u===Fc.mapValue)return 0;if(a===Fc.mapValue)return 1;if(u===Fc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const I=qe(f[w],v[w]);if(I!==0)return I;const R=ca(h[f[w]],m[v[w]]);if(R!==0)return R}return qe(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Pe()}}function N_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=ns(n),i=ns(e),o=qe(t.seconds,i.seconds);return o!==0?o:qe(t.nanos,i.nanos)}function O_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ca(t[o],i[o]);if(a)return a}return qe(t.length,i.length)}function da(n){return Ip(n)}function Ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Hs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Ip(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Ip(t.fields[u])}`;return o+"}"})(n.mapValue):Pe()}function xp(n){return!!n&&"integerValue"in n}function pm(n){return!!n&&"arrayValue"in n}function D_(n){return!!n&&"nullValue"in n}function L_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yc(n){return!!n&&"mapValue"in n}function XN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Nl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ta(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Nl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=Mt.emptyPath(),i={},o=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}u?i[h.lastSegment()]=Nl(u):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ta(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new kn(Nl(this.value))}}function nT(n){const e=[];return Ta(n.fields,((t,i)=>{const o=new Mt([t]);if(Yc(i)){const a=nT(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,o,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Kt(e,0,ke.min(),ke.min(),ke.min(),kn.empty(),0)}static newFoundDocument(e,t,i,o){return new Kt(e,1,t,ke.min(),i,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,ke.min(),ke.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,ke.min(),ke.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t){this.position=e,this.inclusive=t}}function M_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(u.referenceValue),t.key):i=ca(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function V_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{}class It extends rT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new tO(e,t,i):t==="array-contains"?new iO(e,i):t==="in"?new sO(e,i):t==="not-in"?new oO(e,i):t==="array-contains-any"?new aO(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new nO(e,i):new rO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ca(t,this.value)):t!==null&&qs(this.value)===qs(t)&&this.matchesComparison(ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends rT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new br(e,t)}matches(e){return iT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iT(n){return n.op==="and"}function sT(n){return eO(n)&&iT(n)}function eO(n){for(const e of n.filters)if(e instanceof br)return!1;return!0}function Cp(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+da(n.value);if(sT(n))return n.filters.map((e=>Cp(e))).join(",");{const e=n.filters.map((t=>Cp(t))).join(",");return`${n.op}(${e})`}}function oT(n,e){return n instanceof It?(function(i,o){return o instanceof It&&i.op===o.op&&i.field.isEqual(o.field)&&Pr(i.value,o.value)})(n,e):n instanceof br?(function(i,o){return o instanceof br&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,h)=>a&&oT(u,o.filters[h])),!0):!1})(n,e):void Pe()}function aT(n){return n instanceof It?(function(t){return`${t.field.canonicalString()} ${t.op} ${da(t.value)}`})(n):n instanceof br?(function(t){return t.op.toString()+" {"+t.getFilters().map(aT).join(" ,")+"}"})(n):"Filter"}class tO extends It{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class nO extends It{constructor(e,t){super(e,"in",t),this.keys=lT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class rO extends It{constructor(e,t){super(e,"not-in",t),this.keys=lT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class iO extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pm(t)&&ql(t.arrayValue,this.value)}}class sO extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ql(this.value.arrayValue,t)}}class oO extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ql(this.value.arrayValue,t)}}class aO extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ql(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function F_(n,e=null,t=[],i=[],o=null,a=null,u=null){return new lO(n,e,t,i,o,a,u)}function mm(n){const e=Ne(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Cp(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>da(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>da(i))).join(",")),e.ue=t}return e.ue}function gm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!V_(n.startAt,e.startAt)&&V_(n.endAt,e.endAt)}function Rp(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function uO(n,e,t,i,o,a,u,h){return new jd(n,e,t,i,o,a,u,h)}function ym(n){return new jd(n)}function j_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cO(n){return n.collectionGroup!==null}function Ol(n){const e=Ne(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Vt(Mt.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new md(a,i))})),t.has(Mt.keyField().canonicalString())||e.ce.push(new md(Mt.keyField(),i))}return e.ce}function xr(n){const e=Ne(n);return e.le||(e.le=dO(e,Ol(n))),e.le}function dO(n,e){if(n.limitType==="F")return F_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new md(o.field,a)}));const t=n.endAt?new pd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new pd(n.startAt.position,n.startAt.inclusive):null;return F_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ap(n,e,t){return new jd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ud(n,e){return gm(xr(n),xr(e))&&n.limitType===e.limitType}function uT(n){return`${mm(xr(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>aT(o))).join(", ")}]`),Fd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>da(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>da(o))).join(",")),`Target(${i})`})(xr(n))}; limitType=${n.limitType})`}function Bd(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of Ol(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(u,h,f){const m=M_(u,h,f);return u.inclusive?m<=0:m<0})(i.startAt,Ol(i),o)||i.endAt&&!(function(u,h,f){const m=M_(u,h,f);return u.inclusive?m>=0:m>0})(i.endAt,Ol(i),o))})(n,e)}function hO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cT(n){return(e,t)=>{let i=!1;for(const o of Ol(n)){const a=fO(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function fO(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?ca(f,m):Pe()})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new at(Ie.comparator);function ci(){return pO}const dT=new at(Ie.comparator);function Pl(...n){let e=dT;for(const t of n)e=e.insert(t.key,t);return e}function hT(n){let e=dT;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ls(){return Dl()}function fT(){return Dl()}function Dl(){return new Sa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const mO=new at(Ie.comparator),gO=new Vt(Ie.comparator);function Fe(...n){let e=gO;for(const t of n)e=e.add(t);return e}const yO=new Vt(qe);function vO(){return yO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function pT(n){return{integerValue:""+n}}function _O(n,e){return GN(e)?pT(e):vm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function wO(n,e,t){return n instanceof gd?(function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&hm(a)&&(a=fm(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}})(t,e):n instanceof Kl?gT(n,e):n instanceof Gl?yT(n,e):(function(o,a){const u=mT(o,a),h=U_(u)+U_(o.Pe);return xp(u)&&xp(o.Pe)?pT(h):vm(o.serializer,h)})(n,e)}function EO(n,e,t){return n instanceof Kl?gT(n,e):n instanceof Gl?yT(n,e):t}function mT(n,e){return n instanceof yd?(function(i){return xp(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class gd extends zd{}class Kl extends zd{constructor(e){super(),this.elements=e}}function gT(n,e){const t=vT(e);for(const i of n.elements)t.some((o=>Pr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Gl extends zd{constructor(e){super(),this.elements=e}}function yT(n,e){let t=vT(e);for(const i of n.elements)t=t.filter((o=>!Pr(o,i)));return{arrayValue:{values:t}}}class yd extends zd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function U_(n){return pt(n.integerValue||n.doubleValue)}function vT(n){return pm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function TO(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Kl&&o instanceof Kl||i instanceof Gl&&o instanceof Gl?ua(i.elements,o.elements,Pr):i instanceof yd&&o instanceof yd?Pr(i.Pe,o.Pe):i instanceof gd&&o instanceof gd})(n.transform,e.transform)}class SO{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $d{}function _T(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ET(n.key,ri.none()):new lu(n.key,n.data,ri.none());{const t=n.data,i=kn.empty();let o=new Vt(Mt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Js(n.key,i,new Jn(o.toArray()),ri.none())}}function IO(n,e,t){n instanceof lu?(function(o,a,u){const h=o.value.clone(),f=z_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Js?(function(o,a,u){if(!Xc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=z_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(wT(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ll(n,e,t,i){return n instanceof lu?(function(a,u,h,f){if(!Xc(a.precondition,u))return h;const m=a.value.clone(),v=$_(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof Js?(function(a,u,h,f){if(!Xc(a.precondition,u))return h;const m=$_(a.fieldTransforms,f,u),v=u.data;return v.setAll(wT(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(a,u,h){return Xc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function xO(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=mT(i.transform,o||null);a!=null&&(t===null&&(t=kn.empty()),t.set(i.field,a))}return t||null}function B_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ua(i,o,((a,u)=>TO(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lu extends $d{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Js extends $d{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function z_(n,e,t){const i=new Map;Ge(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,EO(u,h,t[o]))}return i}function $_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,wO(a,u,e))}return i}class ET extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CO extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&IO(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ll(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ll(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=fT();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=_T(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,((t,i)=>B_(t,i)))&&ua(this.baseMutations,e.baseMutations,((t,i)=>B_(t,i)))}}class _m{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ge(e.mutations.length===i.length);let o=(function(){return mO})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new _m(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,$e;function bO(n){switch(n){default:return Pe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function TT(n){if(n===void 0)return ui("GRPC error has no .code"),re.UNKNOWN;switch(n){case yt.OK:return re.OK;case yt.CANCELLED:return re.CANCELLED;case yt.UNKNOWN:return re.UNKNOWN;case yt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case yt.INTERNAL:return re.INTERNAL;case yt.UNAVAILABLE:return re.UNAVAILABLE;case yt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case yt.NOT_FOUND:return re.NOT_FOUND;case yt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case yt.ABORTED:return re.ABORTED;case yt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case yt.DATA_LOSS:return re.DATA_LOSS;default:return Pe()}}($e=yt||(yt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Vs([4294967295,4294967295],0);function W_(n){const e=kO().encode(n),t=new qE;return t.update(e),new Uint8Array(t.digest())}function H_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vs([t,i],0),new Vs([o,a],0)]}class wm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new bl(`Invalid padding: ${t}`);if(i<0)throw new bl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new bl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Vs.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(Vs.fromNumber(i)));return o.compare(NO)===1&&(o=new Vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=W_(e),[i,o]=H_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new wm(a,o,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.Ie===0)return;const t=W_(e),[i,o]=H_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Wd(ke.min(),o,new at(qe),ci(),Fe())}}class uu{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new uu(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class ST{constructor(e,t){this.targetId=e,this.me=t}}class IT{constructor(e,t,i=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class q_{constructor(){this.fe=0,this.ge=G_(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),i=Fe();return this.ge.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Pe()}})),new uu(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=G_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OO{constructor(e){this.Le=e,this.Be=new Map,this.ke=ci(),this.qe=K_(),this.Qe=new at(qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Pe()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(Rp(a))if(i===0){const u=new Ie(a.path);this.Ue(t,u,Kt.newNoDocument(u,ke.min()))}else Ge(i===1);else{const u=this.Ye(t);if(u!==i){const h=this.Ze(e),f=h?this.Xe(h,e,u):1;if(f!==0){this.je(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Hs(i).toUint8Array()}catch(f){if(f instanceof tT)return la("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new wm(u,o,a)}catch(f){return la(f instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((a,u)=>{const h=this.Je(u);if(h){if(a.current&&Rp(h.target)){const f=new Ie(h.target.path);this.ke.get(f)!==null||this.it(u,f)||this.Ue(u,f,Kt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}}));let i=Fe();this.qe.forEach(((a,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.ke.forEach(((a,u)=>u.setReadTime(e)));const o=new Wd(e,t,this.Qe,this.ke,i);return this.ke=ci(),this.qe=K_(),this.Qe=new at(qe),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new q_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Vt(qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new q_),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function K_(){return new at(Ie.comparator)}function G_(){return new at(Ie.comparator)}const DO={asc:"ASCENDING",desc:"DESCENDING"},LO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MO={and:"AND",or:"OR"};class VO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pp(n,e){return n.useProto3Json||Fd(e)?e:{value:e}}function vd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FO(n,e){return vd(n,e.toTimestamp())}function Cr(n){return Ge(!!n),ke.fromTimestamp((function(t){const i=ns(t);return new xt(i.seconds,i.nanos)})(n))}function Em(n,e){return bp(n,e).canonicalString()}function bp(n,e){const t=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function CT(n){const e=ut.fromString(n);return Ge(kT(e)),e}function kp(n,e){return Em(n.databaseId,e.path)}function Gf(n,e){const t=CT(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(AT(t))}function RT(n,e){return Em(n.databaseId,e)}function jO(n){const e=CT(n);return e.length===4?ut.emptyPath():AT(e)}function Np(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AT(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Q_(n,e,t){return{name:kp(n,e),fields:t.value.mapValue.fields}}function UO(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(Ge(v===void 0||typeof v=="string"),Ut.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Ut.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?re.UNKNOWN:TT(m.code);return new Se(v,m.message||"")})(u);t=new IT(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Gf(n,i.document.name),a=Cr(i.document.updateTime),u=i.document.createTime?Cr(i.document.createTime):ke.min(),h=new kn({mapValue:{fields:i.document.fields}}),f=Kt.newFoundDocument(o,a,u,h),m=i.targetIds||[],v=i.removedTargetIds||[];t=new Jc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Gf(n,i.document),a=i.readTime?Cr(i.readTime):ke.min(),u=Kt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Jc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Gf(n,i.document),a=i.removedTargetIds||[];t=new Jc([],a,o,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new PO(o,a),h=i.targetId;t=new ST(h,u)}}return t}function BO(n,e){let t;if(e instanceof lu)t={update:Q_(n,e.key,e.value)};else if(e instanceof ET)t={delete:kp(n,e.key)};else if(e instanceof Js)t={update:Q_(n,e.key,e.data),updateMask:YO(e.fieldMask)};else{if(!(e instanceof CO))return Pe();t={verify:kp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const h=u.transform;if(h instanceof gd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Gl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof yd)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Pe()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:FO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()})(n,e.precondition)),t}function zO(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map((t=>(function(o,a){let u=o.updateTime?Cr(o.updateTime):Cr(a);return u.isEqual(ke.min())&&(u=Cr(a)),new SO(u,o.transformResults||[])})(t,e)))):[]}function $O(n,e){return{documents:[RT(n,e.path)]}}function WO(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=RT(n,o);const a=(function(m){if(m.length!==0)return bT(br.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(I){return{field:Yo(I.field),direction:KO(I.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Pp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:t,parent:o}}function HO(n){let e=jO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ge(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(w){const I=PT(w);return I instanceof br&&sT(I)?I.getFilters():[I]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((I=>(function(b){return new md(Xo(b.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(I)))})(t.orderBy));let h=null;t.limit&&(h=(function(w){let I;return I=typeof w=="object"?w.value:w,Fd(I)?null:I})(t.limit));let f=null;t.startAt&&(f=(function(w){const I=!!w.before,R=w.values||[];return new pd(R,I)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const I=!w.before,R=w.values||[];return new pd(R,I)})(t.endAt)),uO(e,o,u,a,h,"F",f,m)}function qO(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Xo(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Xo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xo(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xo(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}})(n):n.fieldFilter!==void 0?(function(t){return It.create(Xo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return br.create(t.compositeFilter.filters.map((i=>PT(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe()}})(t.compositeFilter.op))})(n):Pe()}function KO(n){return DO[n]}function GO(n){return LO[n]}function QO(n){return MO[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function Xo(n){return Mt.fromServerFormat(n.fieldPath)}function bT(n){return n instanceof It?(function(t){if(t.op==="=="){if(L_(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(D_(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(L_(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(D_(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:GO(t.op),value:t.value}}})(n):n instanceof br?(function(t){const i=t.getFilters().map((o=>bT(o)));return i.length===1?i[0]:{compositeFilter:{op:QO(t.op),filters:i}}})(n):Pe()}function YO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function kT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,i,o,a=ke.min(),u=ke.min(),h=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.ct=e}}function JO(n){const e=HO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.un=new eD}addToCollectionParentIndex(e,t){return this.un.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ts.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class eD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Vt(ut.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Vt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ha(0)}static kn(){return new ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.changes=new Sa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Ll(i.mutation,o,Jn.empty(),xt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const o=Ls();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let u=Pl();return a.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Ls();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,o){let a=ci();const u=Dl(),h=(function(){return Dl()})();return t.forEach(((f,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Js)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Ll(v.mutation,m,v.mutation.getFieldMask(),xt.now())):u.set(m.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>{var w;return h.set(m,new nD(v,(w=u.get(m))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,t){const i=Dl();let o=new at(((u,h)=>u-h)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=i.get(f)||Jn.empty();v=h.applyToLocalView(m,v),i.set(f,v);const w=(o.get(h.batchId)||Fe()).add(f);o=o.insert(h.batchId,w)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,w=fT();v.forEach((I=>{if(!a.has(I)){const R=_T(t.get(I),i.get(I));R!==null&&w.set(I,R),a=a.add(I)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return te.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):te.resolve(Ls());let h=-1,f=a;return u.next((m=>te.forEach(m,((v,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((I=>{f=f.insert(v,I)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Fe()))).next((v=>({batchId:h,changes:hT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((i=>{let o=Pl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=Pl();return this.indexManager.getCollectionParents(e,a).next((h=>te.forEach(h,(f=>{const m=(function(w,I){return new jd(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((v=>{v.forEach(((w,I)=>{u=u.insert(w,I)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Kt.newInvalidDocument(v)))}));let h=Pl();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Ll(v.mutation,m,Jn.empty(),xt.now()),Bd(t,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return te.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:JO(o.bundledQuery),readTime:Cr(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.overlays=new at(Ie.comparator),this.Ir=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ls();return te.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.ht(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const o=Ls(),a=t.length+1,u=new Ie(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new at(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=Ls(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=Ls(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=o)););return te.resolve(h)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new AO(t,i));let a=this.Ir.get(t);a===void 0&&(a=Fe(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Tr=new Vt(bt.Er),this.dr=new Vt(bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new bt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new bt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ie(new ut([])),i=new bt(t,e),o=new bt(t,e+1),a=[];return this.dr.forEachInRange([i,o],(u=>{this.Vr(u),a.push(u.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ie(new ut([])),i=new bt(t,e),o=new bt(t,e+1);let a=Fe();return this.dr.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new bt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ie.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Vt(bt.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new RO(a,t,i,o);this.mutationQueue.push(u);for(const h of o)this.br=this.br.add(new bt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],(u=>{const h=this.Dr(u.wr);a.push(h)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Vt(qe);return t.forEach((o=>{const a=new bt(o,0),u=new bt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],(h=>{i=i.add(h.wr)}))})),te.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const u=new bt(new Ie(a),0);let h=new Vt(qe);return this.br.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.wr)),!0)}),u),te.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ge(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return te.forEach(t.mutations,(o=>{const a=new bt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new bt(t,0),o=this.br.firstAfterOrEqual(i);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.Mr=e,this.docs=(function(){return new at(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=ci();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Kt.newInvalidDocument(o))})),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ci();const u=t.path,h=new Ie(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||WN($N(v),i)<=0||(o.has(v.key)||Bd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Pe()}Or(e,t){return te.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new uD(this)}getSize(e){return te.resolve(this.size)}}class uD extends tD{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),te.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.persistence=e,this.Nr=new Sa((t=>mm(t)),gm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tm,this.targetCount=0,this.kr=ha.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),te.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Kn(t),te.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),te.waitFor(a).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.qr={},this.overlays={},this.Qr=new dm(0),this.Kr=!1,this.Kr=!0,this.$r=new oD,this.referenceDelegate=e(this),this.Ur=new cD(this),this.indexManager=new ZO,this.remoteDocumentCache=(function(o){return new lD(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new XO(t),this.Gr=new iD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new aD(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new hD(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((a=>this.referenceDelegate.jr(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Hr(e,t){return te.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class hD extends qN{constructor(e){super(),this.currentSequenceNumber=e}}class Sm{constructor(e){this.persistence=e,this.Jr=new Tm,this.Yr=null}static Zr(e){return new Sm(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),te.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.Xr.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,(i=>{const o=Ie.fromPath(i);return this.ei(e,o).next((a=>{a||t.removeEntry(o,ke.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return te.or([()=>te.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Fe(),o=Fe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Im(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return YP()?8:KN(Gt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.Zi(e,t,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new fD;return this.Xi(e,t,u).next((h=>{if(a.result=h,this.zi)return this.es(e,t,u,h.size)}))})).next((()=>a.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(Sl()<=Ue.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Sl()<=Ue.DEBUG&&ge("QueryEngine","Query:",Qo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Sl()<=Ue.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):te.resolve())}Yi(e,t){if(j_(t))return te.resolve(null);let i=xr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Ap(t,null,"F"),i=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=Fe(...a);return this.Ji.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const m=this.ts(t,h);return this.ns(t,m,u,f.readTime)?this.Yi(e,Ap(t,null,"F")):this.rs(e,m,t,f)}))))})))))}Zi(e,t,i,o){return j_(t)||o.isEqual(ke.min())?te.resolve(null):this.Ji.getDocuments(e,i).next((a=>{const u=this.ts(t,a);return this.ns(t,u,i,o)?te.resolve(null):(Sl()<=Ue.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qo(t)),this.rs(e,u,t,zN(o,-1)).next((h=>h)))}))}ts(e,t){let i=new Vt(cT(e));return t.forEach(((o,a)=>{Bd(e,a)&&(i=i.add(a))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return Sl()<=Ue.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.Ji.getDocumentsMatchingQuery(e,t,ts.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new at(qe),this._s=new Sa((a=>mm(a)),gm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function gD(n,e,t,i){return new mD(n,e,t,i)}async function NT(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],h=[];let f=Fe();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next((m=>({hs:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function yD(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,v){const w=m.batch,I=w.keys();let R=te.resolve();return I.forEach((b=>{R=R.next((()=>v.getEntry(f,b))).next((x=>{const A=m.docVersions.get(b);Ge(A!==null),x.version.compareTo(A)<0&&(w.applyToRemoteDocument(x,m),x.isValidDocument()&&(x.setReadTime(m.commitVersion),v.addEntry(x)))}))})),R.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Fe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function OT(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function vD(n,e){const t=Ne(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((v,w)=>{const I=o.get(w);if(!I)return;h.push(t.Ur.removeMatchingKeys(a,v.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(a,v.addedDocuments,w))));let R=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(Ut.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),o=o.insert(w,R),(function(x,A,j){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(I,R,v)&&h.push(t.Ur.updateTargetData(a,R))}));let f=ci(),m=Fe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(_D(a,u,e.documentUpdates).next((v=>{f=v.Ps,m=v.Is}))),!i.isEqual(ke.min())){const v=t.Ur.getLastRemoteSnapshotVersion(a).next((w=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(v)}return te.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.os=o,a)))}function _D(n,e,t){let i=Fe(),o=Fe();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let u=ci();return t.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Ps:u,Is:o}}))}function wD(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function ED(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((a=>a?(o=a,te.resolve(o)):t.Ur.allocateTargetId(i).next((u=>(o=new Gi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function Op(n,e,t){const i=Ne(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!au(u))throw u;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function Y_(n,e,t){const i=Ne(n);let o=ke.min(),a=Fe();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const w=Ne(f),I=w._s.get(v);return I!==void 0?te.resolve(w.os.get(I)):w.Ur.getTargetData(m,v)})(i,u,xr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,h.targetId).next((f=>{a=f}))})).next((()=>i.ss.getDocumentsMatchingQuery(u,e,t?o:ke.min(),t?a:Fe()))).next((h=>(TD(i,hO(e),h),{documents:h,Ts:a})))))}function TD(n,e,t){let i=n.us.get(e)||ke.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.us.set(e,i)}class X_{constructor(){this.activeTargetIds=vO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SD{constructor(){this.so=new X_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new X_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Qf(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class RD extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,u){const h=Qf(),f=this.xo(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,u),this.No(t,f,m,o).then((v=>(ge("RestConnection",`Received RPC '${t}' ${h}: `,v),v)),(v=>{throw la("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",f,"request:",o),v}))}Lo(t,i,o,a,u,h){return this.Mo(t,i,o,a,u)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ea})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((a,u)=>t[u]=a)),o&&o.headers.forEach(((a,u)=>t[u]=a))}xo(t,i){const o=xD[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=Qf();return new Promise(((u,h)=>{const f=new KE;f.setWithCredentials(!0),f.listenOnce(GE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Qc.NO_ERROR:const v=f.getResponseJson();ge(Ht,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Qc.TIMEOUT:ge(Ht,`RPC '${e}' ${a} timed out`),h(new Se(re.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const w=f.getStatus();if(ge(Ht,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I?.error;if(R&&R.status&&R.message){const b=(function(A){const j=A.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(j)>=0?j:re.UNKNOWN})(R.status);h(new Se(b,R.message))}else h(new Se(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(re.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ge(Ht,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(o);ge(Ht,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)}))}Bo(e,t,i){const o=Qf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=XE(),h=YE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");ge(Ht,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);let I=!1,R=!1;const b=new CD({Io:A=>{R?ge(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(I||(ge(Ht,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),ge(Ht,`RPC '${e}' stream ${o} sending:`,A),w.send(A))},To:()=>w.close()}),x=(A,j,M)=>{A.listen(j,($=>{try{M($)}catch(G){setTimeout((()=>{throw G}),0)}}))};return x(w,Al.EventType.OPEN,(()=>{R||(ge(Ht,`RPC '${e}' stream ${o} transport opened.`),b.yo())})),x(w,Al.EventType.CLOSE,(()=>{R||(R=!0,ge(Ht,`RPC '${e}' stream ${o} transport closed`),b.So())})),x(w,Al.EventType.ERROR,(A=>{R||(R=!0,la(Ht,`RPC '${e}' stream ${o} transport errored:`,A),b.So(new Se(re.UNAVAILABLE,"The operation could not be completed")))})),x(w,Al.EventType.MESSAGE,(A=>{var j;if(!R){const M=A.data[0];Ge(!!M);const $=M,G=$.error||((j=$[0])===null||j===void 0?void 0:j.error);if(G){ge(Ht,`RPC '${e}' stream ${o} received error:`,G);const J=G.status;let ie=(function(N){const L=yt[N];if(L!==void 0)return TT(L)})(J),k=G.message;ie===void 0&&(ie=re.INTERNAL,k="Unknown error status: "+J+" with message "+G.message),R=!0,b.So(new Se(ie,k)),w.close()}else ge(Ht,`RPC '${e}' stream ${o} received:`,M),b.bo(M)}})),x(h,QE.STAT_EVENT,(A=>{A.stat===Sp.PROXY?ge(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Sp.NOPROXY&&ge(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{b.wo()}),0),b}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n){return new VO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t,i,o,a,u,h,f){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new DT(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new Se(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AD extends LT{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=UO(this.serializer,e),i=(function(a){if(!("targetChange"in a))return ke.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?Cr(u.readTime):ke.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=Np(this.serializer),t.addTarget=(function(a,u){let h;const f=u.target;if(h=Rp(f)?{documents:$O(a,f)}:{query:WO(a,f)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=xT(a,u.resumeToken);const m=Pp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(ke.min())>0){h.readTime=vd(a,u.snapshotVersion.toTimestamp());const m=Pp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=qO(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=Np(this.serializer),t.removeTarget=e,this.a_(t)}}class PD extends LT{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=zO(e.writeResults,e.commitTime),i=Cr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=Np(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>BO(this.serializer,i)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Se(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Mo(e,bp(t,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(re.UNKNOWN,a.toString())}))}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Lo(e,bp(t,i),o,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(re.UNKNOWN,u.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class kD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ui(t),this.D_=!1):ge("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((u=>{i.enqueueAndForget((async()=>{Zs(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const m=Ne(f);m.L_.add(4),await cu(m),m.q_.set("Unknown"),m.L_.delete(4),await qd(m)})(this))}))})),this.q_=new kD(i,o)}}async function qd(n){if(Zs(n))for(const e of n.B_)await e(!0)}async function cu(n){for(const e of n.B_)await e(!1)}function MT(n,e){const t=Ne(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Am(t)?Rm(t):Ia(t).r_()&&Cm(t,e))}function xm(n,e){const t=Ne(n),i=Ia(t);t.N_.delete(e),i.r_()&&VT(t,e),t.N_.size===0&&(i.r_()?i.o_():Zs(t)&&t.q_.set("Unknown"))}function Cm(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ia(n).A_(e)}function VT(n,e){n.Q_.xe(e),Ia(n).R_(e)}function Rm(n){n.Q_=new OO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ia(n).start(),n.q_.v_()}function Am(n){return Zs(n)&&!Ia(n).n_()&&n.N_.size>0}function Zs(n){return Ne(n).L_.size===0}function FT(n){n.Q_=void 0}async function OD(n){n.q_.set("Online")}async function DD(n){n.N_.forEach(((e,t)=>{Cm(n,e)}))}async function LD(n,e){FT(n),Am(n)?(n.q_.M_(e),Rm(n)):n.q_.set("Unknown")}async function MD(n,e,t){if(n.q_.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.N_.delete(h),o.Q_.removeTarget(h))})(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _d(n,i)}else if(e instanceof Jc?n.Q_.Ke(e):e instanceof ST?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ke.min()))try{const i=await OT(n.localStore);t.compareTo(i)>=0&&await(function(a,u){const h=a.Q_.rt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.N_.get(m);v&&a.N_.set(m,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const v=a.N_.get(f);if(!v)return;a.N_.set(f,v.withResumeToken(Ut.EMPTY_BYTE_STRING,v.snapshotVersion)),VT(a,f);const w=new Gi(v.target,f,m,v.sequenceNumber);Cm(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await _d(n,i)}}async function _d(n,e,t){if(!au(e))throw e;n.L_.add(1),await cu(n),n.q_.set("Offline"),t||(t=()=>OT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await qd(n)}))}function jT(n,e){return e().catch((t=>_d(n,t,e)))}async function Kd(n){const e=Ne(n),t=rs(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;VD(e);)try{const o=await wD(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,FD(e,o)}catch(o){await _d(e,o)}UT(e)&&BT(e)}function VD(n){return Zs(n)&&n.O_.length<10}function FD(n,e){n.O_.push(e);const t=rs(n);t.r_()&&t.V_&&t.m_(e.mutations)}function UT(n){return Zs(n)&&!rs(n).n_()&&n.O_.length>0}function BT(n){rs(n).start()}async function jD(n){rs(n).p_()}async function UD(n){const e=rs(n);for(const t of n.O_)e.m_(t.mutations)}async function BD(n,e,t){const i=n.O_.shift(),o=_m.from(i,e,t);await jT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Kd(n)}async function zD(n,e){e&&rs(n).V_&&await(async function(i,o){if((function(u){return bO(u)&&u!==re.ABORTED})(o.code)){const a=i.O_.shift();rs(i).s_(),await jT(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Kd(i)}})(n,e),UT(n)&&BT(n)}async function Z_(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=Zs(t);t.L_.add(3),await cu(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await qd(t)}async function $D(n,e){const t=Ne(n);e?(t.L_.delete(2),await qd(t)):e||(t.L_.add(2),await cu(t),t.q_.set("Unknown"))}function Ia(n){return n.K_||(n.K_=(function(t,i,o){const a=Ne(t);return a.w_(),new AD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:OD.bind(null,n),Ro:DD.bind(null,n),mo:LD.bind(null,n),d_:MD.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),Am(n)?Rm(n):n.q_.set("Unknown")):(await n.K_.stop(),FT(n))}))),n.K_}function rs(n){return n.U_||(n.U_=(function(t,i,o){const a=Ne(t);return a.w_(),new PD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:jD.bind(null,n),mo:zD.bind(null,n),f_:UD.bind(null,n),g_:BD.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await Kd(n)):(await n.U_.stop(),n.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,h=new Pm(e,t,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(n,e){if(ui("AsyncQueue",`${e}: ${n}`),au(n))return new Se(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=Pl(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new sa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.W_=new at(Ie.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class fa{constructor(e,t,i,o,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new fa(e,t,sa.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class HD{constructor(){this.queries=tw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Ne(t),a=o.queries;o.queries=tw(),a.forEach(((u,h)=>{for(const f of h.j_)f.onError(i)}))})(this,new Se(re.ABORTED,"Firestore shutting down"))}}function tw(){return new Sa((n=>uT(n)),Ud)}async function qD(n,e){const t=Ne(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new WD,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=bm(u,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&km(t)}async function KD(n,e){const t=Ne(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function GD(n,e){const t=Ne(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.j_)h.X_(o)&&(i=!0);u.z_=o}}i&&km(t)}function QD(n,e,t){const i=Ne(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function km(n){n.Y_.forEach((e=>{e.next()}))}var Dp,nw;(nw=Dp||(Dp={})).ea="default",nw.Cache="cache";class YD{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new fa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.key=e}}class $T{constructor(e){this.key=e}}class XD{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=cT(e),this.Ra=new sa(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new ew,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const I=o.get(v),R=Bd(this.query,w)?w:null,b=!!I&&this.mutatedKeys.has(I.key),x=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let A=!1;I&&R?I.data.isEqual(R.data)?b!==x&&(i.track({type:3,doc:R}),A=!0):this.ga(I,R)||(i.track({type:2,doc:R}),A=!0,(f&&this.Aa(R,f)>0||m&&this.Aa(R,m)<0)&&(h=!0)):!I&&R?(i.track({type:0,doc:R}),A=!0):I&&!R&&(i.track({type:1,doc:I}),A=!0,(f||m)&&(h=!0)),A&&(R?(u=u.add(R),a=x?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{Ra:u,fa:i,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort(((v,w)=>(function(R,b){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return x(R)-x(b)})(v.type,w.type)||this.Aa(v.doc,w.doc))),this.pa(i),o=o!=null&&o;const h=t&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,m=f!==this.Ea;return this.Ea=f,u.length!==0||m?{snapshot:new fa(this.query,e.Ra,a,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ew,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new $T(i))})),this.da.forEach((i=>{e.has(i)||t.push(new zT(i))})),t}ba(e){this.Ta=e.Ts,this.da=Fe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return fa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class JD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ZD{constructor(e){this.key=e,this.va=!1}}class eL{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Sa((h=>uT(h)),Ud),this.Ma=new Map,this.xa=new Set,this.Oa=new at(Ie.comparator),this.Na=new Map,this.La=new Tm,this.Ba={},this.ka=new Map,this.qa=ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tL(n,e,t=!0){const i=QT(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await WT(i,e,t,!0),o}async function nL(n,e){const t=QT(n);await WT(t,e,!0,!1)}async function WT(n,e,t,i){const o=await ED(n.localStore,xr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await rL(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&MT(n.remoteStore,o),h}async function rL(n,e,t,i,o){n.Ka=(w,I,R)=>(async function(x,A,j,M){let $=A.view.ma(j);$.ns&&($=await Y_(x.localStore,A.query,!1).then((({documents:k})=>A.view.ma(k,$))));const G=M&&M.targetChanges.get(A.targetId),J=M&&M.targetMismatches.get(A.targetId)!=null,ie=A.view.applyChanges($,x.isPrimaryClient,G,J);return iw(x,A.targetId,ie.wa),ie.snapshot})(n,w,I,R);const a=await Y_(n.localStore,e,!0),u=new XD(e,a.Ts),h=u.ma(a.documents),f=uu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,f);iw(n,t,m.wa);const v=new JD(e,t,u);return n.Fa.set(e,v),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot}async function iL(n,e,t){const i=Ne(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter((u=>!Ud(u,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&xm(i.remoteStore,o.targetId),Lp(i,o.targetId)})).catch(ou)):(Lp(i,o.targetId),await Op(i.localStore,o.targetId,!0))}async function sL(n,e){const t=Ne(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),xm(t.remoteStore,i.targetId))}async function oL(n,e,t){const i=fL(n);try{const o=await(function(u,h){const f=Ne(u),m=xt.now(),v=h.reduce(((R,b)=>R.add(b.key)),Fe());let w,I;return f.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let b=ci(),x=Fe();return f.cs.getEntries(R,v).next((A=>{b=A,b.forEach(((j,M)=>{M.isValidDocument()||(x=x.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(R,b))).next((A=>{w=A;const j=[];for(const M of h){const $=xO(M,w.get(M.key).overlayedDocument);$!=null&&j.push(new Js(M.key,$,nT($.value.mapValue),ri.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,j,h)})).next((A=>{I=A;const j=A.applyToLocalDocumentSet(w,x);return f.documentOverlayCache.saveOverlays(R,A.batchId,j)}))})).then((()=>({batchId:I.batchId,changes:hT(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,h,f){let m=u.Ba[u.currentUser.toKey()];m||(m=new at(qe)),m=m.insert(h,f),u.Ba[u.currentUser.toKey()]=m})(i,o.batchId,t),await du(i,o.changes),await Kd(i.remoteStore)}catch(o){const a=bm(o,"Failed to persist write");t.reject(a)}}async function HT(n,e){const t=Ne(n);try{const i=await vD(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Na.get(a);u&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?Ge(u.va):o.removedDocuments.size>0&&(Ge(u.va),u.va=!1))})),await du(t,i,e)}catch(i){await ou(i)}}function rw(n,e,t){const i=Ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((a,u)=>{const h=u.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const f=Ne(u);f.onlineState=h;let m=!1;f.queries.forEach(((v,w)=>{for(const I of w.j_)I.Z_(h)&&(m=!0)})),m&&km(f)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function aL(n,e,t){const i=Ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let u=new at(Ie.comparator);u=u.insert(a,Kt.newNoDocument(a,ke.min()));const h=Fe().add(a),f=new Wd(ke.min(),new Map,new at(qe),u,h);await HT(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(e),Nm(i)}else await Op(i.localStore,e,!1).then((()=>Lp(i,e,t))).catch(ou)}async function lL(n,e){const t=Ne(n),i=e.batch.batchId;try{const o=await yD(t.localStore,e);KT(t,i,null),qT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await du(t,o)}catch(o){await ou(o)}}async function uL(n,e,t){const i=Ne(n);try{const o=await(function(u,h){const f=Ne(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next((w=>(Ge(w!==null),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(i.localStore,e);KT(i,e,t),qT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await du(i,o)}catch(o){await ou(o)}}function qT(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function KT(n,e,t){const i=Ne(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function Lp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((i=>{n.La.containsKey(i)||GT(n,i)}))}function GT(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(xm(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Nm(n))}function iw(n,e,t){for(const i of t)i instanceof zT?(n.La.addReference(i.key,e),cL(n,i)):i instanceof $T?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||GT(n,i.key)):Pe()}function cL(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.xa.add(i),Nm(n))}function Nm(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ie(ut.fromString(e)),i=n.qa.next();n.Na.set(i,new ZD(t)),n.Oa=n.Oa.insert(t,i),MT(n.remoteStore,new Gi(xr(ym(t.path)),i,"TargetPurposeLimboResolution",dm.oe))}}async function du(n,e,t){const i=Ne(n),o=[],a=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,f)=>{u.push(i.Ka(f,e,t).then((m=>{var v;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(v=t?.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Im.Wi(f.targetId,m);a.push(w)}})))})),await Promise.all(u),i.Ca.d_(o),await(async function(f,m){const v=Ne(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(m,(I=>te.forEach(I.$i,(R=>v.persistence.referenceDelegate.addReference(w,I.targetId,R))).next((()=>te.forEach(I.Ui,(R=>v.persistence.referenceDelegate.removeReference(w,I.targetId,R)))))))))}catch(w){if(!au(w))throw w;ge("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const I=w.targetId;if(!w.fromCache){const R=v.os.get(I),b=R.snapshotVersion,x=R.withLastLimboFreeSnapshotVersion(b);v.os=v.os.insert(I,x)}}})(i.localStore,a))}async function dL(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await NT(t.localStore,e);t.currentUser=e,(function(a,u){a.ka.forEach((h=>{h.forEach((f=>{f.reject(new Se(re.CANCELLED,u))}))})),a.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await du(t,i.hs)}}function hL(n,e){const t=Ne(n),i=t.Na.get(e);if(i&&i.va)return Fe().add(i.key);{let o=Fe();const a=t.Ma.get(e);if(!a)return o;for(const u of a){const h=t.Fa.get(u);o=o.unionWith(h.view.Va)}return o}}function QT(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aL.bind(null,e),e.Ca.d_=GD.bind(null,e.eventManager),e.Ca.$a=QD.bind(null,e.eventManager),e}function fL(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uL.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return gD(this.persistence,new pD,e.initialUser,this.serializer)}Ga(e){return new dD(Sm.Zr,this.serializer)}Wa(e){return new SD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class Mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dL.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HD})()}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),i=(function(a){return new RD(a)})(e.databaseInfo);return(function(a,u,h,f){return new bD(a,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,u,h){return new ND(i,o,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>rw(this.syncEngine,t,0)),(function(){return J_.D()?new J_:new ID})())}createSyncEngine(e,t){return(function(o,a,u,h,f,m,v){const w=new eL(o,a,u,h,f,m);return v&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Ne(o);ge("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await cu(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=ZE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{ge("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=bm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Xf(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await NT(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function sw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gL(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Z_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>Z_(e.remoteStore,o))),n._onlineComponents=e}async function gL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;la("Error using user provided cache. Falling back to memory cache: "+t),await Xf(n,new wd)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Xf(n,new wd);return n._offlineComponents}async function YT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await sw(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await sw(n,new Mp))),n._onlineComponents}function yL(n){return YT(n).then((e=>e.syncEngine))}async function vL(n){const e=await YT(n),t=e.eventManager;return t.onListen=tL.bind(null,e.syncEngine),t.onUnlisten=iL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sL.bind(null,e.syncEngine),t}function _L(n,e,t={}){const i=new Ji;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,f,m){const v=new pL({next:I=>{v.Za(),u.enqueueAndForget((()=>KD(a,w)));const R=I.docs.has(h);!R&&I.fromCache?m.reject(new Se(re.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&f&&f.source==="server"?m.reject(new Se(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),w=new YD(ym(h.path),v,{includeMetadataChanges:!0,_a:!0});return qD(a,w)})(await vL(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n,e,t){if(!t)throw new Se(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EL(n,e,t,i){if(e===!0&&i===!0)throw new Se(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aw(n){if(!Ie.isDocumentKey(n))throw new Se(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe()}function Ql(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Om(n);throw new Se(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lw(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ON;switch(i.type){case"firstParty":return new VN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=ow.get(t);i&&(ge("ComponentProvider","Removing Datastore"),ow.delete(t),i.terminate())})(this),Promise.resolve()}}function TL(n,e,t,i={}){var o;const a=(n=Ql(n,Dm))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=qt.MOCK_USER;else{h=WP(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Se(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qt(m)}n._authCredentials=new DN(new JE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Lm(this.firestore,e,this._query)}}class On{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Yl extends Lm{constructor(e,t,i){super(e,t,ym(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ie(e))}withConverter(e){return new Yl(this.firestore,e,this._path)}}function JT(n,e,...t){if(n=jt(n),arguments.length===1&&(e=ZE.newId()),wL("doc","path",e),n instanceof Dm){const i=ut.fromString(e,...t);return aw(i),new On(n,null,new Ie(i))}{if(!(n instanceof On||n instanceof Yl))throw new Se(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return aw(i),new On(n.firestore,n instanceof Yl?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new DT(this,"async_queue_retry"),this.Vu=()=>{const i=Yf();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=Yf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Yf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ji;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!au(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h})(i);throw ui("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Pm.createAndSchedule(this,e,t,i,(a=>this.yu(a)));return this.Tu.push(o),o}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Mm extends Dm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new uw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function SL(n,e){const t=typeof n=="object"?n:tm(),i=typeof n=="string"?n:"(default)",o=Ys(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=zP("firestore");a&&TL(o,...a)}return o}function ZT(n){if(n._terminated)throw new Se(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IL(n),n._firestoreClient}function IL(n){var e,t,i;const o=n._freezeSettings(),a=(function(h,f,m,v){return new YN(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,XT(v.experimentalLongPollingOptions),v.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new mL(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Ut.fromBase64String(e))}catch(t){throw new Se(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pa(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=/^__.*__$/;class CL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}function tS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Um{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ed(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tS(this.Cu)&&xL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class RL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hd(e)}Qu(e,t,i,o=!1){return new Um({Cu:e,methodName:t,qu:i,path:Mt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AL(n){const e=n._freezeSettings(),t=Hd(n._databaseId);return new RL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PL(n,e,t,i,o,a={}){const u=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);sS("Data must be an object, but it was:",u,i);const h=rS(i,u);let f,m;if(a.merge)f=new Jn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const I=bL(e,w,t);if(!u.contains(I))throw new Se(re.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);NL(v,I)||v.push(I)}f=new Jn(v),m=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=u.fieldTransforms;return new CL(new kn(h),f,m)}function nS(n,e){if(iS(n=jt(n)))return sS("Unsupported field value:",e,n),rS(n,e);if(n instanceof eS)return(function(i,o){if(!tS(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const h of i){let f=nS(h,o.Lu(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _O(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xt.fromDate(i);return{timestampValue:vd(o.serializer,a)}}if(i instanceof xt){const a=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vd(o.serializer,a)}}if(i instanceof Fm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pa)return{bytesValue:xT(o.serializer,i._byteString)};if(i instanceof On){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Em(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof jm)return(function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return vm(h.serializer,f)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${Om(i)}`)})(n,e)}function rS(n,e){const t={};return eT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(n,((i,o)=>{const a=nS(o,e.Mu(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function iS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Fm||n instanceof pa||n instanceof On||n instanceof eS||n instanceof jm)}function sS(n,e,t){if(!iS(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=Om(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function bL(n,e,t){if((e=jt(e))instanceof Vm)return e._internalPath;if(typeof e=="string")return oS(n,e);throw Ed("Field path arguments must be of type string or ",n,!1,void 0,t)}const kL=new RegExp("[~\\*/\\[\\]]");function oS(n,e,t){if(e.search(kL)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vm(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ed(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new Se(re.INVALID_ARGUMENT,h+n+f)}function NL(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OL extends aS{data(){return super.data()}}function lS(n,e){return typeof e=="string"?oS(n,e):e instanceof Vm?e._internalPath:e._delegate._internalPath}class DL{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ta(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((u=>pt(u.doubleValue)));return new jm(a)}convertGeoPoint(e){return new Fm(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const t=ns(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ut.fromString(e);Ge(kT(i));const o=new Hl(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(t)||ui(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uS extends aS{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new VL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(lS("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class VL extends uS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n){n=Ql(n,On);const e=Ql(n.firestore,Mm);return _L(ZT(e),n._key).then((t=>zL(e,n,t)))}class jL extends DL{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function UL(n,e,t){n=Ql(n,On);const i=Ql(n.firestore,Mm),o=LL(n.converter,e);return BL(i,[PL(AL(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ri.none())])}function BL(n,e){return(function(i,o){const a=new Ji;return i.asyncQueue.enqueueAndForget((async()=>oL(await yL(i),o,a))),a.promise})(ZT(n),e)}function zL(n,e,t){const i=t.docs.get(e._key),o=new jL(n);return new uS(n,o,e._key,i,new ML(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ea=o})(_a),Ar(new tr("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Mm(new LN(i.getProvider("auth-internal")),new jN(i.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(m.options.projectId,v)})(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Nn(P_,"4.7.3",e),Nn(P_,"4.7.3","esm2017")})();var $L="firebase",WL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn($L,WL,"app");const cS="@firebase/installations",Bm="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1e4,hS=`w:${Bm}`,fS="FIS_v2",HL="https://firebaseinstallations.googleapis.com/v1",qL=3600*1e3,KL="installations",GL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ks=new Qs(KL,GL,QL);function pS(n){return n instanceof ir&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS({projectId:n}){return`${HL}/projects/${n}/installations`}function gS(n){return{token:n.token,requestStatus:2,expiresIn:XL(n.expiresIn),creationTime:Date.now()}}async function yS(n,e){const i=(await e.json()).error;return Ks.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function vS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function YL(n,{refreshToken:e}){const t=vS(n);return t.append("Authorization",JL(e)),t}async function _S(n){const e=await n();return e.status>=500&&e.status<600?n():e}function XL(n){return Number(n.replace("s","000"))}function JL(n){return`${fS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=mS(n),o=vS(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:fS,appId:n.appId,sdkVersion:hS},h={method:"POST",headers:o,body:JSON.stringify(u)},f=await _S(()=>fetch(i,h));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:gS(m.authToken)}}else throw await yS("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^[cdef][\w-]{21}$/,Vp="";function n2(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=r2(n);return t2.test(t)?t:Vp}catch{return Vp}}function r2(n){return e2(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Map;function TS(n,e){const t=Gd(n);SS(t,e),i2(t,e)}function SS(n,e){const t=ES.get(n);if(t)for(const i of t)i(e)}function i2(n,e){const t=s2();t&&t.postMessage({key:n,fid:e}),o2()}let Ms=null;function s2(){return!Ms&&"BroadcastChannel"in self&&(Ms=new BroadcastChannel("[Firebase] FID Change"),Ms.onmessage=n=>{SS(n.data.key,n.data.fid)}),Ms}function o2(){ES.size===0&&Ms&&(Ms.close(),Ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebase-installations-database",l2=1,Gs="firebase-installations-store";let Jf=null;function zm(){return Jf||(Jf=lE(a2,l2,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Gs)}}})),Jf}async function Td(n,e){const t=Gd(n),o=(await zm()).transaction(Gs,"readwrite"),a=o.objectStore(Gs),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&TS(n,e.fid),e}async function IS(n){const e=Gd(n),i=(await zm()).transaction(Gs,"readwrite");await i.objectStore(Gs).delete(e),await i.done}async function Qd(n,e){const t=Gd(n),o=(await zm()).transaction(Gs,"readwrite"),a=o.objectStore(Gs),u=await a.get(t),h=e(u);return h===void 0?await a.delete(t):await a.put(h,t),await o.done,h&&(!u||u.fid!==h.fid)&&TS(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(n){let e;const t=await Qd(n.appConfig,i=>{const o=u2(i),a=c2(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Vp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function u2(n){const e=n||{fid:n2(),registrationStatus:0};return xS(e)}function c2(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ks.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=d2(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:h2(n)}:{installationEntry:e}}async function d2(n,e){try{const t=await ZL(n,e);return Td(n.appConfig,t)}catch(t){throw pS(t)&&t.customData.serverCode===409?await IS(n.appConfig):await Td(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function h2(n){let e=await cw(n.appConfig);for(;e.registrationStatus===1;)await wS(100),e=await cw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await $m(n);return i||t}return e}function cw(n){return Qd(n,e=>{if(!e)throw Ks.create("installation-not-found");return xS(e)})}function xS(n){return f2(n)?{fid:n.fid,registrationStatus:0}:n}function f2(n){return n.registrationStatus===1&&n.registrationTime+dS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2({appConfig:n,heartbeatServiceProvider:e},t){const i=m2(n,t),o=YL(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:hS,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(u)},f=await _S(()=>fetch(i,h));if(f.ok){const m=await f.json();return gS(m)}else throw await yS("Generate Auth Token",f)}function m2(n,{fid:e}){return`${mS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(n,e=!1){let t;const i=await Qd(n.appConfig,a=>{if(!CS(a))throw Ks.create("not-registered");const u=a.authToken;if(!e&&v2(u))return a;if(u.requestStatus===1)return t=g2(n,e),a;{if(!navigator.onLine)throw Ks.create("app-offline");const h=w2(a);return t=y2(n,h),h}});return t?await t:i.authToken}async function g2(n,e){let t=await dw(n.appConfig);for(;t.authToken.requestStatus===1;)await wS(100),t=await dw(n.appConfig);const i=t.authToken;return i.requestStatus===0?Wm(n,e):i}function dw(n){return Qd(n,e=>{if(!CS(e))throw Ks.create("not-registered");const t=e.authToken;return E2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function y2(n,e){try{const t=await p2(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Td(n.appConfig,i),t}catch(t){if(pS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await IS(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Td(n.appConfig,i)}throw t}}function CS(n){return n!==void 0&&n.registrationStatus===2}function v2(n){return n.requestStatus===2&&!_2(n)}function _2(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+qL}function w2(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function E2(n){return n.requestStatus===1&&n.requestTime+dS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(n){const e=n,{installationEntry:t,registrationPromise:i}=await $m(e);return i?i.catch(console.error):Wm(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(n,e=!1){const t=n;return await I2(t),(await Wm(t,e)).token}async function I2(n){const{registrationPromise:e}=await $m(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){if(!n||!n.options)throw Zf("App Configuration");if(!n.name)throw Zf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Zf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Zf(n){return Ks.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="installations",C2="installations-internal",R2=n=>{const e=n.getProvider("app").getImmediate(),t=x2(e),i=Ys(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},A2=n=>{const e=n.getProvider("app").getImmediate(),t=Ys(e,RS).getImmediate();return{getId:()=>T2(t),getToken:o=>S2(t,o)}};function P2(){Ar(new tr(RS,R2,"PUBLIC")),Ar(new tr(C2,A2,"PRIVATE"))}P2();Nn(cS,Bm);Nn(cS,Bm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="analytics",b2="firebase_id",k2="origin",N2=60*1e3,O2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Dd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new Qs("analytics","Analytics",D2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(n){if(!n.startsWith(Hm)){const e=wn.create("invalid-gtag-resource",{gtagURL:n});return un.warn(e.message),""}return n}function AS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function M2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function V2(n,e){const t=M2("firebase-js-sdk-policy",{createScriptURL:L2}),i=document.createElement("script"),o=`${Hm}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function F2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function j2(n,e,t,i,o,a){const u=i[o];try{if(u)await e[u];else{const f=(await AS(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(h){un.error(h)}n("config",o,a)}async function U2(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const h=await AS(t);for(const f of u){const m=h.find(w=>w.measurementId===f),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){un.error(a)}}function B2(n,e,t,i){async function o(a,...u){try{if(a==="event"){const[h,f]=u;await U2(n,e,t,h,f)}else if(a==="config"){const[h,f]=u;await j2(n,e,t,i,h,f)}else if(a==="consent"){const[h,f]=u;n("consent",h,f)}else if(a==="get"){const[h,f,m]=u;n("get",h,f,m)}else if(a==="set"){const[h]=u;n("set",h)}else n(a,...u)}catch(h){un.error(h)}}return o}function z2(n,e,t,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=B2(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function $2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Hm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=30,H2=1e3;class q2{constructor(e={},t=H2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const PS=new q2;function K2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function G2(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:K2(i)},a=O2.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let h="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function Q2(n,e=PS,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw wn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw wn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new J2;return setTimeout(async()=>{h.abort()},N2),bS({appId:i,apiKey:o,measurementId:a},u,h,e)}async function bS(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=PS){var a;const{appId:u,measurementId:h}=n;try{await Y2(i,e)}catch(f){if(h)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:u,measurementId:h};throw f}try{const f=await G2(n);return o.deleteThrottleMetadata(u),f}catch(f){const m=f;if(!X2(m)){if(o.deleteThrottleMetadata(u),h)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw f}const v=Number((a=m?.customData)===null||a===void 0?void 0:a.httpStatus)===503?e_(t,o.intervalMillis,W2):e_(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(u,w),un.debug(`Calling attemptFetch again in ${v} millis`),bS(n,w,i,o)}}function Y2(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function X2(n){if(!(n instanceof ir)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class J2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Z2(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(){if(iE())try{await sE()}catch(n){return un.warn(wn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return un.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tM(n,e,t,i,o,a,u){var h;const f=Q2(n);f.then(R=>{t[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>un.error(R)),e.push(f);const m=eM().then(R=>{if(R)return i.getId()}),[v,w]=await Promise.all([f,m]);$2(a)||V2(a,v.measurementId),o("js",new Date);const I=(h=u?.config)!==null&&h!==void 0?h:{};return I[k2]="firebase",I.update=!0,w!=null&&(I[b2]=w),o("config",v.measurementId,I),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.app=e}_delete(){return delete Ml[this.app.options.appId],Promise.resolve()}}let Ml={},hw=[];const fw={};let ep="dataLayer",rM="gtag",pw,kS,mw=!1;function iM(){const n=[];if(rE()&&n.push("This is a browser extension environment."),XP()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=wn.create("invalid-analytics-context",{errorInfo:e});un.warn(t.message)}}function sM(n,e,t){iM();const i=n.options.appId;if(!i)throw wn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Ml[i]!=null)throw wn.create("already-exists",{id:i});if(!mw){F2(ep);const{wrappedGtag:a,gtagCore:u}=z2(Ml,hw,fw,ep,rM);kS=a,pw=u,mw=!0}return Ml[i]=tM(n,hw,fw,e,pw,ep,t),new nM(n)}function oM(n=tm()){n=jt(n);const e=Ys(n,Sd);return e.isInitialized()?e.getImmediate():aM(n)}function aM(n,e={}){const t=Ys(n,Sd);if(t.isInitialized()){const o=t.getImmediate();if(Ul(e,t.getOptions()))return o;throw wn.create("already-initialized")}return t.initialize({options:e})}function lM(n,e,t,i){n=jt(n),Z2(kS,Ml[n.app.options.appId],e,t,i).catch(o=>un.error(o))}const gw="@firebase/analytics",yw="0.10.8";function uM(){Ar(new tr(Sd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return sM(i,o,t)},"PUBLIC")),Ar(new tr("analytics-internal",n,"PRIVATE")),Nn(gw,yw),Nn(gw,yw,"esm2017");function n(e){try{const t=e.getProvider(Sd).getImmediate();return{logEvent:(i,o,a)=>lM(t,i,o,a)}}catch(t){throw wn.create("interop-component-reg-failed",{reason:t})}}}uM();const cM={apiKey:"AIzaSyBXQ_4m20pfx0ASdbQ1llCFkC51AF0ZB6A",authDomain:"spark-d.firebaseapp.com",projectId:"spark-d",storageBucket:"spark-d.firebasestorage.app",messagingSenderId:"577293031414",appId:"1:577293031414:web:053c2bf775489b1c84d9d7",measurementId:"G-QCEYJP63ZS"},qm=uE(cM),Yd=kN(qm),NS=SL(qm);typeof window<"u"&&oM(qm);const dM=async(n,e,t)=>{try{if(!n.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");const i=await h1(Yd,n,e),o=i.user;await g1(o,{displayName:`${t.firstName} ${t.lastName}`}),await p1(o);const a={uid:o.uid,email:o.email,...t,createdAt:new Date,updatedAt:new Date,isVerified:!1};return await UL(JT(NS,"users",o.uid),a),i}catch(i){throw console.error("Sign up error:",i),new Error(OS(i.code))}},hM=async(n,e)=>{try{return await f1(Yd,n,e)}catch(t){throw console.error("Sign in error:",t),new Error(OS(t.code))}},fM=async()=>{try{await w1(Yd)}catch(n){throw console.error("Sign out error:",n),new Error("Failed to sign out")}},pM=async n=>{try{const e=await FL(JT(NS,"users",n));return e.exists()?e.data():null}catch(e){throw console.error("Get user profile error:",e),new Error("Failed to get user profile")}},OS=n=>{switch(n){case"auth/email-already-in-use":return"An account with this email already exists";case"auth/invalid-email":return"Invalid email address";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/too-many-requests":return"Too many failed attempts. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";default:return"An error occurred. Please try again"}},mM=Ow("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function DS({className:n,variant:e,...t}){return S.jsx("div",{"data-slot":"alert",role:"alert",className:Dn(mM({variant:e}),n),...t})}function LS({className:n,...e}){return S.jsx("div",{"data-slot":"alert-description",className:Dn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function gM(){const[n,e]=T.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",age:"",major:"",year:"",bio:""}),[t,i]=T.useState(1),[o,a]=T.useState(!1),[u,h]=T.useState(""),[f,m]=T.useState(!1),v=(b,x)=>{e(A=>({...A,[b]:x}))},w=()=>{t<3&&i(t+1)},I=()=>{t>1&&i(t-1)},R=async b=>{b.preventDefault(),h(""),a(!0);try{if(n.password!==n.confirmPassword)throw new Error("Passwords do not match");if(n.password.length<6)throw new Error("Password must be at least 6 characters long");if(!n.firstName||!n.lastName||!n.email||!n.password||!n.age||!n.major||!n.year)throw new Error("Please fill in all required fields");if(!n.email.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");const x=parseInt(n.age);if(x<18||x>100)throw new Error("Please enter a valid age (18-100)");await dM(n.email,n.password,{firstName:n.firstName.trim(),lastName:n.lastName.trim(),age:n.age,major:n.major.trim(),year:n.year,bio:n.bio.trim()}),m(!0)}catch(x){h(x.message||"An error occurred during sign up")}finally{a(!1)}};return f?S.jsx("div",{className:"w-full max-w-md mx-auto text-center",children:S.jsxs("div",{className:"bg-green-900/20 border border-green-700/30 rounded-lg p-6",children:[S.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx("span",{className:"text-2xl",children:"✓"})}),S.jsx("h2",{className:"text-white text-xl mb-2",children:"Account Created Successfully!"}),S.jsxs("p",{className:"text-green-200/80 mb-4",children:["We've sent a verification email to ",S.jsx("strong",{children:n.email}),". Please check your inbox and click the verification link to activate your account."]}),S.jsx("p",{className:"text-green-200/60 text-sm",children:"Once verified, you'll be able to sign in and start connecting with fellow Sun Devils!"})]})}):S.jsxs("div",{className:"w-full max-w-md mx-auto",children:[u&&S.jsx(DS,{className:"mb-6 bg-red-900/20 border-red-700/30",children:S.jsx(LS,{className:"text-red-200",children:u})}),S.jsx("div",{className:"flex justify-center mb-8",children:S.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(b=>S.jsx("div",{className:`w-2 h-2 rounded-full ${b===t||b<t?"bg-green-500":"bg-gray-600"}`},b))})}),S.jsxs("form",{onSubmit:R,className:"space-y-6",children:[t===1&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("h2",{className:"text-white mb-2",children:"Let's get started!"}),S.jsx("p",{className:"text-gray-400",children:"Tell us about yourself"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"firstName",className:"text-white",children:"First Name"}),S.jsx($i,{id:"firstName",value:n.firstName,onChange:b=>v("firstName",b.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter first name",required:!0})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"lastName",className:"text-white",children:"Last Name"}),S.jsx($i,{id:"lastName",value:n.lastName,onChange:b=>v("lastName",b.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter last name",required:!0})]})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"email",className:"text-white",children:"ASU Email"}),S.jsx($i,{id:"email",type:"email",value:n.email,onChange:b=>v("email",b.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"yourname@asu.edu",pattern:".*@asu\\.edu$",required:!0}),S.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must use your ASU email address"})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"password",className:"text-white",children:"Password"}),S.jsx($i,{id:"password",type:"password",value:n.password,onChange:b=>v("password",b.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Create a secure password",required:!0})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"confirmPassword",className:"text-white",children:"Confirm Password"}),S.jsx($i,{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:b=>v("confirmPassword",b.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Confirm your password",required:!0})]})]}),t===2&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("h2",{className:"text-white mb-2",children:"Academic Info"}),S.jsx("p",{className:"text-gray-400",children:"Help us connect you with fellow Sun Devils"})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"age",className:"text-white",children:"Age"}),S.jsxs(Gv,{onValueChange:b=>v("age",b),children:[S.jsx(Yv,{className:"bg-gray-800 border-gray-700 text-white",children:S.jsx(Qv,{placeholder:"Select your age"})}),S.jsx(Xv,{className:"bg-gray-800 border-gray-700",children:Array.from({length:13},(b,x)=>x+18).map(b=>S.jsx(Go,{value:b.toString(),className:"text-white hover:bg-gray-700",children:b},b))})]})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"major",className:"text-white",children:"Major"}),S.jsx($i,{id:"major",value:n.major,onChange:b=>v("major",b.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"e.g., Business Administration",required:!0})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"year",className:"text-white",children:"Year"}),S.jsxs(Gv,{onValueChange:b=>v("year",b),children:[S.jsx(Yv,{className:"bg-gray-800 border-gray-700 text-white",children:S.jsx(Qv,{placeholder:"Select your year"})}),S.jsxs(Xv,{className:"bg-gray-800 border-gray-700",children:[S.jsx(Go,{value:"freshman",className:"text-white hover:bg-gray-700",children:"Freshman"}),S.jsx(Go,{value:"sophomore",className:"text-white hover:bg-gray-700",children:"Sophomore"}),S.jsx(Go,{value:"junior",className:"text-white hover:bg-gray-700",children:"Junior"}),S.jsx(Go,{value:"senior",className:"text-white hover:bg-gray-700",children:"Senior"}),S.jsx(Go,{value:"graduate",className:"text-white hover:bg-gray-700",children:"Graduate Student"})]})]})]})]}),t===3&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("h2",{className:"text-white mb-2",children:"Tell us about yourself"}),S.jsx("p",{className:"text-gray-400",children:"What makes you unique?"})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"bio",className:"text-white",children:"Bio"}),S.jsx(DP,{id:"bio",value:n.bio,onChange:b=>v("bio",b.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500 min-h-[120px]",placeholder:"Tell other Sun Devils about yourself! What do you love about ASU? What are you looking for?",maxLength:300}),S.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n.bio.length,"/300 characters"]})]}),S.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[S.jsx("h4",{className:"text-white mb-2",children:"Almost done! 🎉"}),S.jsx("p",{className:"text-gray-400 text-sm",children:"By creating an account, you agree to our Terms of Service and Privacy Policy. We'll verify your ASU student status before activating your account."})]})]}),S.jsxs("div",{className:"flex justify-between pt-4",children:[t>1&&S.jsx(Qi,{type:"button",onClick:I,variant:"outline",className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Back"}),t<3?S.jsx(Qi,{type:"button",onClick:w,className:"bg-yellow-600 hover:bg-yellow-700 text-black ml-auto",children:"Next"}):S.jsx(Qi,{type:"submit",className:"bg-yellow-600 hover:bg-yellow-700 text-black ml-auto",disabled:o,children:o?"Creating Account...":"Create Account"})]})]})]})}function yM({onToggleMode:n}){const[e,t]=T.useState({email:"",password:""}),[i,o]=T.useState(!1),[a,u]=T.useState(""),h=(m,v)=>{t(w=>({...w,[m]:v}))},f=async m=>{m.preventDefault(),u(""),o(!0);try{if(!e.email||!e.password)throw new Error("Please fill in all fields");if(!e.email.endsWith("@asu.edu"))throw new Error("Please use your ASU email address");await hM(e.email,e.password)}catch(v){u(v.message||"An error occurred during sign in")}finally{o(!1)}};return S.jsxs("div",{className:"w-full max-w-md mx-auto",children:[S.jsxs("div",{className:"text-center mb-6",children:[S.jsx("h2",{className:"text-white text-2xl mb-2",children:"Welcome Back!"}),S.jsx("p",{className:"text-gray-400",children:"Sign in to your Spark'd account"})]}),S.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a&&S.jsx(DS,{className:"bg-red-900/20 border-red-700/30",children:S.jsx(LS,{className:"text-red-200",children:a})}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"email",className:"text-white",children:"ASU Email"}),S.jsx($i,{id:"email",type:"email",value:e.email,onChange:m=>h("email",m.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"yourname@asu.edu",required:!0})]}),S.jsxs("div",{children:[S.jsx(Yn,{htmlFor:"password",className:"text-white",children:"Password"}),S.jsx($i,{id:"password",type:"password",value:e.password,onChange:m=>h("password",m.target.value),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500",placeholder:"Enter your password",required:!0})]}),S.jsx(Qi,{type:"submit",className:"w-full bg-yellow-600 hover:bg-yellow-700 text-black",disabled:i,children:i?"Signing In...":"Sign In"}),S.jsx("div",{className:"text-center",children:S.jsxs("p",{className:"text-gray-500 text-sm",children:["Don't have an account?"," ",S.jsx(Qi,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:n,children:"Sign Up"})]})})]})]})}const MS=T.createContext({user:null,userProfile:null,loading:!0}),Km=()=>{const n=T.useContext(MS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},vM=({children:n})=>{const[e,t]=T.useState(null),[i,o]=T.useState(null),[a,u]=T.useState(!0);return T.useEffect(()=>{const h=_1(Yd,async f=>{if(t(f),f)try{const m=await pM(f.uid);o(m)}catch(m){console.error("Error fetching user profile:",m),o(null)}else o(null);u(!1)});return()=>h()},[]),S.jsx(MS.Provider,{value:{user:e,userProfile:i,loading:a},children:n})};/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vw="popstate";function _M(n={}){function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return Fp("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Xl(o)}return EM(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wM(){return Math.random().toString(36).substring(2,10)}function _w(n,e){return{usr:n.state,key:n.key,idx:e}}function Fp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xa(e):e,state:t,key:e&&e.key||i||wM()}}function Xl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function EM(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function w(){h="POP";let A=v(),j=A==null?null:A-m;m=A,f&&f({action:h,location:x.location,delta:j})}function I(A,j){h="PUSH";let M=Fp(x.location,A,j);m=v()+1;let $=_w(M,m),G=x.createHref(M);try{u.pushState($,"",G)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(G)}a&&f&&f({action:h,location:x.location,delta:1})}function R(A,j){h="REPLACE";let M=Fp(x.location,A,j);m=v();let $=_w(M,m),G=x.createHref(M);u.replaceState($,"",G),a&&f&&f({action:h,location:x.location,delta:0})}function b(A){return TM(A)}let x={get action(){return h},get location(){return n(o,u)},listen(A){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(vw,w),f=A,()=>{o.removeEventListener(vw,w),f=null}},createHref(A){return e(o,A)},createURL:b,encodeLocation(A){let j=b(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:I,replace:R,go(A){return u.go(A)}};return x}function TM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Xl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function VS(n,e,t="/"){return SM(n,e,t,!1)}function SM(n,e,t,i){let o=typeof e=="string"?xa(e):e,a=di(o.pathname||"/",t);if(a==null)return null;let u=FS(n);IM(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=LM(a);h=OM(u[f],m,i)}return h}function FS(n,e=[],t=[],i="",o=!1){let a=(u,h,f=o,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;it(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let w=ii([i,v.relativePath]),I=t.concat(v);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),FS(u.children,e,I,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:kM(w,u.index),routesMeta:I})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))a(u,h);else for(let f of jS(u.path))a(u,h,!0,f)}),e}function jS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=jS(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function IM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var xM=/^:[\w-]+$/,CM=3,RM=2,AM=1,PM=10,bM=-2,ww=n=>n==="*";function kM(n,e){let t=n.split("/"),i=t.length;return t.some(ww)&&(i+=bM),e&&(i+=RM),t.filter(o=>!ww(o)).reduce((o,a)=>o+(xM.test(a)?CM:a===""?AM:PM),i)}function NM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function OM(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=Id({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),I=f.route;if(!w&&m&&t&&!i[i.length-1].route.index&&(w=Id({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:ii([a,w.pathname]),pathnameBase:jM(ii([a,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(a=ii([a,w.pathnameBase]))}return u}function Id(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=DM(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:w},I)=>{if(v==="*"){let b=h[I]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const R=h[I];return w&&!R?m[v]=void 0:m[v]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function DM(n,e=!1,t=!0){rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function LM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function di(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function MM(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?xa(n):n;return{pathname:t?t.startsWith("/")?t:VM(t,e):e,search:UM(i),hash:BM(o)}}function VM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function tp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gm(n){let e=FM(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Qm(n,e,t,i=!1){let o;typeof n=="string"?o=xa(n):(o={...n},it(!o.pathname||!o.pathname.includes("?"),tp("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),tp("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),tp("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!i&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}h=w>=0?e[w]:"/"}let f=MM(o,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var ii=n=>n.join("/").replace(/\/\/+/g,"/"),jM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var US=["POST","PUT","PATCH","DELETE"];new Set(US);var $M=["GET",...US];new Set($M);var Ca=T.createContext(null);Ca.displayName="DataRouter";var Xd=T.createContext(null);Xd.displayName="DataRouterState";T.createContext(!1);var BS=T.createContext({isTransitioning:!1});BS.displayName="ViewTransition";var WM=T.createContext(new Map);WM.displayName="Fetchers";var HM=T.createContext(null);HM.displayName="Await";var sr=T.createContext(null);sr.displayName="Navigation";var hu=T.createContext(null);hu.displayName="Location";var or=T.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Ym=T.createContext(null);Ym.displayName="RouteError";function qM(n,{relative:e}={}){it(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=T.useContext(sr),{hash:o,pathname:a,search:u}=fu(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ii([t,a])),i.createHref({pathname:h,search:u,hash:o})}function Ra(){return T.useContext(hu)!=null}function os(){return it(Ra(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(hu).location}var zS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $S(n){T.useContext(sr).static||T.useLayoutEffect(n)}function WS(){let{isDataRoute:n}=T.useContext(or);return n?aV():KM()}function KM(){it(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Ca),{basename:e,navigator:t}=T.useContext(sr),{matches:i}=T.useContext(or),{pathname:o}=os(),a=JSON.stringify(Gm(i)),u=T.useRef(!1);return $S(()=>{u.current=!0}),T.useCallback((f,m={})=>{if(rr(u.current,zS),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=Qm(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ii([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}var GM=T.createContext(null);function QM(n){let e=T.useContext(or).outlet;return e&&T.createElement(GM.Provider,{value:n},e)}function fu(n,{relative:e}={}){let{matches:t}=T.useContext(or),{pathname:i}=os(),o=JSON.stringify(Gm(t));return T.useMemo(()=>Qm(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function YM(n,e){return HS(n,e)}function HS(n,e,t,i,o){it(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(sr),{matches:u}=T.useContext(or),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let M=w&&w.path||"";qS(m,!w||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let I=os(),R;if(e){let M=typeof e=="string"?xa(e):e;it(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),R=M}else R=I;let b=R.pathname||"/",x=b;if(v!=="/"){let M=v.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=VS(n,{pathname:x});rr(w||A!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),rr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=tV(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:ii([v,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:ii([v,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,t,i,o);return e&&j?T.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},j):j}function XM(){let n=oV(),e=zM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:o},t):null,u)}var JM=T.createElement(XM,null),ZM=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?T.createElement(or.Provider,{value:this.props.routeContext},T.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eV({routeContext:n,match:e,children:t}){let i=T.useContext(Ca);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(or.Provider,{value:n},t)}function tV(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t?.errors;if(u!=null){let m=a.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);it(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:w,errors:I}=t,R=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||R){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,v,w)=>{let I,R=!1,b=null,x=null;t&&(I=u&&v.route.id?u[v.route.id]:void 0,b=v.route.errorElement||JM,h&&(f<0&&w===0?(qS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,x=null):f===w&&(R=!0,x=v.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,w+1)),j=()=>{let M;return I?M=b:R?M=x:v.route.Component?M=T.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=m,T.createElement(eV,{match:v,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:M})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?T.createElement(ZM,{location:t.location,revalidation:t.revalidation,component:b,error:I,children:j(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:i}):j()},null)}function Xm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nV(n){let e=T.useContext(Ca);return it(e,Xm(n)),e}function rV(n){let e=T.useContext(Xd);return it(e,Xm(n)),e}function iV(n){let e=T.useContext(or);return it(e,Xm(n)),e}function Jm(n){let e=iV(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sV(){return Jm("useRouteId")}function oV(){let n=T.useContext(Ym),e=rV("useRouteError"),t=Jm("useRouteError");return n!==void 0?n:e.errors?.[t]}function aV(){let{router:n}=nV("useNavigate"),e=Jm("useNavigate"),t=T.useRef(!1);return $S(()=>{t.current=!0}),T.useCallback(async(o,a={})=>{rr(t.current,zS),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Ew={};function qS(n,e,t){!e&&!Ew[n]&&(Ew[n]=!0,rr(!1,t))}T.memo(lV);function lV({routes:n,future:e,state:t,unstable_onError:i}){return HS(n,void 0,t,i,e)}function Tw({to:n,replace:e,state:t,relative:i}){it(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(sr);rr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(or),{pathname:u}=os(),h=WS(),f=Qm(n,Gm(a),u,i==="path"),m=JSON.stringify(f);return T.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function uV(n){return QM(n.context)}function zi(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cV({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){it(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=T.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=xa(t));let{pathname:f="/",search:m="",hash:v="",state:w=null,key:I="default"}=t,R=T.useMemo(()=>{let b=di(f,u);return b==null?null:{location:{pathname:b,search:m,hash:v,state:w,key:I},navigationType:i}},[u,f,m,v,w,I,i]);return rr(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:T.createElement(sr.Provider,{value:h},T.createElement(hu.Provider,{children:e,value:R}))}function Sw({children:n,location:e}){return YM(jp(n),e)}function jp(n,e=[]){let t=[];return T.Children.forEach(n,(i,o)=>{if(!T.isValidElement(i))return;let a=[...e,o];if(i.type===T.Fragment){t.push.apply(t,jp(i.props.children,a));return}it(i.type===zi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=jp(i.props.children,a)),t.push(u)}),t}var Zc="get",ed="application/x-www-form-urlencoded";function Jd(n){return n!=null&&typeof n.tagName=="string"}function dV(n){return Jd(n)&&n.tagName.toLowerCase()==="button"}function hV(n){return Jd(n)&&n.tagName.toLowerCase()==="form"}function fV(n){return Jd(n)&&n.tagName.toLowerCase()==="input"}function pV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mV(n,e){return n.button===0&&(!e||e==="_self")&&!pV(n)}var Uc=null;function gV(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var yV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function np(n){return n!=null&&!yV.has(n)?(rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ed}"`),null):n}function vV(n,e){let t,i,o,a,u;if(hV(n)){let h=n.getAttribute("action");i=h?di(h,e):null,t=n.getAttribute("method")||Zc,o=np(n.getAttribute("enctype"))||ed,a=new FormData(n)}else if(dV(n)||fV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?di(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Zc,o=np(n.getAttribute("formenctype"))||np(h.getAttribute("enctype"))||ed,a=new FormData(h,n),!gV()){let{name:m,type:v,value:w}=n;if(v==="image"){let I=m?`${m}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else m&&a.append(m,w)}}else{if(Jd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zc,i=null,o=ed,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _V(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&di(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function wV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function TV(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await wV(a,t);return u.links?u.links():[]}return[]}));return CV(i.flat(1).filter(EV).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Iw(n,e,t,i,o,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>t[m].pathname!==f.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function SV(n,e,{includeHydrateFallback:t}={}){return IV(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function IV(n){return[...new Set(n)]}function xV(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function CV(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(xV(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function KS(){let n=T.useContext(Ca);return Zm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RV(){let n=T.useContext(Xd);return Zm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var eg=T.createContext(void 0);eg.displayName="FrameworkContext";function GS(){let n=T.useContext(eg);return Zm(n,"You must render this element inside a <HydratedRouter> element"),n}function AV(n,e){let t=T.useContext(eg),[i,o]=T.useState(!1),[a,u]=T.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=e,I=T.useRef(null);T.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let x=j=>{j.forEach(M=>{u(M.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return I.current&&A.observe(I.current),()=>{A.disconnect()}}},[n]),T.useEffect(()=>{if(i){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[i]);let R=()=>{o(!0)},b=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:Il(h,R),onBlur:Il(f,b),onMouseEnter:Il(m,R),onMouseLeave:Il(v,b),onTouchStart:Il(w,R)}]:[!1,I,{}]}function Il(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function PV({page:n,...e}){let{router:t}=KS(),i=T.useMemo(()=>VS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?T.createElement(kV,{page:n,matches:i,...e}):null}function bV(n){let{manifest:e,routeModules:t}=GS(),[i,o]=T.useState([]);return T.useEffect(()=>{let a=!1;return TV(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function kV({page:n,matches:e,...t}){let i=os(),{manifest:o,routeModules:a}=GS(),{basename:u}=KS(),{loaderData:h,matches:f}=RV(),m=T.useMemo(()=>Iw(n,e,f,o,i,"data"),[n,e,f,o,i]),v=T.useMemo(()=>Iw(n,e,f,o,i,"assets"),[n,e,f,o,i]),w=T.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,x=!1;if(e.forEach(j=>{let M=o.routes[j.route.id];!M||!M.hasLoader||(!m.some($=>$.route.id===j.route.id)&&j.route.id in h&&a[j.route.id]?.shouldRevalidate||M.hasClientLoader?x=!0:b.add(j.route.id))}),b.size===0)return[];let A=_V(n,u,"data");return x&&b.size>0&&A.searchParams.set("_routes",e.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[A.pathname+A.search]},[u,h,i,o,m,e,n,a]),I=T.useMemo(()=>SV(v,o),[v,o]),R=bV(v);return T.createElement(T.Fragment,null,w.map(b=>T.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),I.map(b=>T.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),R.map(({key:b,link:x})=>T.createElement("link",{key:b,nonce:t.nonce,...x})))}function NV(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QS&&(window.__reactRouterVersion="7.9.1")}catch{}function OV({basename:n,children:e,window:t}){let i=T.useRef();i.current==null&&(i.current=_M({window:t,v5Compat:!0}));let o=i.current,[a,u]=T.useState({action:o.action,location:o.location}),h=T.useCallback(f=>{T.startTransition(()=>u(f))},[u]);return T.useLayoutEffect(()=>o.listen(h),[o,h]),T.createElement(cV,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tg=T.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:w,...I},R){let{basename:b}=T.useContext(sr),x=typeof m=="string"&&YS.test(m),A,j=!1;if(typeof m=="string"&&x&&(A=m,QS))try{let N=new URL(window.location.href),L=m.startsWith("//")?new URL(N.protocol+m):new URL(m),F=di(L.pathname,b);L.origin===N.origin&&F!=null?m=F+L.search+L.hash:j=!0}catch{rr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=qM(m,{relative:o}),[$,G,J]=AV(i,I),ie=MV(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:w});function k(N){e&&e(N),N.defaultPrevented||ie(N)}let P=T.createElement("a",{...I,...J,href:A||M,onClick:j||a?e:k,ref:NV(R,G),target:f,"data-discover":!x&&t==="render"?"true":void 0});return $&&!x?T.createElement(T.Fragment,null,P,T.createElement(PV,{page:M})):P});tg.displayName="Link";var XS=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...m},v){let w=fu(u,{relative:m.relative}),I=os(),R=T.useContext(Xd),{navigator:b,basename:x}=T.useContext(sr),A=R!=null&&BV(w)&&h===!0,j=b.encodeLocation?b.encodeLocation(w).pathname:w.pathname,M=I.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(M=M.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&x&&($=di($,x)||$);const G=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let J=M===j||!o&&M.startsWith(j)&&M.charAt(G)==="/",ie=$!=null&&($===j||!o&&$.startsWith(j)&&$.charAt(j.length)==="/"),k={isActive:J,isPending:ie,isTransitioning:A},P=J?e:void 0,N;typeof i=="function"?N=i(k):N=[i,J?"active":null,ie?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(k):a;return T.createElement(tg,{...m,"aria-current":P,className:N,ref:v,style:L,to:u,viewTransition:h},typeof f=="function"?f(k):f)});XS.displayName="NavLink";var DV=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=Zc,action:h,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:w,...I},R)=>{let b=jV(),x=UV(h,{relative:m}),A=u.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&YS.test(h),M=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let G=$.nativeEvent.submitter,J=G?.getAttribute("formmethod")||u;b(G||$.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:w})};return T.createElement("form",{ref:R,method:A,action:x,onSubmit:i?f:M,...I,"data-discover":!j&&n==="render"?"true":void 0})});DV.displayName="Form";function LV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JS(n){let e=T.useContext(Ca);return it(e,LV(n)),e}function MV(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=WS(),f=os(),m=fu(n,{relative:a});return T.useCallback(v=>{if(mV(v,e)){v.preventDefault();let w=t!==void 0?t:Xl(f)===Xl(m);h(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,t,i,e,n,o,a,u])}var VV=0,FV=()=>`__${String(++VV)}__`;function jV(){let{router:n}=JS("useSubmit"),{basename:e}=T.useContext(sr),t=sV();return T.useCallback(async(i,o={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=vV(i,e);if(o.navigate===!1){let v=o.fetcherKey||FV();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function UV(n,{relative:e}={}){let{basename:t}=T.useContext(sr),i=T.useContext(or);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...fu(n||".",{relative:e})},u=os();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ii([t,a.pathname])),Xl(a)}function BV(n,{relative:e}={}){let t=T.useContext(BS);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=JS("useViewTransitionState"),o=fu(n,{relative:e});if(!t.isTransitioning)return!1;let a=di(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=di(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Id(o.pathname,u)!=null||Id(o.pathname,a)!=null}function xw({children:n}){return S.jsxs("div",{className:"min-h-screen bg-black relative",children:[S.jsx("div",{className:"absolute inset-0 z-0",children:S.jsx("div",{className:"absolute inset-0 bg-black"})}),S.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[S.jsx("header",{className:"bg-[#8B4B6B] px-6 py-4 shadow-md",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs(tg,{to:"/app/discover",className:"flex items-center space-x-3",children:[S.jsx("img",{src:Pw,alt:"Spark'd Logo",className:"w-8 h-8"}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-white font-medium",children:"Sun Devil Match"}),S.jsx("p",{className:"text-white/80 text-sm",children:"ASU Dating & Date Planning"})]})]}),S.jsx(Qi,{onClick:()=>fM().catch(console.error),variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Sign Out"})]})}),S.jsx("main",{className:"flex-1 overflow-y-auto pb-20",children:n??S.jsx(uV,{})}),S.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-gray-800",children:S.jsxs("div",{className:"max-w-2xl mx-auto grid grid-cols-4",children:[S.jsx(Bc,{to:"/app/discover",label:"Discover",icon:"❤️"}),S.jsx(Bc,{to:"/app/matches",label:"Matches",icon:"👥"}),S.jsx(Bc,{to:"/app/profile",label:"Profile",icon:"👤"}),S.jsx(Bc,{to:"/app/settings",label:"Settings",icon:"⚙️"})]})})]})]})}function Bc({to:n,label:e,icon:t}){return S.jsxs(XS,{to:n,className:({isActive:i})=>`px-6 py-3 flex flex-col items-center justify-center ${i?"text-white":"text-gray-400"}`,children:[S.jsx("span",{className:"text-lg leading-none",children:t}),S.jsx("span",{className:"text-xs mt-1",children:e})]})}const ZS=T.createContext(void 0),zV=[{id:"emma",name:"Emma",age:20,distanceMi:.5,major:"Business Administration",year:"Junior",bio:"Love hiking Camelback Mountain and trying new restaurants in Tempe! Always down for a study session at the MU or catching a Sun Devils game.",interests:["Hiking","Sun Devils Sports","Photography"]},{id:"noah",name:"Noah",age:21,distanceMi:1.2,major:"Computer Science",year:"Senior",bio:"Building side projects, coffee at Cartel, and pickup basketball at the SDFC.",interests:["Hackathons","Coffee","Basketball"]},{id:"maya",name:"Maya",age:19,distanceMi:.3,major:"Psychology",year:"Sophomore",bio:"Book club, art museum trips, and late-night In-N-Out runs.",interests:["Reading","Art","Foodie"]}];function $V({children:n}){const[e]=T.useState(zV),[t,i]=T.useState(0),[o,a]=T.useState(()=>{try{const w=localStorage.getItem("sdm_matches");return w?JSON.parse(w):[]}catch{return[]}});T.useEffect(()=>{try{localStorage.setItem("sdm_matches",JSON.stringify(o))}catch{}},[o]);const u=T.useMemo(()=>t<e.length?e[t]:null,[t,e]),h=T.useCallback(()=>{u&&(a(w=>w.find(I=>I.id===u.id)?w:[...w,u]),i(w=>w+1))},[u]),f=T.useCallback(()=>{i(w=>w+1)},[]),m=T.useCallback(()=>{i(0)},[]),v={profiles:e,currentIndex:t,currentProfile:u,likeCurrent:h,passCurrent:f,matches:o,resetDiscover:m};return S.jsx(ZS.Provider,{value:v,children:n})}function eI(){const n=T.useContext(ZS);if(!n)throw new Error("useDating must be used within a DatingProvider");return n}function WV(){const{currentProfile:n,likeCurrent:e,passCurrent:t,currentIndex:i,profiles:o,resetDiscover:a}=eI();return n?S.jsx("div",{className:"px-4 py-6 flex justify-center",children:S.jsx("div",{className:"w-full max-w-md",children:S.jsxs("div",{className:"bg-gray-900 rounded-2xl overflow-hidden border border-gray-800",children:[S.jsx("div",{className:"h-72 bg-gray-800 flex items-center justify-center text-gray-500",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-3xl mb-2",children:"🖼️"}),S.jsx("p",{children:"Photo placeholder"})]})}),S.jsxs("div",{className:"p-5 bg-gradient-to-b from-black/20 to-black/40",children:[S.jsxs("div",{className:"text-white text-2xl mb-1",children:[n.name,", ",n.age," ",S.jsxs("span",{className:"text-gray-400 text-base",children:["📍 ",n.distanceMi," mi"]})]}),S.jsxs("div",{className:"text-gray-300 text-sm mb-4",children:["🎓 ",n.major," • ",n.year]}),S.jsx("p",{className:"text-gray-300 mb-4",children:n.bio}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.interests.map(u=>S.jsx("span",{className:"px-3 py-1 rounded-full bg-gray-800 text-gray-200 text-xs border border-gray-700",children:u},u))}),S.jsxs("div",{className:"flex items-center justify-center gap-6 pb-4",children:[S.jsx("button",{"aria-label":"Pass",onClick:t,className:"w-16 h-16 rounded-full border border-gray-700 text-gray-300 hover:bg-gray-800 transition-colors",children:"👎"}),S.jsx("button",{"aria-label":"Like",onClick:e,className:"w-16 h-16 rounded-full border border-yellow-600 text-yellow-400 hover:bg-yellow-900/20 transition-colors",children:"👍"})]}),S.jsxs("div",{className:"text-center text-gray-500 text-xs pb-4",children:[i+1," / ",o.length]})]})]})})}):S.jsxs("div",{className:"px-6 py-12 max-w-2xl mx-auto text-center",children:[S.jsx("div",{className:"text-3xl mb-4",children:"💔"}),S.jsx("h2",{className:"text-white text-2xl mb-2",children:"No matches yet"}),S.jsx("p",{className:"text-gray-400",children:"Keep swiping to find your perfect Sun Devil match!"}),S.jsx("button",{onClick:a,className:"mt-6 bg-yellow-600 hover:bg-yellow-700 text-black py-2 px-4 rounded-lg transition-colors",children:"Restart Discover"})]})}function HV(){const{matches:n}=eI();return n.length===0?S.jsxs("div",{className:"px-6 py-12 max-w-2xl mx-auto text-center",children:[S.jsx("div",{className:"text-3xl mb-4",children:"💔"}),S.jsx("h2",{className:"text-white text-2xl mb-2",children:"No matches yet"}),S.jsx("p",{className:"text-gray-400",children:"Keep swiping to find your perfect Sun Devil match!"})]}):S.jsxs("div",{className:"px-6 py-8 max-w-2xl mx-auto",children:[S.jsx("h2",{className:"text-white text-xl mb-4",children:"Your Matches"}),S.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map(e=>S.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-4",children:[S.jsx("div",{className:"h-28 bg-gray-800 rounded mb-3"}),S.jsxs("div",{className:"text-white font-medium",children:[e.name,", ",e.age]}),S.jsx("div",{className:"text-gray-400 text-sm",children:e.major})]},e.id))})]})}function qV(){const{user:n,userProfile:e}=Km();return S.jsxs("div",{className:"px-6 py-8 max-w-2xl mx-auto",children:[S.jsx("h2",{className:"text-white text-2xl mb-6",children:"Your Profile"}),S.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-800 overflow-hidden",children:[S.jsx("div",{className:"h-56 bg-gray-800"}),S.jsxs("div",{className:"p-6 grid grid-cols-2 gap-4 text-gray-300",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Name"}),S.jsxs("div",{className:"text-white",children:[e?.firstName," ",e?.lastName]})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Age"}),S.jsx("div",{className:"text-white",children:e?.age??"—"})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Major"}),S.jsx("div",{className:"text-white",children:e?.major??"—"})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Year"}),S.jsx("div",{className:"text-white capitalize",children:e?.year??"—"})]}),S.jsxs("div",{className:"col-span-2",children:[S.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Bio"}),S.jsx("div",{className:"text-gray-300",children:e?.bio??"Tell other Sun Devils about yourself!"})]})]})]})]})}function KV(){const{user:n}=Km();return S.jsxs("div",{className:"px-6 py-8 max-w-2xl mx-auto",children:[S.jsx("h2",{className:"text-white text-2xl mb-6",children:"Settings"}),S.jsx("div",{className:"bg-gray-900 rounded-2xl border border-gray-800 overflow-hidden",children:S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsxs("section",{children:[S.jsx("h3",{className:"text-white text-lg mb-3",children:"Account"}),S.jsx("div",{className:"bg-black/40 rounded-lg border border-gray-800 p-4",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-gray-400 text-sm",children:"Email"}),S.jsx("div",{className:"text-white",children:n?.email})]}),S.jsx("span",{className:"text-xs bg-green-500 text-black px-2 py-1 rounded",children:"Verified"})]})})]}),S.jsxs("section",{children:[S.jsx("h3",{className:"text-white text-lg mb-3",children:"Discovery Preferences"}),S.jsx("div",{className:"text-gray-400",children:"Coming soon"})]})]})})]})}function GV(){const[n,e]=T.useState(!0),{user:t,userProfile:i,loading:o}=Km();return o?S.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),S.jsx("div",{className:"text-white text-xl",children:"Loading Spark'd..."}),S.jsx("p",{className:"text-gray-400 mt-2",children:"Please wait while we set up your experience"})]})}):t?S.jsx(OV,{children:S.jsxs($V,{children:[S.jsx(Sw,{children:S.jsx(zi,{path:"/app",element:S.jsx(xw,{children:S.jsx("div",{})}),children:S.jsx(zi,{index:!0,element:S.jsx(Tw,{to:"discover",replace:!0})})})}),S.jsx(xw,{children:S.jsxs(Sw,{children:[S.jsx(zi,{path:"/",element:S.jsx(Tw,{to:"/app/discover",replace:!0})}),S.jsx(zi,{path:"/app/discover",element:S.jsx(WV,{})}),S.jsx(zi,{path:"/app/matches",element:S.jsx(HV,{})}),S.jsx(zi,{path:"/app/profile",element:S.jsx(qV,{})}),S.jsx(zi,{path:"/app/settings",element:S.jsx(KV,{})})]})})]})}):S.jsxs("div",{className:"min-h-screen bg-black relative",children:[S.jsxs("div",{className:"absolute inset-0 z-0",children:[S.jsx("img",{src:fx,alt:"ASU Campus",className:"w-full h-full object-cover blur-sm"}),S.jsx("div",{className:"absolute inset-0 bg-black/75"})]}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("div",{className:"bg-[#8B4B6B] px-6 py-4",children:S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("img",{src:Pw,alt:"Spark'd Logo",className:"w-8 h-8"}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-white font-medium",children:"Spark'd"}),S.jsx("p",{className:"text-white/80 text-sm",children:"Where the Devil dates"})]})]})}),S.jsx("div",{className:"px-6 py-12",children:S.jsxs("div",{className:"max-w-2xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h1",{className:"text-white text-3xl mb-4",children:"Welcome to Spark'd"}),S.jsx("p",{className:"text-gray-400 text-lg max-w-md mx-auto",children:"Connect with fellow Sun Devils and discover your perfect match on campus"})]}),S.jsx("div",{className:"bg-gray-900 rounded-2xl p-8 border border-gray-800",children:n?S.jsx(gM,{}):S.jsx(yM,{onToggleMode:()=>e(!0)})}),S.jsx("div",{className:"text-center mt-8",children:S.jsx("p",{className:"text-gray-500 text-sm",children:n?S.jsxs(S.Fragment,{children:["Already have an account?"," ",S.jsx(Qi,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:()=>e(!1),children:"Sign In"})]}):S.jsxs(S.Fragment,{children:["Don't have an account?"," ",S.jsx(Qi,{variant:"link",className:"text-yellow-500 hover:text-yellow-400 p-0 h-auto",onClick:()=>e(!0),children:"Sign Up"})]})})}),S.jsx("div",{className:"mt-8 p-4 bg-yellow-900/20 border border-yellow-700/30 rounded-lg",children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:S.jsx("span",{className:"text-black text-xs",children:"ⓘ"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-yellow-400 font-medium mb-1",children:"ASU Student Verification"}),S.jsx("p",{className:"text-yellow-200/80 text-sm",children:"Only verified ASU students can join Spark'd. We'll send a verification email to your ASU address to confirm your student status."})]})]})})]})})]})]})}hx.createRoot(document.getElementById("root")).render(S.jsx(vM,{children:S.jsx(GV,{})}));
